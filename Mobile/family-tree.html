<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>شجرة العائلة - آل الشعيل</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/src/styles/variables.css">
  <link rel="stylesheet" href="/src/styles/components.css">
  <link rel="stylesheet" href="/src/styles/rtl-enhancements.css">
  <link rel="stylesheet" href="/src/pages/family-tree.css">
</head>
<body>
  <header class="page-header">
    <div class="header-container">
      <button class="header-back-btn" id="backBtn"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7" /></svg>رجوع</button>
      <h1 class="header-title">شجرة العائلة</h1>
      <button class="header-action-btn" id="searchBtn"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8" /><path d="M21 21l-4.35-4.35" /></svg></button>
    </div>
  </header>

  <div class="page-container">
    <div class="page-content">
      <div class="card search-card" id="searchCard" style="display:none">
        <input type="text" id="searchInput" class="form-input" placeholder="ابحث عن عضو...">
      </div>

      <div class="card stats-card">
        <div class="stat-item"><div class="stat-label">إجمالي الأعضاء</div><div class="stat-value" id="totalMembers">0</div></div>
        <div class="stat-item"><div class="stat-label">الأقسام</div><div class="stat-value" id="totalSections">8</div></div>
        <div class="stat-item"><div class="stat-label">الأعضاء النشطون</div><div class="stat-value" id="activeMembers">0</div></div>
      </div>

      <div class="section">
        <h3 class="section-title">الأقسام العائلية</h3>
        <div id="sectionsList"></div>
      </div>

      <div class="section" id="membersSection" style="display:none">
        <div class="section-header">
          <h3 class="section-title">الأعضاء</h3>
          <button class="btn btn-sm btn-secondary" id="backToSections">رجوع للأقسام</button>
        </div>
        <div id="membersList"></div>
      </div>
    </div>
  </div>

  <div class="modal-backdrop" id="memberModal" style="display:none">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title" id="memberName">تفاصيل العضو</h3>
        <button class="modal-close" id="closeModalBtn"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12" /></svg></button>
      </div>
      <div class="modal-body">
        <div class="member-avatar-large"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2" /><circle cx="12" cy="7" r="4" /></svg></div>
        <div class="member-details-grid">
          <div class="detail-row"><span class="detail-label">رقم العضوية</span><span id="detailId">-</span></div>
          <div class="detail-row"><span class="detail-label">رقم الجوال</span><span id="detailPhone">-</span></div>
          <div class="detail-row"><span class="detail-label">القسم</span><span id="detailSection">-</span></div>
          <div class="detail-row"><span class="detail-label">الحالة</span><span id="detailStatus" class="badge badge-success">نشط</span></div>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="/src/components/navigation.js"></script>
  <script type="module" src="/src/pages/family-tree.js"></script>
</body>
</html>
