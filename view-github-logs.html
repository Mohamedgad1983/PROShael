<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Actions Log Viewer</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        .instruction-box {
            background: #f7f9fc;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .step {
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            line-height: 30px;
            border-radius: 50%;
            margin-right: 10px;
            font-weight: bold;
        }
        .link-button {
            display: inline-block;
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            margin: 10px 5px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .link-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
        }
        .error-section {
            background: #fff5f5;
            border-left: 4px solid #fc8181;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .success-section {
            background: #f0fff4;
            border-left: 4px solid #48bb78;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .common-errors {
            margin-top: 30px;
        }
        .error-item {
            margin: 15px 0;
            padding: 15px;
            background: #fffaf0;
            border-radius: 8px;
            border: 1px solid #feb2b2;
        }
        .error-title {
            font-weight: bold;
            color: #c53030;
            margin-bottom: 8px;
        }
        .solution {
            color: #2d3748;
            margin-top: 8px;
            padding-left: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä GitHub Actions Log Viewer Guide</h1>

        <div class="instruction-box">
            <h2>üîç Quick Links to Your Workflow</h2>
            <a href="https://github.com/Mohamedgad1983/PROShael/actions" target="_blank" class="link-button">
                View All Workflows
            </a>
            <a href="https://github.com/Mohamedgad1983/PROShael/actions/workflows/cloudflare-pages-deploy.yml" target="_blank" class="link-button">
                View Cloudflare Deploy Workflow
            </a>
        </div>

        <h2>üìã Step-by-Step Instructions to View Logs</h2>

        <div class="step">
            <span class="step-number">1</span>
            <strong>Go to Actions Tab:</strong> Click one of the links above or navigate to your repository's Actions tab
        </div>

        <div class="step">
            <span class="step-number">2</span>
            <strong>Find Failed Run:</strong> Look for runs with a red ‚ùå mark. The most recent one is at the top
        </div>

        <div class="step">
            <span class="step-number">3</span>
            <strong>Click on the Failed Run:</strong> Click on the workflow run title (e.g., "Deploy to Cloudflare Pages")
        </div>

        <div class="step">
            <span class="step-number">4</span>
            <strong>View Job Details:</strong> Click on "build-and-deploy" job on the left sidebar
        </div>

        <div class="step">
            <span class="step-number">5</span>
            <strong>Expand Failed Step:</strong> Click on the step with ‚ùå to see the error details
        </div>

        <div class="common-errors">
            <h2>üîß Common Errors and Solutions</h2>

            <div class="error-item">
                <div class="error-title">‚ùå Error: "Error: Missing required input: apiToken"</div>
                <div class="solution">
                    <strong>Solution:</strong> The CLOUDFLARE_API_TOKEN secret is not set in GitHub
                    <br><br>
                    <strong>To Fix:</strong>
                    <ol>
                        <li>Go to Repository Settings ‚Üí Secrets and variables ‚Üí Actions</li>
                        <li>Click "New repository secret"</li>
                        <li>Name: <code>CLOUDFLARE_API_TOKEN</code></li>
                        <li>Value: <code>qQBf9nyrOx_8KQaaxHQQbTRW3qHVJ40uQka4kRPX</code></li>
                        <li>Click "Add secret"</li>
                    </ol>
                </div>
            </div>

            <div class="error-item">
                <div class="error-title">‚ùå Error: "npm ERR! code ELIFECYCLE"</div>
                <div class="solution">
                    <strong>Solution:</strong> Build is failing due to TypeScript or dependency issues
                    <br><br>
                    <strong>Our workflow already handles this</strong> by creating a placeholder build if the actual build fails
                </div>
            </div>

            <div class="error-item">
                <div class="error-title">‚ùå Error: "Authentication error"</div>
                <div class="solution">
                    <strong>Solution:</strong> The API token might not have the right permissions
                    <br><br>
                    <strong>To Fix:</strong> Make sure your Cloudflare API token has:
                    <ul>
                        <li>Cloudflare Pages:Edit permission</li>
                        <li>Account ID: 425423960a5734e5ede200086b63fb4c</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="success-section">
            <h3>‚úÖ Quick Fix: Add the API Token to GitHub</h3>
            <p>Since the most likely issue is the missing API token secret, here's the direct link:</p>
            <a href="https://github.com/Mohamedgad1983/PROShael/settings/secrets/actions/new" target="_blank" class="link-button">
                Add CLOUDFLARE_API_TOKEN Secret
            </a>
            <div class="code-block">
Secret Name: CLOUDFLARE_API_TOKEN
Secret Value: qQBf9nyrOx_8KQaaxHQQbTRW3qHVJ40uQka4kRPX
            </div>
        </div>

        <div class="instruction-box" style="margin-top: 30px;">
            <h3>üìù Copy Error Message</h3>
            <p>When you find the error in the logs, copy the exact error message and share it here so I can help you fix it.</p>
            <p><strong>Look for lines that start with:</strong></p>
            <ul>
                <li>Error:</li>
                <li>npm ERR!</li>
                <li>Failed to</li>
                <li>Authentication error</li>
                <li>Missing required</li>
            </ul>
        </div>
    </div>
</body>
</html>