# ๐ฑ ุฏููู ุฅุนุฏุงุฏ Ultramsg WhatsApp - ุตูุฏูู ุนุงุฆูุฉ ุดุนูู
# Ultramsg WhatsApp Setup Guide - Al-Shuail Family Fund

---

## ๐ฏ ููุฎุต ุณุฑูุน | Quick Summary

| ุงูุจูุฏ | ุงูุชูุงุตูู |
|-------|---------|
| **ุงูุฎุฏูุฉ** | Ultramsg.com |
| **ุงูุชูููุฉ** | $39/ุดูุฑ (ุฑุณุงุฆู ุบูุฑ ูุญุฏูุฏุฉ) |
| **ููุช ุงูุฅุนุฏุงุฏ** | 5-10 ุฏูุงุฆู |
| **ุงููุชุทูุจุงุช** | ุฑูู WhatsApp ูููุณุญ ุงูุถูุฆู |

---

## โก ุฎุทูุงุช ุงูุฅุนุฏุงุฏ ุงูุณุฑูุนุฉ

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุญุณุงุจ Ultramsg

1. ุงุฐูุจ ุฅูู: **https://ultramsg.com**
2. ุงุถุบุท ุนูู **"Sign Up"** ุฃู **"Try Free"**
3. ุณุฌูู ุจุงูุฅูููู ุฃู Google

### ุงูุฎุทูุฉ 2: ุฅูุดุงุก Instance ุฌุฏูุฏ

1. ุจุนุฏ ุชุณุฌูู ุงูุฏุฎููุ ุงุถุบุท **"Create Instance"**
2. ุงุฎุชุฑ ุงูุฎุทุฉ ุงูููุงุณุจุฉ ($39/ุดูุฑ ููุฑุณุงุฆู ุงูุบูุฑ ูุญุฏูุฏุฉ)
3. ุณุชุญุตู ุนูู:
   - **Instance ID** (ูุซุงู: `instance12345`)
   - **Token** (ูุซุงู: `abc123xyz789...`)

### ุงูุฎุทูุฉ 3: ุฑุจุท WhatsApp

1. ูู ููุญุฉ ุชุญูู Ultramsgุ ุณุชุธูุฑ **QR Code**
2. ุงูุชุญ WhatsApp ุนูู ูุงุชูู
3. ุงุฐูุจ ุฅูู: ุงูุฅุนุฏุงุฏุงุช โ ุงูุฃุฌูุฒุฉ ุงููุฑุชุจุทุฉ โ ุฑุจุท ุฌูุงุฒ
4. ุงูุณุญ ุงูููุฏ ุถูุฆูุงู
5. ุงูุชุธุฑ ุญุชู ุชุธูุฑ ุญุงูุฉ **"Connected"** โ

### ุงูุฎุทูุฉ 4: ุชุญุฏูุซ ููู .env

ุงูุชุญ ุงูููู: `D:\PROShael\alshuail-backend\.env`

ุฃุถู ุงูููู ุงูุฎุงุตุฉ ุจู:

```env
ULTRAMSG_INSTANCE_ID=instance12345
ULTRAMSG_TOKEN=your_actual_token_here
USE_TEST_OTP=false
```

### ุงูุฎุทูุฉ 5: ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู

```bash
cd D:\PROShael\alshuail-backend
npm run dev
```

---

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### ุงุฎุชุจุงุฑ ุงูุญุงูุฉ

```bash
curl http://localhost:5001/api/otp/status
```

**ุงุณุชุฌุงุจุฉ ูุงุฌุญุฉ:**
```json
{
  "success": true,
  "whatsapp": {
    "success": true,
    "status": "authenticated"
  },
  "testMode": false
}
```

### ุงุฎุชุจุงุฑ ุฅุฑุณุงู OTP

```bash
curl -X POST http://localhost:5001/api/otp/send \
  -H "Content-Type: application/json" \
  -d '{"phone": "0501234567"}'
```

---

## ๐ ููุงุท API ุงููุชุงุญุฉ

| Endpoint | Method | ุงููุตู |
|----------|--------|-------|
| `/api/otp/send` | POST | ุฅุฑุณุงู ุฑูุฒ ุงูุชุญูู |
| `/api/otp/verify` | POST | ุงูุชุญูู ูู ุงูุฑูุฒ ูุชุณุฌูู ุงูุฏุฎูู |
| `/api/otp/resend` | POST | ุฅุนุงุฏุฉ ุฅุฑุณุงู ุงูุฑูุฒ |
| `/api/otp/status` | GET | ุญุงูุฉ ุฎุฏูุฉ WhatsApp |

---

## ๐ ุฃูุซูุฉ ุงูุทูุจุงุช

### ุฅุฑุณุงู OTP
```javascript
// Request
POST /api/otp/send
{
  "phone": "0501234567"  // ุฃู +966501234567
}

// Response (Success)
{
  "success": true,
  "message": "ุชู ุฅุฑุณุงู ุฑูุฒ ุงูุชุญูู ุนุจุฑ WhatsApp",
  "expiresIn": 300,
  "memberName": "ูุญูุฏ ุฃุญูุฏ ุงูุดุนูู"
}
```

### ุงูุชุญูู ูู OTP
```javascript
// Request
POST /api/otp/verify
{
  "phone": "0501234567",
  "otp": "123456"
}

// Response (Success)
{
  "success": true,
  "message": "ุชู ุงูุชุญูู ุจูุฌุงุญ",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": "uuid-here",
    "name": "ูุญูุฏ ุฃุญูุฏ ุงูุดุนูู",
    "phone": "+966501234567",
    "membershipNumber": "SH-0001",
    "balance": 2500,
    "status": "active"
  }
}
```

---

## ๐ ุฏุนู ุงูุฃุฑูุงู

ุงููุธุงู ูุฏุนู:
- ๐ธ๐ฆ **ุงูุณุนูุฏูุฉ**: `+966` ุฃู `05xxxxxxxx`
- ๐ฐ๐ผ **ุงููููุช**: `+965` ุฃู `9xxxxxxx`

**ุงูุชุญููู ุงูุชููุงุฆู:**
- `0501234567` โ `966501234567`
- `+966501234567` โ `966501234567`
- `96612345` โ `96596612345` (ุงููููุช)

---

## ๐ง ุงููุดุฑ ุนูู VPS

### 1. ุชุญุฏูุซ ุงููููุงุช ุนูู ุงูุฎุงุฏู

```bash
# SSH ุฅูู ุงูุฎุงุฏู
ssh root@213.199.62.185

# ุงูุงูุชูุงู ูููุดุฑูุน
cd /var/www/alshuail-backend

# ุณุญุจ ุงูุชุญุฏูุซุงุช
git pull origin main

# ุชุซุจูุช ุงูุญุฒู (ุฅุฐุง ูุฒู ุงูุฃูุฑ)
npm install
```

### 2. ุชุญุฏูุซ ููู .env ุนูู ุงูุฎุงุฏู

```bash
nano .env
```

ุฃุถู:
```env
ULTRAMSG_INSTANCE_ID=your_instance_id
ULTRAMSG_TOKEN=your_token
USE_TEST_OTP=false
```

### 3. ุฅุนุงุฏุฉ ุชุดุบูู PM2

```bash
pm2 restart alshuail-backend
pm2 logs alshuail-backend
```

---

## ๐ ูุถุน ุงูุงุฎุชุจุงุฑ

ุฅุฐุง ููุช ุชุฎุชุจุฑ ุจุฏูู Ultramsg:

```env
USE_TEST_OTP=true
```

- ุฑูุฒ OTP ุงูุซุงุจุช: `123456`
- ูุง ุญุงุฌุฉ ูู WhatsApp
- ูููุฏ ููุชุทููุฑ ุงููุญูู

---

## ๐ก ูุตุงุฆุญ ูููุฉ

### โ ุงูุฃูุถููุงุช

1. **ุงุณุชุฎุฏู ุฑูู ูุฎุตุต ูููุธุงู** - ูุง ุชุณุชุฎุฏู ุฑููู ุงูุดุฎุตู
2. **ุฑุงูุจ ุงูุญุงูุฉ** - ุชุฃูุฏ ูู ุจูุงุก ุงูุงุชุตุงู ูุนุงูุงู
3. **ุงุฎุชุจุฑ ูุญููุงู ุฃููุงู** - ูุจู ุงููุดุฑ ููุฅูุชุงุฌ

### โ๏ธ ุชุญุฐูุฑุงุช

1. **ูุง ุชุดุงุฑู Token** - ุญุงูุธ ุนูู ุณุฑูุชู
2. **ุฑุงูุจ ุงูุฑุณุงุฆู** - ุชุฌูุจ ุงูุฅูุฑุงุท ูุชูุงุฏู ุงูุญุธุฑ
3. **ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ** - ููู Instance ID ู Token

---

## ๐ ุงูุฏุนู

**Ultramsg Support**: https://ultramsg.com/support
**Documentation**: https://docs.ultramsg.com

---

## โ ูุงุฆูุฉ ุงูุชุญูู

- [ ] ุฅูุดุงุก ุญุณุงุจ Ultramsg
- [ ] ุฅูุดุงุก Instance ุฌุฏูุฏ
- [ ] ูุณุญ QR Code ุจู WhatsApp
- [ ] ูุณุฎ Instance ID ู Token
- [ ] ุชุญุฏูุซ `.env` ุงููุญูู
- [ ] ุงุฎุชุจุงุฑ `/api/otp/status`
- [ ] ุงุฎุชุจุงุฑ `/api/otp/send` ุจุฑูู ุญูููู
- [ ] ูุดุฑ ุนูู VPS
- [ ] ุชุญุฏูุซ `.env` ุนูู ุงูุฎุงุฏู
- [ ] ุฅุนุงุฏุฉ ุชุดุบูู PM2

---

**ุชู ุฅูุดุงุก ูุฐุง ุงูุฏููู ูู**: 2 ุฏูุณูุจุฑ 2025
**ุงููุดุฑูุน**: ุตูุฏูู ุนุงุฆูุฉ ุดุนูู ุงูุนูุฒู
