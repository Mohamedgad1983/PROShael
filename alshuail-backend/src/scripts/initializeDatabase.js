import { DatabaseOptimizationService } from '../services/databaseOptimizationService.js';\nimport { supabase } from '../config/database.js';\n\n/**\n * Database Initialization Script\n * Run this script to set up all database optimizations\n */\nasync function initializeDatabase() {\n  log.info('ðŸš€ Starting database initialization...');\n  \n  try {\n    // Test connection first\n    const { data: testData, error: testError } = await supabase\n      .from('payments')\n      .select('id')\n      .limit(1);\n    \n    if (testError) {\n      log.error('âŒ Database connection failed:', testError.message);\n      return false;\n    }\n    \n    log.info('âœ… Database connection successful');\n    \n    // Run full optimization\n    const result = await DatabaseOptimizationService.runFullOptimization();\n    \n    if (result.success) {\n      log.info('âœ… Database initialization completed successfully!');\n      log.info('ðŸ“Š Results:', JSON.stringify(result.data, null, 2));\n    } else {\n      log.error('âŒ Database initialization failed:', result.error);\n    }\n    \n    return result.success;\n    \n  } catch (error) {\n    log.error('âŒ Database initialization error:', error.message);\n    return false;\n  }\n}\n\n// Run if called directly\nif (import.meta.url === `file://${process.argv[1]}`) {\n  initializeDatabase()\n    .then(success => {\n      process.exit(success ? 0 : 1);\n    })\n    .catch(error => {\n      log.error('Fatal error:', error);\n      process.exit(1);\n    });\n}\n\nexport { initializeDatabase };