<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Al-Shuail Dashboard Status</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        .status-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            margin: 0 auto;
        }
        h1 { font-size: 2.5em; margin-bottom: 20px; }
        .status-item {
            margin: 20px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        .success { color: #4ade80; }
        .pending { color: #fbbf24; }
        .link {
            display: inline-block;
            margin: 10px;
            padding: 15px 30px;
            background: rgba(59, 130, 246, 0.5);
            border-radius: 10px;
            color: white;
            text-decoration: none;
            transition: all 0.3s;
        }
        .link:hover {
            background: rgba(59, 130, 246, 0.8);
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="status-container">
        <h1>ğŸ¯ Al-Shuail Dashboard Status</h1>

        <div class="status-item">
            <h3>ğŸ”§ Backend API Server</h3>
            <p class="status success" id="backend-status">Checking...</p>
            <a href="http://localhost:3001/api/health" target="_blank" class="link">Test API</a>
        </div>

        <div class="status-item">
            <h3>ğŸ–¥ï¸ Frontend Dashboard</h3>
            <p class="status" id="frontend-status">Port 3002 is active</p>
            <a href="http://localhost:3002" target="_blank" class="link">Open Dashboard</a>
        </div>

        <div class="status-item">
            <h3>ğŸ—„ï¸ Database Connection</h3>
            <p class="status" id="db-status">Checking...</p>
        </div>

        <div class="status-item">
            <h3>ğŸ“Š Quick Stats</h3>
            <div id="stats">Loading...</div>
        </div>
    </div>

    <script>
        // Check backend status
        fetch('http://localhost:3001/api/health')
            .then(res => res.json())
            .then(data => {
                document.getElementById('backend-status').innerHTML = 'âœ… Running on port 3001';
                document.getElementById('backend-status').className = 'status success';
            })
            .catch(err => {
                document.getElementById('backend-status').innerHTML = 'âŒ Not responding';
            });

        // Check database stats
        fetch('http://localhost:3001/api/dashboard/stats')
            .then(res => res.json())
            .then(data => {
                document.getElementById('db-status').innerHTML = 'âœ… Connected to Supabase';
                document.getElementById('db-status').className = 'status success';

                document.getElementById('stats').innerHTML = `
                    <p>ğŸ‘¥ Members: ${data.data.members.total}</p>
                    <p>ğŸ’° Payments: ${data.data.payments.pending} pending</p>
                    <p>ğŸ“ˆ Revenue: ${data.data.payments.monthlyRevenue} SAR</p>
                `;
            })
            .catch(err => {
                document.getElementById('db-status').innerHTML = 'âŒ Database error';
                document.getElementById('stats').innerHTML = 'Could not load stats';
            });
    </script>
</body>
</html>