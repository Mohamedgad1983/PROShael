/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ 2383:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 3686:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 7704:
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";

// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(9950);
// EXTERNAL MODULE: ./node_modules/react-dom/client.js
var client = __webpack_require__(1352);
;// ./src/index.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const src = ({});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js
var objectSpread2 = __webpack_require__(9379);
// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.mjs + 4 modules
var dist = __webpack_require__(9464);
;// ./src/App.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const App = ({});
;// ./src/styles/modern-login.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const modern_login = ({});
// EXTERNAL MODULE: ./node_modules/@heroicons/react/24/outline/esm/index.js + 324 modules
var esm = __webpack_require__(4234);
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(4414);
;// ./src/contexts/AuthContext.js
const API_BASE_URL="http://localhost:3001"||0;console.log('ðŸ”§ AuthContext API_BASE_URL:',API_BASE_URL);console.log('ðŸ”§ process.env.REACT_APP_API_URL:',"http://localhost:3001");const AuthContext=/*#__PURE__*/(0,react.createContext)();const useAuth=()=>{const context=(0,react.useContext)(AuthContext);if(!context){throw new Error('useAuth must be used within an AuthProvider');}return context;};const AuthProvider=_ref=>{let{children}=_ref;const[user,setUser]=(0,react.useState)(null);const[token,setToken]=(0,react.useState)(null);const[loading,setLoading]=(0,react.useState)(true);const[isAuthenticated,setIsAuthenticated]=(0,react.useState)(false);const persistSession=(tokenValue,userData)=>{if(!tokenValue||!userData){return;}setToken(tokenValue);setUser(userData);setIsAuthenticated(true);localStorage.setItem('token',tokenValue);localStorage.setItem('auth_token',tokenValue);localStorage.setItem('user',JSON.stringify(userData));localStorage.setItem('user_data',JSON.stringify(userData));localStorage.setItem('isLoggedIn','true');if(userData.email){localStorage.setItem('userEmail',userData.email);}if(userData.role){localStorage.setItem('userRole',userData.role);}};const clearSession=()=>{localStorage.removeItem('auth_token');localStorage.removeItem('user_data');localStorage.removeItem('token');localStorage.removeItem('user');localStorage.removeItem('isLoggedIn');localStorage.removeItem('userEmail');localStorage.removeItem('userRole');setUser(null);setToken(null);setIsAuthenticated(false);};const checkAuthStatus=async()=>{setLoading(true);try{const storedToken=localStorage.getItem('token')||localStorage.getItem('auth_token');const storedUser=localStorage.getItem('user')||localStorage.getItem('user_data');if(!storedToken||!storedUser){clearSession();return;}let parsedUser=null;try{parsedUser=JSON.parse(storedUser);}catch(parseError){console.error('Failed to parse stored user payload',parseError);clearSession();return;}const verifyUrl="".concat(API_BASE_URL,"/api/auth/verify");console.log('ðŸ”§ Verifying auth with URL:',verifyUrl);const response=await fetch(verifyUrl,{method:'POST',headers:{Authorization:"Bearer ".concat(storedToken)}});if(!response.ok){// Try to refresh the token before giving up
const refreshResponse=await fetch("".concat(API_BASE_URL,"/api/auth/refresh"),{method:'POST',headers:{Authorization:"Bearer ".concat(storedToken)}});if(refreshResponse.ok){const refreshData=await refreshResponse.json();if(refreshData.success&&refreshData.token){persistSession(refreshData.token,refreshData.user||parsedUser);return;}}clearSession();return;}const verification=await response.json();const verifiedUser=verification!==null&&verification!==void 0&&verification.user?(0,objectSpread2["default"])((0,objectSpread2["default"])({},parsedUser),verification.user):parsedUser;// If server sent a new token (auto-refresh), use it
if(verification.newToken){persistSession(verification.newToken,verifiedUser);}else{persistSession(storedToken,verifiedUser);}}catch(error){console.error('Auth status check failed:',error);clearSession();}finally{setLoading(false);}};(0,react.useEffect)(()=>{checkAuthStatus();// Set up periodic auth check every 30 minutes
const interval=setInterval(()=>{if(isAuthenticated){checkAuthStatus();}},30*60*1000);// 30 minutes
return()=>clearInterval(interval);},[isAuthenticated]);const authenticate=async(endpoint,payload)=>{setLoading(true);try{var _data$data;const response=await fetch("".concat(API_BASE_URL).concat(endpoint),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});const data=await response.json().catch(()=>null);if(response.ok&&data!==null&&data!==void 0&&data.success&&(data.token||data!==null&&data!==void 0&&(_data$data=data.data)!==null&&_data$data!==void 0&&_data$data.token)){var _data$data2,_data$data3;const sessionToken=data.token||(data===null||data===void 0?void 0:(_data$data2=data.data)===null||_data$data2===void 0?void 0:_data$data2.token);const sessionUser=data.user||(data===null||data===void 0?void 0:(_data$data3=data.data)===null||_data$data3===void 0?void 0:_data$data3.user);if(sessionToken&&sessionUser){persistSession(sessionToken,sessionUser);return{success:true,user:sessionUser,token:sessionToken,requires_password_change:data.requires_password_change||false,is_first_login:data.is_first_login||false};}}const errorMessage=(data===null||data===void 0?void 0:data.error)||(data===null||data===void 0?void 0:data.message_ar)||'Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„';return{success:false,error:errorMessage};}catch(error){console.error('Authentication error:',error);return{success:false,error:'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'};}finally{setLoading(false);}};const loginAdmin=async function(phone,password){let role=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'super_admin';// For admin login, we need to use email format - convert phone to email
// or check if it's already an email
const isEmail=phone.includes('@');const loginData=isEmail?{email:phone,password}:{phone,password,role};return authenticate('/api/auth/login',loginData);};const loginMember=async(phone,password)=>{return authenticate('/api/auth/member-login',{phone,password});};const login=async function(phone,password){let role=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;// If role is provided, it's an admin login, otherwise member login
if(role&&role!=='user_member'){return loginAdmin(phone,password,role);}return loginMember(phone,password);};const logout=()=>{clearSession();};const hasRole=requiredRoles=>{if(!user)return false;// Support both single role string and array of roles
const rolesToCheck=Array.isArray(requiredRoles)?requiredRoles:[requiredRoles];// New RBAC role hierarchy
const roleHierarchy={'super_admin':100,'financial_manager':80,'family_tree_admin':70,'occasions_initiatives_diyas_admin':60,'user_member':10,// Legacy support
'admin':3,'organizer':2,'member':1};const userRoleLevel=roleHierarchy[user.role]||0;// Check if user has any of the required roles
return rolesToCheck.some(role=>{const requiredRoleLevel=roleHierarchy[role]||0;return userRoleLevel>=requiredRoleLevel;});};const hasPermission=permission=>{if(!user)return false;if(user!==null&&user!==void 0&&user.permissions&&user.permissions.all_access){return true;}// Updated permissions with new role system
const permissions={'super_admin':['view_dashboard','manage_users','manage_roles','manage_members','manage_family_tree','manage_activities','manage_occasions','manage_initiatives','manage_diyas','manage_finances','view_reports','system_settings','audit_logs','all_access'],'financial_manager':['view_dashboard','view_financial_overview','manage_subscriptions','manage_payments','view_financial_reports','view_member_financial','view_finances','manage_finances'],'family_tree_admin':['view_dashboard','manage_family_tree','view_tree_management','manage_relationships','view_member_relationships'],'occasions_initiatives_diyas_admin':['view_dashboard','manage_occasions','manage_initiatives','manage_diyas','view_events_calendar','manage_charity_projects','manage_mediation_cases','view_member_participation'],'user_member':['view_dashboard','view_my_profile','view_my_payments','view_family_events','view_volunteer_opportunities','view_own_data'],// Legacy support
'admin':['view_dashboard','manage_users','manage_activities','manage_finances','view_reports','system_settings'],'organizer':['view_dashboard','view_activities','manage_activities','view_finances','view_reports'],'member':['view_dashboard','view_activities']};const userPermissions=permissions[user.role]||[];return userPermissions.includes(permission);};const canAccessModule=module=>{if(!user)return false;// Module access configuration
const moduleAccess={'members':['super_admin'],'financial':['super_admin','financial_manager','admin','moderator'],'family_tree':['super_admin','family_tree_admin'],'occasions':['super_admin','occasions_initiatives_diyas_admin'],'initiatives':['super_admin','occasions_initiatives_diyas_admin'],'diyas':['super_admin','occasions_initiatives_diyas_admin'],'settings':['super_admin'],'audit':['super_admin'],'dashboard':['super_admin','financial_manager','family_tree_admin','occasions_initiatives_diyas_admin','user_member']};const allowedRoles=moduleAccess[module]||[];return allowedRoles.includes(user.role);};const value={user,token,loading,isAuthenticated,login,loginAdmin,loginMember,logout,hasRole,hasPermission,canAccessModule,checkAuthStatus};return/*#__PURE__*/(0,jsx_runtime.jsx)(AuthContext.Provider,{value:value,children:children});};
// EXTERNAL MODULE: ./node_modules/hijri-converter/index.js
var hijri_converter = __webpack_require__(9718);
;// ./src/components/Payments/PaymentsTracking.jsx
const PaymentsTracking=()=>{const{user,canAccessModule}=useAuth();const[activeTab,setActiveTab]=(0,react.useState)('overview');const[payments,setPayments]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(false);const[searchQuery,setSearchQuery]=(0,react.useState)('');const[filters,setFilters]=(0,react.useState)({status:'',payment_type:'',date_range:'',member_id:''});const[selectedPayment,setSelectedPayment]=(0,react.useState)(null);const[showPaymentModal,setShowPaymentModal]=(0,react.useState)(false);const[dateRange,setDateRange]=(0,react.useState)({start:'',end:''});// Mock payment data
const mockPayments=[{id:1,payment_id:'PAY-2024-001',member_id:'MEM001',member_name:'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',member_phone:'0501234567',amount:120,currency:'Ø±ÙŠØ§Ù„',payment_type:'subscription',payment_method:'bank_transfer',status:'completed',transaction_id:'TXN123456789',description:'Ø§Ø´ØªØ±Ø§Ùƒ Ø´Ù‡Ø±ÙŠ - Ø§Ù„Ø¹Ø¶ÙˆÙŠØ© Ø§Ù„Ù…Ù…ÙŠØ²Ø©',payment_date:'2024-01-15',due_date:'2024-01-10',hijri_date:(0,hijri_converter.toHijri)(2024,1,15),created_at:'2024-01-15T10:30:00Z',receipt_url:'/receipts/PAY-2024-001.pdf',notes:'ØªÙ… Ø§Ù„Ø¯ÙØ¹ ÙÙŠ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù…Ø­Ø¯Ø¯'},{id:2,payment_id:'PAY-2024-002',member_id:'MEM002',member_name:'ÙØ§Ø·Ù…Ø© Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø´Ø¹ÙŠÙ„',member_phone:'0501234568',amount:50,currency:'Ø±ÙŠØ§Ù„',payment_type:'subscription',payment_method:'credit_card',status:'completed',transaction_id:'TXN123456790',description:'Ø§Ø´ØªØ±Ø§Ùƒ Ø´Ù‡Ø±ÙŠ - Ø§Ù„Ø¹Ø¶ÙˆÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©',payment_date:'2024-01-20',due_date:'2024-01-15',hijri_date:(0,hijri_converter.toHijri)(2024,1,20),created_at:'2024-01-20T14:15:00Z',receipt_url:'/receipts/PAY-2024-002.pdf',notes:'Ø¯ÙØ¹ Ù…ØªØ£Ø®Ø± 5 Ø£ÙŠØ§Ù…'},{id:3,payment_id:'PAY-2024-003',member_id:'MEM003',member_name:'Ù…Ø­Ù…Ø¯ Ø³Ø¹Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',member_phone:'0501234569',amount:500,currency:'Ø±ÙŠØ§Ù„',payment_type:'contribution',payment_method:'cash',status:'pending',transaction_id:null,description:'Ù…Ø³Ø§Ù‡Ù…Ø© ÙÙŠ Ù…Ø¨Ø§Ø¯Ø±Ø© Ø®ÙŠØ±ÙŠØ©',payment_date:null,due_date:'2024-01-25',hijri_date:null,created_at:'2024-01-22T09:00:00Z',receipt_url:null,notes:'ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¯ÙØ¹'},{id:4,payment_id:'PAY-2024-004',member_id:'MEM004',member_name:'Ø®Ø¯ÙŠØ¬Ø© Ø£Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',member_phone:'0501234570',amount:200,currency:'Ø±ÙŠØ§Ù„',payment_type:'diya',payment_method:'bank_transfer',status:'failed',transaction_id:'TXN123456791',description:'Ù…Ø³Ø§Ù‡Ù…Ø© ÙÙŠ Ø¯ÙŠØ©',payment_date:'2024-01-18',due_date:'2024-01-15',hijri_date:(0,hijri_converter.toHijri)(2024,1,18),created_at:'2024-01-18T16:45:00Z',receipt_url:null,notes:'ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø¯ÙØ¹ - Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙŠ'},{id:5,payment_id:'PAY-2024-005',member_id:'MEM005',member_name:'Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø¹Ù„ÙŠ Ø§Ù„Ø´Ø¹ÙŠÙ„',member_phone:'0501234571',amount:300,currency:'Ø±ÙŠØ§Ù„',payment_type:'occasion',payment_method:'stc_pay',status:'completed',transaction_id:'TXN123456792',description:'Ù…Ø³Ø§Ù‡Ù…Ø© ÙÙŠ Ø­ÙÙ„ Ø²ÙØ§Ù',payment_date:'2024-01-25',due_date:'2024-01-25',hijri_date:(0,hijri_converter.toHijri)(2024,1,25),created_at:'2024-01-25T12:20:00Z',receipt_url:'/receipts/PAY-2024-005.pdf',notes:'ØªÙ… Ø§Ù„Ø¯ÙØ¹ Ø¨ÙˆØ§Ø³Ø·Ø© stc pay'}];(0,react.useEffect)(()=>{if(canAccessModule('financial')){loadPaymentsData();}},[filters,dateRange]);const loadPaymentsData=async()=>{setLoading(true);try{// Load mock data - replace with actual API calls
setPayments(mockPayments);}catch(error){console.error('Error loading payments data:',error);}finally{setLoading(false);}};// RBAC Access Control
if(!canAccessModule('financial')){return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{height:'100%',background:'linear-gradient(to bottom right, #EFF6FF, #FFFFFF, #F5F3FF)',display:'flex',alignItems:'center',justifyContent:'center'},dir:"rtl",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"max-w-md mx-auto text-center p-8",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ShieldExclamationIcon,{className:"w-10 h-10 text-white"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"\u063A\u064A\u0631 \u0645\u0635\u0631\u062D \u0628\u0627\u0644\u0648\u0635\u0648\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600 mb-6",children:"\u0644\u064A\u0633 \u0644\u062F\u064A\u0643 \u0635\u0644\u0627\u062D\u064A\u0629 \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0642\u0633\u0645 \u062A\u062A\u0628\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A. \u064A\u062A\u0637\u0644\u0628 \u0647\u0630\u0627 \u0627\u0644\u0642\u0633\u0645 \u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0645\u062F\u064A\u0631 \u0627\u0644\u0645\u0627\u0644\u064A \u0623\u0648 \u0627\u0644\u0645\u062F\u064A\u0631 \u0627\u0644\u0639\u0627\u0645."}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-sm text-gray-500",children:["\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0629 \u0627\u0644\u062D\u0627\u0644\u064A\u0629: ",(user===null||user===void 0?void 0:user.role)||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯']})]})});}// Calculate statistics
const statistics={total_payments:payments.length,completed_payments:payments.filter(p=>p.status==='completed').length,pending_payments:payments.filter(p=>p.status==='pending').length,failed_payments:payments.filter(p=>p.status==='failed').length,total_amount:payments.filter(p=>p.status==='completed').reduce((sum,p)=>sum+p.amount,0),pending_amount:payments.filter(p=>p.status==='pending').reduce((sum,p)=>sum+p.amount,0),this_month_total:payments.filter(p=>{const paymentDate=new Date(p.payment_date||p.created_at);const currentMonth=new Date().getMonth();const paymentMonth=paymentDate.getMonth();return paymentMonth===currentMonth&&p.status==='completed';}).reduce((sum,p)=>sum+p.amount,0),success_rate:payments.length>0?(payments.filter(p=>p.status==='completed').length/payments.length*100).toFixed(1):0};// Filter payments
const filteredPayments=payments.filter(payment=>{const matchesSearch=!searchQuery||payment.member_name.toLowerCase().includes(searchQuery.toLowerCase())||payment.member_phone.includes(searchQuery)||payment.payment_id.toLowerCase().includes(searchQuery.toLowerCase())||payment.description.toLowerCase().includes(searchQuery.toLowerCase());const matchesStatus=!filters.status||payment.status===filters.status;const matchesType=!filters.payment_type||payment.payment_type===filters.payment_type;const matchesMember=!filters.member_id||payment.member_id===filters.member_id;const matchesDateRange=!dateRange.start||!dateRange.end||payment.payment_date&&payment.payment_date>=dateRange.start&&payment.payment_date<=dateRange.end;return matchesSearch&&matchesStatus&&matchesType&&matchesMember&&matchesDateRange;});const formatHijriDate=gregorianDate=>{try{const date=new Date(gregorianDate);const hijriDate=(0,hijri_converter.toHijri)(date.getFullYear(),date.getMonth()+1,date.getDate());return"".concat(hijriDate.hy,"/").concat(hijriDate.hm,"/").concat(hijriDate.hd," \u0647\u0640");}catch(error){return gregorianDate;}};const getStatusIcon=status=>{switch(status){case'completed':return/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"w-5 h-5 text-green-500"});case'pending':return/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ClockIcon,{className:"w-5 h-5 text-yellow-500"});case'failed':return/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XCircleIcon,{className:"w-5 h-5 text-red-500"});default:return/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ClockIcon,{className:"w-5 h-5 text-gray-500"});}};const getStatusText=status=>{switch(status){case'completed':return'Ù…ÙƒØªÙ…Ù„';case'pending':return'Ù…Ø¹Ù„Ù‚';case'failed':return'ÙØ´Ù„';default:return'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';}};const getStatusColor=status=>{switch(status){case'completed':return'bg-green-100 text-green-800 border-green-200';case'pending':return'bg-yellow-100 text-yellow-800 border-yellow-200';case'failed':return'bg-red-100 text-red-800 border-red-200';default:return'bg-gray-100 text-gray-800 border-gray-200';}};const getPaymentTypeText=type=>{switch(type){case'subscription':return'Ø§Ø´ØªØ±Ø§Ùƒ';case'contribution':return'Ù…Ø³Ø§Ù‡Ù…Ø©';case'diya':return'Ø¯ÙŠØ©';case'occasion':return'Ù…Ù†Ø§Ø³Ø¨Ø©';case'initiative':return'Ù…Ø¨Ø§Ø¯Ø±Ø©';default:return'Ø£Ø®Ø±Ù‰';}};const getPaymentMethodText=method=>{switch(method){case'bank_transfer':return'ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ';case'credit_card':return'Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù†';case'cash':return'Ù†Ù‚Ø¯Ø§Ù‹';case'stc_pay':return'STC Pay';case'apple_pay':return'Apple Pay';case'mada':return'Ù…Ø¯Ù‰';default:return'Ø£Ø®Ø±Ù‰';}};// Statistics Cards Component
const StatisticsCards=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-6 mb-8",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"glass-card p-6 hover:scale-105 transition-all duration-300",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:statistics.total_payments})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BanknotesIcon,{className:"w-6 h-6 text-white"})})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"glass-card p-6 hover:scale-105 transition-all duration-300",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"\u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-3xl font-bold text-green-600",children:statistics.completed_payments})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"w-6 h-6 text-white"})})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"glass-card p-6 hover:scale-105 transition-all duration-300",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"\u0627\u0644\u0645\u0639\u0644\u0642\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:statistics.pending_payments})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ClockIcon,{className:"w-6 h-6 text-white"})})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"glass-card p-6 hover:scale-105 transition-all duration-300",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"\u0627\u0644\u0641\u0627\u0634\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-3xl font-bold text-red-600",children:statistics.failed_payments})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XCircleIcon,{className:"w-6 h-6 text-white"})})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"glass-card p-6 hover:scale-105 transition-all duration-300",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0644\u063A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[statistics.total_amount.toLocaleString()," \u0631\u064A\u0627\u0644"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CurrencyDollarIcon,{className:"w-6 h-6 text-white"})})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"glass-card p-6 hover:scale-105 transition-all duration-300",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0639\u0644\u0642"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:[statistics.pending_amount.toLocaleString()," \u0631\u064A\u0627\u0644"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.WalletIcon,{className:"w-6 h-6 text-white"})})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"glass-card p-6 hover:scale-105 transition-all duration-300",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"\u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-2xl font-bold text-indigo-600",children:[statistics.this_month_total.toLocaleString()," \u0631\u064A\u0627\u0644"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowTrendingUpIcon,{className:"w-6 h-6 text-white"})})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"glass-card p-6 hover:scale-105 transition-all duration-300",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"\u0645\u0639\u062F\u0644 \u0627\u0644\u0646\u062C\u0627\u062D"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-3xl font-bold text-cyan-600",children:[statistics.success_rate,"%"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-xl flex items-center justify-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ReceiptPercentIcon,{className:"w-6 h-6 text-white"})})]})})]});// Payments Table Component
const PaymentsTable=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"space-y-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"glass-card p-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"lg:col-span-2 relative",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MagnifyingGlassIcon,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0627\u0644\u0628\u062D\u062B \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 \u0623\u0648 \u0631\u0642\u0645 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0629...",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:"w-full pr-10 pl-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:filters.status,onChange:e=>setFilters((0,objectSpread2["default"])((0,objectSpread2["default"])({},filters),{},{status:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0627\u0644\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"completed",children:"\u0645\u0643\u062A\u0645\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"pending",children:"\u0645\u0639\u0644\u0642"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"failed",children:"\u0641\u0634\u0644"})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:filters.payment_type,onChange:e=>setFilters((0,objectSpread2["default"])((0,objectSpread2["default"])({},filters),{},{payment_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0623\u0646\u0648\u0627\u0639"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"subscription",children:"\u0627\u0634\u062A\u0631\u0627\u0643"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"contribution",children:"\u0645\u0633\u0627\u0647\u0645\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"diya",children:"\u062F\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"occasion",children:"\u0645\u0646\u0627\u0633\u0628\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"initiative",children:"\u0645\u0628\u0627\u062F\u0631\u0629"})]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setShowPaymentModal(true),className:"flex-1 premium-btn flex items-center justify-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PlusIcon,{className:"w-5 h-5"}),"\u062C\u062F\u064A\u062F"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors duration-200",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowDownTrayIcon,{className:"w-5 h-5"})})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-4 mt-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex-1",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0645\u0646 \u062A\u0627\u0631\u064A\u062E"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"date",value:dateRange.start,onChange:e=>setDateRange((0,objectSpread2["default"])((0,objectSpread2["default"])({},dateRange),{},{start:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex-1",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0625\u0644\u0649 \u062A\u0627\u0631\u064A\u062E"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"date",value:dateRange.end,onChange:e=>setDateRange((0,objectSpread2["default"])((0,objectSpread2["default"])({},dateRange),{},{end:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"glass-card overflow-hidden",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"overflow-x-auto",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("table",{className:"w-full",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-500",children:"\u0631\u0642\u0645 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-500",children:"\u0627\u0644\u0639\u0636\u0648"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-500",children:"\u0627\u0644\u0645\u0628\u0644\u063A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-500",children:"\u0627\u0644\u0646\u0648\u0639"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-500",children:"\u0637\u0631\u064A\u0642\u0629 \u0627\u0644\u062F\u0641\u0639"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-500",children:"\u0627\u0644\u062D\u0627\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-500",children:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062F\u0641\u0639"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{className:"px-6 py-4 text-right text-sm font-medium text-gray-500",children:"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("tbody",{className:"divide-y divide-gray-200",children:filteredPayments.map(payment=>/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"px-6 py-4",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"font-medium text-gray-900",children:payment.payment_id}),payment.transaction_id&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-xs text-gray-500",children:["\u0645\u0639\u0631\u0641 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629: ",payment.transaction_id]})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"px-6 py-4",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"font-medium text-gray-900",children:payment.member_name}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-sm text-gray-500",children:payment.member_phone}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-xs text-gray-400",children:["#",payment.member_id]})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"px-6 py-4",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"font-medium text-gray-900",children:[payment.amount," ",payment.currency]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("td",{className:"px-6 py-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-sm text-gray-900",children:getPaymentTypeText(payment.payment_type)}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-xs text-gray-500",children:payment.description})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"px-6 py-4",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-sm text-gray-900",children:getPaymentMethodText(payment.payment_method)})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"px-6 py-4",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[getStatusIcon(payment.status),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"px-2 py-1 rounded-lg text-xs font-medium border ".concat(getStatusColor(payment.status)),children:getStatusText(payment.status)})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"px-6 py-4",children:payment.payment_date?/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-sm text-gray-900",children:payment.payment_date}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-xs text-gray-500",children:formatHijriDate(payment.payment_date)})]}):/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-sm text-gray-400",children:"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u062F\u0641\u0639"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"px-6 py-4",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>{setSelectedPayment(payment);setShowPaymentModal(true);},className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors duration-200",title:"\u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeIcon,{className:"w-4 h-4"})}),payment.receipt_url&&/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"p-2 text-green-600 hover:text-green-800 hover:bg-green-50 rounded-lg transition-colors duration-200",title:"\u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0625\u064A\u0635\u0627\u0644",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowDownTrayIcon,{className:"w-4 h-4"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"p-2 text-purple-600 hover:text-purple-800 hover:bg-purple-50 rounded-lg transition-colors duration-200",title:"\u062A\u0639\u062F\u064A\u0644",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PencilIcon,{className:"w-4 h-4"})})]})})]},payment.id))})]})}),filteredPayments.length===0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-center py-12",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-20 h-20 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BanknotesIcon,{className:"w-10 h-10 text-gray-400"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u062F\u0641\u0648\u0639\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-500",children:"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0645\u062F\u0641\u0648\u0639\u0627\u062A \u062A\u0637\u0627\u0628\u0642 \u0627\u0644\u0645\u0639\u0627\u064A\u064A\u0631 \u0627\u0644\u0645\u062D\u062F\u062F\u0629"})]})]})]});if(loading){return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{height:'100%',background:'linear-gradient(to bottom right, #EFF6FF, #FFFFFF, #F5F3FF)',display:'flex',alignItems:'center',justifyContent:'center'},dir:"rtl",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600",children:"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A..."})]})});}return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{height:'calc(100% - 20px)',display:'flex',flexDirection:'column',background:'linear-gradient(to bottom right, #EFF6FF, #FFFFFF, #F5F3FF)',overflow:'hidden'},dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{flexShrink:0,background:'white',boxShadow:'0 10px 25px -5px rgba(0, 0, 0, 0.1)',borderBottom:'1px solid #E5E7EB'},children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between h-16",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-blue-600 rounded-xl flex items-center justify-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BanknotesIcon,{className:"w-6 h-6 text-white"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"\u062A\u062A\u0628\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-600",children:"\u0645\u0631\u0627\u0642\u0628\u0629 \u0648\u0625\u062F\u0627\u0631\u0629 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0627\u0644\u0645\u0627\u0644\u064A\u0629"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"text-sm text-gray-600",children:["\u0645\u0631\u062D\u0628\u0627\u064B\u060C ",(user===null||user===void 0?void 0:user.full_name)||(user===null||user===void 0?void 0:user.name)]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-white text-sm font-medium",children:((user===null||user===void 0?void 0:user.full_name)||(user===null||user===void 0?void 0:user.name)||'').charAt(0)})})]})]})})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{flex:1,overflowY:'auto',padding:'32px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(StatisticsCards,{}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"glass-card p-6 mb-8",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 overflow-x-auto",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setActiveTab('overview'),className:"px-6 py-3 rounded-lg font-medium transition-all duration-200 whitespace-nowrap ".concat(activeTab==='overview'?'bg-gradient-to-br from-green-500 to-blue-600 text-white shadow-lg':'bg-gray-100 text-gray-600 hover:bg-gray-200'),children:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setActiveTab('transactions'),className:"px-6 py-3 rounded-lg font-medium transition-all duration-200 whitespace-nowrap ".concat(activeTab==='transactions'?'bg-gradient-to-br from-green-500 to-blue-600 text-white shadow-lg':'bg-gray-100 text-gray-600 hover:bg-gray-200'),children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setActiveTab('analytics'),className:"px-6 py-3 rounded-lg font-medium transition-all duration-200 whitespace-nowrap ".concat(activeTab==='analytics'?'bg-gradient-to-br from-green-500 to-blue-600 text-white shadow-lg':'bg-gray-100 text-gray-600 hover:bg-gray-200'),children:"\u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setActiveTab('reports'),className:"px-6 py-3 rounded-lg font-medium transition-all duration-200 whitespace-nowrap ".concat(activeTab==='reports'?'bg-gradient-to-br from-green-500 to-blue-600 text-white shadow-lg':'bg-gray-100 text-gray-600 hover:bg-gray-200'),children:"\u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631"})]})}),(activeTab==='overview'||activeTab==='transactions')&&/*#__PURE__*/(0,jsx_runtime.jsx)(PaymentsTable,{}),activeTab==='analytics'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"glass-card p-8 text-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ChartBarIcon,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"\u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0627\u0644\u0645\u0627\u0644\u064A\u0629 \u0642\u0631\u064A\u0628\u0627\u064B"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-500",children:"\u0633\u064A\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0631\u0633\u0648\u0645 \u0627\u0644\u0628\u064A\u0627\u0646\u064A\u0629 \u0648\u0627\u0644\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0627\u0644\u0645\u062A\u0642\u062F\u0645\u0629 \u0642\u0631\u064A\u0628\u0627\u064B"})]}),activeTab==='reports'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"glass-card p-8 text-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentTextIcon,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"\u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 \u0627\u0644\u0645\u0627\u0644\u064A\u0629 \u0642\u0631\u064A\u0628\u0627\u064B"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-500",children:"\u0633\u064A\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 \u0627\u0644\u0645\u0627\u0644\u064A\u0629 \u0627\u0644\u062A\u0641\u0635\u064A\u0644\u064A\u0629 \u0642\u0631\u064A\u0628\u0627\u064B"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("style",{jsx:true,children:"\n        .glass-card {\n          background: rgba(255, 255, 255, 0.9);\n          backdrop-filter: blur(40px);\n          -webkit-backdrop-filter: blur(40px);\n          border: 1px solid rgba(255, 255, 255, 0.5);\n          border-radius: 20px;\n          box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n\n        .glass-card:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 15px 50px rgba(0, 0, 0, 0.12);\n        }\n\n        .premium-btn {\n          background: linear-gradient(135deg, #22C55E 0%, #3B82F6 100%);\n          padding: 12px 24px;\n          border-radius: 12px;\n          color: white;\n          font-weight: 600;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          position: relative;\n          overflow: hidden;\n          border: none;\n          cursor: pointer;\n        }\n\n        .premium-btn:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 10px 30px rgba(34, 197, 94, 0.3);\n        }\n\n        .premium-btn::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: -100%;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n          transition: left 0.5s;\n        }\n\n        .premium-btn:hover::before {\n          left: 100%;\n        }\n      "})]});};/* harmony default export */ const Payments_PaymentsTracking = (PaymentsTracking);
;// ./src/components/Common/SimpleHijriDatePicker.jsx
const SimpleHijriDatePicker=_ref=>{let{value,onChange,required=false,label="Ø§Ù„ØªØ§Ø±ÙŠØ®"}=_ref;const[hijriDay,setHijriDay]=(0,react.useState)('');const[hijriMonth,setHijriMonth]=(0,react.useState)('');const[hijriYear,setHijriYear]=(0,react.useState)('');const[gregorianDate,setGregorianDate]=(0,react.useState)('');const[isValid,setIsValid]=(0,react.useState)(true);// Hijri months
const hijriMonths=[{value:1,label:'Ù…Ø­Ø±Ù…'},{value:2,label:'ØµÙØ±'},{value:3,label:'Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„'},{value:4,label:'Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø¢Ø®Ø±'},{value:5,label:'Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰'},{value:6,label:'Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø¢Ø®Ø±Ø©'},{value:7,label:'Ø±Ø¬Ø¨'},{value:8,label:'Ø´Ø¹Ø¨Ø§Ù†'},{value:9,label:'Ø±Ù…Ø¶Ø§Ù†'},{value:10,label:'Ø´ÙˆØ§Ù„'},{value:11,label:'Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©'},{value:12,label:'Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©'}];// Initialize with current Hijri date
(0,react.useEffect)(()=>{if(!value){const today=new Date();const hijri=(0,hijri_converter.toHijri)(today.getFullYear(),today.getMonth()+1,today.getDate());setHijriDay(hijri.hd.toString());setHijriMonth(hijri.hm.toString());setHijriYear(hijri.hy.toString());}else{// If value exists (Gregorian date), convert to Hijri
const date=new Date(value);const hijri=(0,hijri_converter.toHijri)(date.getFullYear(),date.getMonth()+1,date.getDate());setHijriDay(hijri.hd.toString());setHijriMonth(hijri.hm.toString());setHijriYear(hijri.hy.toString());setGregorianDate(value);}},[value]);// Convert Hijri to Gregorian when Hijri date changes
const handleHijriChange=(day,month,year)=>{const d=parseInt(day)||1;const m=parseInt(month)||1;const y=parseInt(year)||1446;// Update state
setHijriDay(day);setHijriMonth(month);setHijriYear(year);// Validate Hijri date
if(d<1||d>30||m<1||m>12||y<1300||y>1500){setIsValid(false);setGregorianDate('');onChange('');return;}try{// Convert to Gregorian
const greg=(0,hijri_converter.toGregorian)(y,m,d);const gregorianDateString="".concat(greg.gy,"-").concat(String(greg.gm).padStart(2,'0'),"-").concat(String(greg.gd).padStart(2,'0'));setGregorianDate(gregorianDateString);setIsValid(true);// Call onChange with Gregorian date
onChange(gregorianDateString);}catch(error){setIsValid(false);setGregorianDate('');onChange('');}};// Generate year options (current year Â± 10)
const currentHijriYear=new Date().getFullYear()-579;// Approximate current Hijri year
const yearOptions=[];for(let i=currentHijriYear-10;i<=currentHijriYear+10;i++){yearOptions.push(i);}// Select style with MAXIMUM visibility
const selectStyle={width:'100%',padding:'8px',border:'2px solid #000080',borderRadius:'6px',fontSize:'15px',fontWeight:'700',color:'#000080',backgroundColor:'#FFFFFF',cursor:'pointer',outline:'none',fontFamily:'Arial, sans-serif'};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{style:{display:'block',marginBottom:'8px',fontSize:'15px',color:'#000080',fontWeight:'700'},children:[label," (\u0627\u0644\u062A\u0642\u0648\u064A\u0645 \u0627\u0644\u0647\u062C\u0631\u064A) ",required&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{color:'#FF0000'},children:"*"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'80px 140px 100px',gap:'8px',marginBottom:'8px',padding:'12px',background:'#F0F8FF',borderRadius:'8px',border:'2px solid #000080',boxShadow:'0 2px 4px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'4px',fontSize:'13px',color:'#000080',fontWeight:'600',textAlign:'center'},children:"\u0627\u0644\u064A\u0648\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:hijriDay,onChange:e=>handleHijriChange(e.target.value,hijriMonth,hijriYear),required:required,style:selectStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",style:{color:'#000080',fontWeight:'700'},children:"--"}),[...Array(30)].map((_,i)=>/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:i+1,style:{color:'#000080',fontWeight:'700',fontSize:'16px'},children:i+1},i+1))]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'4px',fontSize:'13px',color:'#000080',fontWeight:'600',textAlign:'center'},children:"\u0627\u0644\u0634\u0647\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:hijriMonth,onChange:e=>handleHijriChange(hijriDay,e.target.value,hijriYear),required:required,style:selectStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",style:{color:'#000080',fontWeight:'700'},children:"\u0627\u062E\u062A\u0631"}),hijriMonths.map(month=>/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:month.value,style:{color:'#000080',fontWeight:'700',fontSize:'16px'},children:month.label},month.value))]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'4px',fontSize:'13px',color:'#000080',fontWeight:'600',textAlign:'center'},children:"\u0627\u0644\u0633\u0646\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:hijriYear,onChange:e=>handleHijriChange(hijriDay,hijriMonth,e.target.value),required:required,style:selectStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",style:{color:'#000080',fontWeight:'700'},children:"----"}),yearOptions.map(year=>/*#__PURE__*/(0,jsx_runtime.jsxs)("option",{value:year,style:{color:'#000080',fontWeight:'700',fontSize:'16px'},children:[year," \u0647\u0640"]},year))]})]})]}),gregorianDate&&isValid&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginTop:'8px',padding:'10px 14px',background:'#E6F2FF',borderRadius:'10px',fontSize:'15px',color:'#000080',display:'flex',alignItems:'center',gap:'8px',border:'2px solid #000080',fontWeight:'700'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarDaysIcon,{style:{width:'18px',height:'18px',color:'#000080'}}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F\u064A: ",new Date(gregorianDate).toLocaleDateString('ar-SA',{year:'numeric',month:'long',day:'numeric'})]})]}),!isValid&&hijriDay&&hijriMonth&&hijriYear&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{marginTop:'8px',padding:'10px 14px',background:'#FFE4E4',borderRadius:'10px',fontSize:'14px',color:'#CC0000',fontWeight:'700',border:'2px solid #CC0000'},children:"\u26A0\uFE0F \u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0647\u062C\u0631\u064A \u063A\u064A\u0631 \u0635\u062D\u064A\u062D"})]});};/* harmony default export */ const Common_SimpleHijriDatePicker = (SimpleHijriDatePicker);
;// ./src/components/Diyas/AppleDiyasManagement.jsx
const AppleDiyasManagement=()=>{const[activeTab,setActiveTab]=(0,react.useState)('overview');const[diyas,setDiyas]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[searchQuery,setSearchQuery]=(0,react.useState)('');const[filterStatus,setFilterStatus]=(0,react.useState)('');const[filterType,setFilterType]=(0,react.useState)('');const[showAddModal,setShowAddModal]=(0,react.useState)(false);const[selectedDiya,setSelectedDiya]=(0,react.useState)(null);const[contributors,setContributors]=(0,react.useState)([]);const[showContributorsModal,setShowContributorsModal]=(0,react.useState)(false);// API URL configuration
const API_URL="http://localhost:3001"||(0);const[newDiya,setNewDiya]=(0,react.useState)({title:'',type:'accident',amount:'',beneficiaryName:'',beneficiaryPhone:'',incidentDate:'',incidentHijriDate:'',location:'',description:'',status:'pending',paidAmount:'0',remainingAmount:'',collectorName:'',notes:''});// Mock data for diyas
const mockDiyas=[{id:1,title:'Ø¯ÙŠØ© Ø­Ø§Ø¯Ø« Ù…Ø±ÙˆØ±ÙŠ - Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø±ÙŠØ§Ø¶',type:'accident',amount:300000,beneficiaryName:'Ø¹Ø§Ø¦Ù„Ø© Ù…Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',beneficiaryPhone:'0555555555',incidentDate:'2024-01-15',location:'Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø±ÙŠØ§Ø¶ - Ø§Ù„Ø¯Ù…Ø§Ù…',description:'Ø­Ø§Ø¯Ø« Ù…Ø±ÙˆØ±ÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ ÙˆÙØ§Ø© Ø±Ø¨ Ø§Ù„Ø£Ø³Ø±Ø©',status:'in_progress',paidAmount:150000,remainingAmount:150000,collectorName:'Ø£Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',contributors:45,priority:'high',tags:['Ø¹Ø§Ø¬Ù„','Ø­Ø§Ø¯Ø«','Ø·Ø±ÙŠÙ‚']},{id:2,title:'Ø¯ÙŠØ© Ù‚ØªÙ„ Ø®Ø·Ø£',type:'manslaughter',amount:400000,beneficiaryName:'ÙˆØ±Ø«Ø© Ø®Ø§Ù„Ø¯ Ø§Ù„Ø¹Ù…Ø±ÙŠ',beneficiaryPhone:'0544444444',incidentDate:'2024-02-01',location:'Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø´Ø±Ù‚ÙŠØ©',description:'Ù‚ØªÙ„ Ø®Ø·Ø£ ÙÙŠ Ø­Ø§Ø¯Ø« Ø¹Ù…Ù„',status:'pending',paidAmount:0,remainingAmount:400000,collectorName:'Ù…Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',contributors:0,priority:'high',tags:['Ù‚ØªÙ„ Ø®Ø·Ø£','Ø¹Ù…Ù„']},{id:3,title:'Ø¯ÙŠØ© Ø¥ØµØ§Ø¨Ø© - Ø­Ø§Ø¯Ø« Ù…Ù†Ø²Ù„ÙŠ',type:'injury',amount:50000,beneficiaryName:'Ø³Ø¹Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',beneficiaryPhone:'0533333333',incidentDate:'2023-12-20',location:'Ø§Ù„Ø±ÙŠØ§Ø¶',description:'Ø¥ØµØ§Ø¨Ø© Ø¨Ù„ÙŠØºØ© Ù†ØªÙŠØ¬Ø© Ø­Ø§Ø¯Ø« Ù…Ù†Ø²Ù„ÙŠ',status:'completed',paidAmount:50000,remainingAmount:0,collectorName:'ÙØ§Ø·Ù…Ø© Ø§Ù„Ø´Ø¹ÙŠÙ„',contributors:23,priority:'medium',tags:['Ø¥ØµØ§Ø¨Ø©','Ù…Ù†Ø²Ù„ÙŠ','Ù…ÙƒØªÙ…Ù„']},{id:4,title:'Ø¯ÙŠØ© Ø­Ø§Ø¯Ø« Ø¹Ù…Ù„',type:'work_accident',amount:200000,beneficiaryName:'Ø¹Ø§Ø¦Ù„Ø© ÙŠÙˆØ³Ù Ø§Ù„Ø´Ø¹ÙŠÙ„',beneficiaryPhone:'0522222222',incidentDate:'2024-01-25',location:'Ø¬Ø¯Ø© - Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©',description:'Ø­Ø§Ø¯Ø« ÙÙŠ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¹Ù…Ù„ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø¥ØµØ§Ø¨Ø§Øª Ø®Ø·ÙŠØ±Ø©',status:'in_progress',paidAmount:80000,remainingAmount:120000,collectorName:'Ø³Ø§Ø±Ø© Ø§Ù„Ø´Ø¹ÙŠÙ„',contributors:28,priority:'high',tags:['Ø¹Ù…Ù„','ØµÙ†Ø§Ø¹ÙŠ']}];(0,react.useEffect)(()=>{fetchRealDiyaData();},[]);// Fetch real diya data from API
const fetchRealDiyaData=async()=>{try{setLoading(true);const response=await fetch("".concat(API_URL,"/api/diya/dashboard"));const result=await response.json();if(result.success&&result.data){// Transform API data to match component structure
const transformedDiyas=result.data.map(d=>({id:d.activity_id,title:d.title_ar||d.title_en,type:'accident',// Default type
amount:d.target_amount||100000,beneficiaryName:d.description_ar||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',paidAmount:d.total_collected||0,remainingAmount:(d.target_amount||100000)-(d.total_collected||0),contributors:d.total_contributors||0,status:d.collection_status==='completed'?'completed':'in_progress',priority:'high',collectorName:'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚',tags:['Ø¯ÙŠØ©']}));setDiyas(transformedDiyas);}else{// Fallback to mock data
setDiyas(mockDiyas);}}catch(error){console.error('Error fetching diya data:',error);// Fallback to mock data on error
setDiyas(mockDiyas);}finally{setLoading(false);}};// Fetch contributors for specific diya
const fetchContributors=async diyaId=>{try{const response=await fetch("".concat(API_URL,"/api/diya/").concat(diyaId,"/contributors"));const result=await response.json();if(result.success&&result.data){setContributors(result.data);setShowContributorsModal(true);}}catch(error){console.error('Error fetching contributors:',error);}};// Handle clicking on a diya card to see contributors
const handleViewContributors=diya=>{setSelectedDiya(diya);fetchContributors(diya.id);};// Helper functions
const getTypeInfo=type=>{const types={accident:{label:'Ø­Ø§Ø¯Ø« Ù…Ø±ÙˆØ±ÙŠ',color:'#FF3B30',icon:esm.ScaleIcon,gradient:'from-red-500 to-red-600'},manslaughter:{label:'Ù‚ØªÙ„ Ø®Ø·Ø£',color:'#FF9500',icon:esm.ShieldCheckIcon,gradient:'from-orange-500 to-orange-600'},injury:{label:'Ø¥ØµØ§Ø¨Ø©',color:'#FFCC02',icon:esm.HandRaisedIcon,gradient:'from-yellow-500 to-yellow-600'},work_accident:{label:'Ø­Ø§Ø¯Ø« Ø¹Ù…Ù„',color:'#30D158',icon:esm.FireIcon,gradient:'from-green-500 to-green-600'},other:{label:'Ø£Ø®Ø±Ù‰',color:'#8E8E93',icon:esm.ScaleIcon,gradient:'from-gray-500 to-gray-600'}};return types[type]||types.other;};const getStatusInfo=status=>{const statuses={pending:{label:'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©',color:'#FF9500',icon:esm.ClockIcon},in_progress:{label:'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­ØµÙŠÙ„',color:'#007AFF',icon:esm.ArrowTrendingUpIcon},completed:{label:'Ù…ÙƒØªÙ…Ù„Ø©',color:'#30D158',icon:esm.CheckCircleIcon},cancelled:{label:'Ù…Ù„ØºÙŠØ©',color:'#FF3B30',icon:esm.ExclamationTriangleIcon}};return statuses[status]||statuses.pending;};const getPriorityInfo=priority=>{const priorities={high:{label:'Ø¹Ø§Ù„ÙŠØ©',color:'#FF3B30',icon:esm.FireIcon},medium:{label:'Ù…ØªÙˆØ³Ø·Ø©',color:'#FF9500',icon:esm.StarIcon},low:{label:'Ù…Ù†Ø®ÙØ¶Ø©',color:'#8E8E93',icon:esm.ClockIcon}};return priorities[priority]||priorities.medium;};// Calculate statistics
const totalDiyas=diyas.length;const activeDiyas=diyas.filter(d=>d.status==='in_progress').length;const completedDiyas=diyas.filter(d=>d.status==='completed').length;const totalAmount=diyas.reduce((sum,d)=>sum+d.amount,0);const totalPaid=diyas.reduce((sum,d)=>sum+d.paidAmount,0);const totalRemaining=diyas.reduce((sum,d)=>sum+d.remainingAmount,0);const totalContributors=diyas.reduce((sum,d)=>sum+(d.contributors||0),0);// Diya tabs
const diyaTabs=[{id:'overview',label:'Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©',icon:esm.ChartBarIcon},{id:'active',label:'Ù‚Ø¶Ø§ÙŠØ§ Ù†Ø´Ø·Ø©',icon:esm.ArrowTrendingUpIcon},{id:'all',label:'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§',icon:esm.ScaleIcon},{id:'reports',label:'Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±',icon:esm.DocumentTextIcon}];// Handle date change with Hijri conversion
const handleDateChange=gregorianDate=>{setNewDiya(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{incidentDate:gregorianDate}));if(gregorianDate){const date=new Date(gregorianDate);const hijri=(0,hijri_converter.toHijri)(date.getFullYear(),date.getMonth()+1,date.getDate());const hijriFormatted="".concat(hijri.hd,"/").concat(hijri.hm,"/").concat(hijri.hy," \u0647\u0640");setNewDiya(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{incidentHijriDate:hijriFormatted}));}};const handleAmountChange=amount=>{setNewDiya(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{amount:amount,remainingAmount:amount-(prev.paidAmount||0)}));};const handleSubmit=e=>{e.preventDefault();// Add new diya with generated ID
const diya=(0,objectSpread2["default"])((0,objectSpread2["default"])({id:diyas.length+1},newDiya),{},{amount:parseFloat(newDiya.amount)||0,paidAmount:parseFloat(newDiya.paidAmount)||0,remainingAmount:parseFloat(newDiya.amount)-parseFloat(newDiya.paidAmount||0),contributors:0,priority:'high',tags:[getTypeInfo(newDiya.type).label]});setDiyas([diya,...diyas]);setShowAddModal(false);// Reset form
setNewDiya({title:'',type:'accident',amount:'',beneficiaryName:'',beneficiaryPhone:'',incidentDate:'',incidentHijriDate:'',location:'',description:'',status:'pending',paidAmount:'0',remainingAmount:'',collectorName:'',notes:''});};const AppleStatCard=_ref=>{let{title,value,icon:Icon,gradient,subtitle,trend,trendValue}=_ref;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(249, 250, 251, 0.9))',backdropFilter:'blur(10px)',WebkitBackdropFilter:'blur(10px)',border:'1px solid rgba(229, 231, 235, 0.5)',borderRadius:'16px',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',padding:'24px',transform:'scale(1)',transition:'transform 0.3s',cursor:'pointer'},onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.05)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-white shadow-lg",style:{background:"linear-gradient(135deg, ".concat(gradient,")"),animation:'apple-glow 3s ease-in-out infinite'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(Icon,{className:"w-6 h-6"})}),trend&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1 text-sm ".concat(trend==='up'?'text-green-400':'text-red-400'),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:trendValue}),/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowTrendingUpIcon,{className:"w-4 h-4 ".concat(trend==='down'?'rotate-180':'')})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"space-y-1",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-sm text-gray-600 font-medium",children:title}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:value}),subtitle&&/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-xs text-gray-500",children:subtitle})]})]});};const AppleDiyaCard=_ref2=>{let{diya}=_ref2;const typeInfo=getTypeInfo(diya.type);const statusInfo=getStatusInfo(diya.status);const priorityInfo=getPriorityInfo(diya.priority);const TypeIcon=typeInfo.icon;const StatusIcon=statusInfo.icon;const progressPercentage=(diya.paidAmount/diya.amount*100).toFixed(0);return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(249, 250, 251, 0.9))',backdropFilter:'blur(10px)',WebkitBackdropFilter:'blur(10px)',border:'1px solid rgba(229, 231, 235, 0.5)',borderRadius:'16px',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',padding:'24px',transform:'scale(1)',transition:'all 0.3s',cursor:'pointer'},onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.02)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';},onClick:()=>handleViewContributors(diya),children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-r ".concat(typeInfo.gradient," flex items-center justify-center text-white shadow-lg"),children:/*#__PURE__*/(0,jsx_runtime.jsx)(TypeIcon,{className:"w-6 h-6"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:diya.title}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-600",children:typeInfo.label})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium",style:{backgroundColor:"".concat(priorityInfo.color,"20"),color:priorityInfo.color},children:priorityInfo.label}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium",style:{backgroundColor:"".concat(statusInfo.color,"20"),color:statusInfo.color},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(StatusIcon,{className:"w-3 h-3"}),statusInfo.label]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"space-y-3",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex justify-between text-sm",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-gray-600",children:"\u0627\u0644\u0645\u0633\u062A\u0641\u064A\u062F:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"font-medium text-gray-900",children:diya.beneficiaryName})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex justify-between text-sm",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-gray-600",children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0643\u0644\u064A:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"font-bold text-gray-900",children:[diya.amount.toLocaleString('ar-SA')," \u0631.\u0633"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mb-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0644\u062A\u0642\u062F\u0645 \u0641\u064A \u0627\u0644\u062A\u062D\u0635\u064A\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:[progressPercentage,"%"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-400 h-3 rounded-full transition-all duration-500 relative overflow-hidden",style:{width:"".concat(progressPercentage,"%")},children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 animate-pulse"})})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0645\u062D\u0635\u0644: ",diya.paidAmount.toLocaleString('ar-SA')," \u0631.\u0633"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0645\u062A\u0628\u0642\u064A: ",diya.remainingAmount.toLocaleString('ar-SA')," \u0631.\u0633"]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UsersIcon,{className:"w-4 h-4 text-gray-500"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"text-xs text-gray-600",children:[diya.contributors," \u0645\u0633\u0627\u0647\u0645"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarDaysIcon,{className:"w-4 h-4 text-gray-500"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-xs text-gray-600",children:diya.incidentDate})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{style:{flex:1,padding:'8px',background:'linear-gradient(135deg, #3B82F6, #2563EB)',color:'white',border:'none',borderRadius:'8px',fontSize:'12px',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',gap:'4px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BanknotesIcon,{className:"w-3 h-3"}),"\u0627\u0644\u0645\u0633\u0627\u0647\u0645\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{style:{padding:'8px 12px',background:'#F3F4F6',color:'#4B5563',border:'none',borderRadius:'8px',fontSize:'12px',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeIcon,{className:"w-3 h-3"}),"\u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644"]})]})]})]});};const renderTabContent=()=>{switch(activeTab){case'overview':return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"space-y-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(AppleStatCard,{title:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0642\u0636\u0627\u064A\u0627",value:totalDiyas.toString(),icon:esm.ScaleIcon,gradient:"#007AFF, #5856D6",trend:"up",trendValue:"+2"}),/*#__PURE__*/(0,jsx_runtime.jsx)(AppleStatCard,{title:"\u0642\u0636\u0627\u064A\u0627 \u0646\u0634\u0637\u0629",value:activeDiyas.toString(),icon:esm.ArrowTrendingUpIcon,gradient:"#30D158, #32D74B"}),/*#__PURE__*/(0,jsx_runtime.jsx)(AppleStatCard,{title:"\u0642\u0636\u0627\u064A\u0627 \u0645\u0643\u062A\u0645\u0644\u0629",value:completedDiyas.toString(),icon:esm.CheckCircleIcon,gradient:"#FF9500, #FFCC02"}),/*#__PURE__*/(0,jsx_runtime.jsx)(AppleStatCard,{title:"\u0639\u062F\u062F \u0627\u0644\u0645\u0633\u0627\u0647\u0645\u064A\u0646",value:totalContributors.toString(),icon:esm.UsersIcon,gradient:"#FF3B30, #FF453A",subtitle:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0633\u0627\u0647\u0645\u064A\u0646"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(20px)',WebkitBackdropFilter:'blur(20px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'24px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-500 flex items-center justify-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CurrencyDollarIcon,{className:"w-5 h-5 text-white"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold text-white",children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-3xl font-bold text-white",children:[totalAmount.toLocaleString('ar-SA')," \u0631.\u0633"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"\u0645\u062C\u0645\u0648\u0639 \u062C\u0645\u064A\u0639 \u0627\u0644\u0642\u0636\u0627\u064A\u0627"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(20px)',WebkitBackdropFilter:'blur(20px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'24px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"w-5 h-5 text-white"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold text-white",children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062D\u0635\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-3xl font-bold text-green-400",children:[totalPaid.toLocaleString('ar-SA')," \u0631.\u0633"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"\u062A\u0645 \u062A\u062D\u0635\u064A\u0644\u0647 \u062D\u062A\u0649 \u0627\u0644\u0622\u0646"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(20px)',WebkitBackdropFilter:'blur(20px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'24px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-orange-500 to-red-500 flex items-center justify-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ExclamationTriangleIcon,{className:"w-5 h-5 text-white"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold text-white",children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062A\u0628\u0642\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-3xl font-bold text-orange-400",children:[totalRemaining.toLocaleString('ar-SA')," \u0631.\u0633"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"\u064A\u062D\u062A\u0627\u062C \u0625\u0644\u0649 \u062A\u062D\u0635\u064A\u0644"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(20px)',WebkitBackdropFilter:'blur(20px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'24px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\u0625\u062C\u0631\u0627\u0621\u0627\u062A \u0633\u0631\u064A\u0639\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex flex-wrap gap-3",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setShowAddModal(true),style:{padding:'10px 20px',background:'linear-gradient(135deg, #3B82F6, #2563EB)',color:'white',border:'none',borderRadius:'100px',fontSize:'14px',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PlusIcon,{className:"w-4 h-4"}),"\u0625\u0636\u0627\u0641\u0629 \u0642\u0636\u064A\u0629 \u062F\u064A\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{style:{padding:'10px 20px',background:'linear-gradient(135deg, #10B981, #059669)',color:'white',border:'none',borderRadius:'100px',fontSize:'14px',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BanknotesIcon,{className:"w-4 h-4"}),"\u062A\u0633\u062C\u064A\u0644 \u0645\u0633\u0627\u0647\u0645\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{style:{padding:'10px 20px',background:'linear-gradient(135deg, #8B5CF6, #7C3AED)',color:'white',border:'none',borderRadius:'100px',fontSize:'14px',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentTextIcon,{className:"w-4 h-4"}),"\u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631"]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(20px)',WebkitBackdropFilter:'blur(20px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'24px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\u0623\u062D\u062F\u062B \u0627\u0644\u0642\u0636\u0627\u064A\u0627"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:diyas.slice(0,3).map(diya=>/*#__PURE__*/(0,jsx_runtime.jsx)(AppleDiyaCard,{diya:diya},diya.id))})]})]});case'active':return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"space-y-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"\u0627\u0644\u0642\u0636\u0627\u064A\u0627 \u0627\u0644\u0646\u0634\u0637\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-400",children:"\u0627\u0644\u0642\u0636\u0627\u064A\u0627 \u0627\u0644\u062A\u064A \u062A\u062D\u062A\u0627\u062C \u0625\u0644\u0649 \u062A\u062D\u0635\u064A\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setShowAddModal(true),style:{padding:'10px 20px',background:'linear-gradient(135deg, #3B82F6, #2563EB)',color:'white',border:'none',borderRadius:'100px',fontSize:'14px',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PlusIcon,{className:"w-4 h-4"}),"\u0625\u0636\u0627\u0641\u0629 \u0642\u0636\u064A\u0629"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:diyas.filter(diya=>diya.status==='in_progress'||diya.status==='pending').map(diya=>/*#__PURE__*/(0,jsx_runtime.jsx)(AppleDiyaCard,{diya:diya},diya.id))})]});case'all':return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"space-y-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"\u062C\u0645\u064A\u0639 \u0642\u0636\u0627\u064A\u0627 \u0627\u0644\u062F\u064A\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-400",children:"\u0625\u062F\u0627\u0631\u0629 \u062C\u0645\u064A\u0639 \u0642\u0636\u0627\u064A\u0627 \u0627\u0644\u062F\u064A\u0627\u062A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setShowAddModal(true),style:{padding:'10px 20px',background:'linear-gradient(135deg, #3B82F6, #2563EB)',color:'white',border:'none',borderRadius:'100px',fontSize:'14px',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PlusIcon,{className:"w-4 h-4"}),"\u0625\u0636\u0627\u0641\u0629 \u0642\u0636\u064A\u0629"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(20px)',WebkitBackdropFilter:'blur(20px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'16px'},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex flex-wrap gap-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex-1 min-w-64",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{position:'relative'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MagnifyingGlassIcon,{style:{position:'absolute',right:'12px',top:'50%',transform:'translateY(-50%)',width:'20px',height:'20px',color:'rgba(255, 255, 255, 0.5)',pointerEvents:'none'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0627\u0644\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0642\u0636\u0627\u064A\u0627...",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),style:{width:'100%',padding:'12px 16px 12px 44px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'12px',color:'white',fontSize:'14px',outline:'none'}})]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:filterType,onChange:e=>setFilterType(e.target.value),style:{padding:'12px 16px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'12px',color:'white',fontSize:'14px',outline:'none'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0623\u0646\u0648\u0627\u0639"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"accident",children:"\u062D\u0627\u062F\u062B \u0645\u0631\u0648\u0631\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"manslaughter",children:"\u0642\u062A\u0644 \u062E\u0637\u0623"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"injury",children:"\u0625\u0635\u0627\u0628\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"work_accident",children:"\u062D\u0627\u062F\u062B \u0639\u0645\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"other",children:"\u0623\u062E\u0631\u0649"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:filterStatus,onChange:e=>setFilterStatus(e.target.value),style:{padding:'12px 16px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'12px',color:'white',fontSize:'14px',outline:'none'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0627\u0644\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"pending",children:"\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"in_progress",children:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0635\u064A\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"completed",children:"\u0645\u0643\u062A\u0645\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"cancelled",children:"\u0645\u0644\u063A\u064A\u0629"})]})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:diyas.filter(diya=>(!filterType||diya.type===filterType)&&(!filterStatus||diya.status===filterStatus)&&(!searchQuery||diya.title.toLowerCase().includes(searchQuery.toLowerCase()))).map(diya=>/*#__PURE__*/(0,jsx_runtime.jsx)(AppleDiyaCard,{diya:diya},diya.id))})]});case'reports':return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(249, 250, 251, 0.9))',backdropFilter:'blur(10px)',WebkitBackdropFilter:'blur(10px)',border:'1px solid rgba(229, 231, 235, 0.5)',borderRadius:'16px',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',padding:'32px',textAlign:'center'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentTextIcon,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"\u062A\u0642\u0627\u0631\u064A\u0631 \u0627\u0644\u062F\u064A\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-400",children:"\u0633\u064A\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u062A\u0642\u0627\u0631\u064A\u0631 \u0645\u0641\u0635\u0644\u0629 \u0639\u0646 \u0642\u0636\u0627\u064A\u0627 \u0627\u0644\u062F\u064A\u0627\u062A \u0642\u0631\u064A\u0628\u0627\u064B"})]});default:return null;}};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"p-6 space-y-6",dir:"rtl",style:{backgroundColor:'white',minHeight:'100vh'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:'flex',gap:'8px',padding:'8px',background:'linear-gradient(135deg, rgba(243, 244, 246, 0.9), rgba(249, 250, 251, 0.9))',backdropFilter:'blur(10px)',borderRadius:'16px',marginBottom:'24px'},children:diyaTabs.map(tab=>{const Icon=tab.icon;const isActive=activeTab===tab.id;return/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setActiveTab(tab.id),style:{padding:'10px 20px',background:isActive?'linear-gradient(135deg, #007AFF, #5856D6)':'transparent',border:'none',color:isActive?'white':'#86868B',fontSize:'14px',fontWeight:'500',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px',borderRadius:'100px',transition:'all 0.3s'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Icon,{className:"w-5 h-5"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:tab.label})]},tab.id);})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{animation:'apple-fade-up 0.6s cubic-bezier(0.4, 0, 0.2, 1)'},children:renderTabContent()}),showAddModal&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{position:'fixed',inset:0,backgroundColor:'rgba(0, 0, 0, 0.7)',backdropFilter:'blur(10px)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:9999},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'white',borderRadius:'0',width:'100%',maxWidth:'100%',height:'100vh',maxHeight:'100vh',overflow:'hidden',boxShadow:'none',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',padding:'24px',borderBottom:'1px solid #e5e7eb',flexShrink:0},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{style:{fontSize:'24px',fontWeight:'bold',color:'#1F2937'},children:"\u0625\u0636\u0627\u0641\u0629 \u0642\u0636\u064A\u0629 \u062F\u064A\u0629 \u062C\u062F\u064A\u062F\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowAddModal(false),style:{padding:'8px',background:'#F3F4F6',border:'none',borderRadius:'8px',cursor:'pointer'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XMarkIcon,{style:{width:'24px',height:'24px',color:'#6B7280'}})})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("form",{onSubmit:handleSubmit,style:{flex:1,overflowY:'auto',padding:'32px',maxHeight:'calc(100vh - 160px)'},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gap:'20px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'#F9FAFB',padding:'20px',borderRadius:'12px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'16px',fontWeight:'600',marginBottom:'16px',color:'#374151'},children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0642\u0636\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'16px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{gridColumn:'span 2'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',color:'#4B5563'},children:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0642\u0636\u064A\u0629 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",required:true,value:newDiya.title,onChange:e=>setNewDiya(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{title:e.target.value})),placeholder:"\u0645\u062B\u0627\u0644: \u062F\u064A\u0629 \u062D\u0627\u062F\u062B \u0645\u0631\u0648\u0631\u064A - \u0637\u0631\u064A\u0642 \u0627\u0644\u0631\u064A\u0627\u0636",style:{width:'100%',padding:'10px',border:'1px solid #D1D5DB',borderRadius:'8px',fontSize:'14px'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',color:'#4B5563'},children:"\u0646\u0648\u0639 \u0627\u0644\u0642\u0636\u064A\u0629 *"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{required:true,value:newDiya.type,onChange:e=>setNewDiya(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{type:e.target.value})),style:{width:'100%',padding:'10px',border:'1px solid #D1D5DB',borderRadius:'8px',fontSize:'14px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"accident",children:"\u062D\u0627\u062F\u062B \u0645\u0631\u0648\u0631\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"manslaughter",children:"\u0642\u062A\u0644 \u062E\u0637\u0623"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"injury",children:"\u0625\u0635\u0627\u0628\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"work_accident",children:"\u062D\u0627\u062F\u062B \u0639\u0645\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"other",children:"\u0623\u062E\u0631\u0649"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Common_SimpleHijriDatePicker,{label:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062D\u0627\u062F\u062B\u0629",value:newDiya.incidentDate,onChange:gregorianDate=>setNewDiya(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{incidentDate:gregorianDate})),required:true})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',color:'#4B5563'},children:"\u0627\u0644\u0645\u0643\u0627\u0646 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",required:true,value:newDiya.location,onChange:e=>setNewDiya(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{location:e.target.value})),placeholder:"\u0645\u062B\u0627\u0644: \u0637\u0631\u064A\u0642 \u0627\u0644\u0631\u064A\u0627\u0636 - \u0627\u0644\u062F\u0645\u0627\u0645",style:{width:'100%',padding:'10px',border:'1px solid #D1D5DB',borderRadius:'8px',fontSize:'14px'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',color:'#4B5563'},children:"\u0627\u0644\u062D\u0627\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:newDiya.status,onChange:e=>setNewDiya(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{status:e.target.value})),style:{width:'100%',padding:'10px',border:'1px solid #D1D5DB',borderRadius:'8px',fontSize:'14px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"pending",children:"\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"in_progress",children:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0635\u064A\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"completed",children:"\u0645\u0643\u062A\u0645\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"cancelled",children:"\u0645\u0644\u063A\u064A\u0629"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{gridColumn:'span 2'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',color:'#4B5563'},children:"\u0648\u0635\u0641 \u0627\u0644\u0642\u0636\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{value:newDiya.description,onChange:e=>setNewDiya(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{description:e.target.value})),rows:"3",placeholder:"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062D\u0627\u062F\u062B\u0629 \u0648\u0627\u0644\u0638\u0631\u0648\u0641...",style:{width:'100%',padding:'10px',border:'1px solid #D1D5DB',borderRadius:'8px',fontSize:'14px',resize:'vertical'}})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'#F9FAFB',padding:'20px',borderRadius:'12px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'16px',fontWeight:'600',marginBottom:'16px',color:'#374151'},children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u0641\u064A\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'16px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',color:'#4B5563'},children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u0641\u064A\u062F *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",required:true,value:newDiya.beneficiaryName,onChange:e=>setNewDiya(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{beneficiaryName:e.target.value})),placeholder:"\u0627\u0633\u0645 \u0627\u0644\u0634\u062E\u0635 \u0623\u0648 \u0627\u0644\u0639\u0627\u0626\u0644\u0629",style:{width:'100%',padding:'10px',border:'1px solid #D1D5DB',borderRadius:'8px',fontSize:'14px'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',color:'#4B5563'},children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"tel",value:newDiya.beneficiaryPhone,onChange:e=>setNewDiya(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{beneficiaryPhone:e.target.value})),placeholder:"05xxxxxxxx",style:{width:'100%',padding:'10px',border:'1px solid #D1D5DB',borderRadius:'8px',fontSize:'14px'}})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'#F9FAFB',padding:'20px',borderRadius:'12px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'16px',fontWeight:'600',marginBottom:'16px',color:'#374151'},children:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0627\u0644\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'1fr 1fr 1fr',gap:'16px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',color:'#4B5563'},children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0643\u0644\u064A (\u0631\u064A\u0627\u0644) *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",required:true,value:newDiya.amount,onChange:e=>handleAmountChange(e.target.value),style:{width:'100%',padding:'10px',border:'1px solid #D1D5DB',borderRadius:'8px',fontSize:'14px'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',color:'#4B5563'},children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062D\u0635\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",value:newDiya.paidAmount,onChange:e=>setNewDiya(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{paidAmount:e.target.value,remainingAmount:(prev.amount||0)-(e.target.value||0)})),style:{width:'100%',padding:'10px',border:'1px solid #D1D5DB',borderRadius:'8px',fontSize:'14px'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',color:'#4B5563'},children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062A\u0628\u0642\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",value:newDiya.remainingAmount||newDiya.amount-newDiya.paidAmount||'',disabled:true,style:{width:'100%',padding:'10px',border:'1px solid #E5E7EB',borderRadius:'8px',fontSize:'14px',background:'#F9FAFB',color:'#6B7280'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',color:'#4B5563'},children:"\u0627\u0644\u0645\u0633\u0624\u0648\u0644 \u0639\u0646 \u0627\u0644\u062A\u062D\u0635\u064A\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:newDiya.collectorName,onChange:e=>setNewDiya(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{collectorName:e.target.value})),placeholder:"\u0627\u0633\u0645 \u0627\u0644\u0634\u062E\u0635 \u0627\u0644\u0645\u0633\u0624\u0648\u0644",style:{width:'100%',padding:'10px',border:'1px solid #D1D5DB',borderRadius:'8px',fontSize:'14px'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{gridColumn:'span 2'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',color:'#4B5563'},children:"\u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{value:newDiya.notes,onChange:e=>setNewDiya(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{notes:e.target.value})),rows:"2",placeholder:"\u0623\u064A \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0623\u0648 \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629...",style:{width:'100%',padding:'10px',border:'1px solid #D1D5DB',borderRadius:'8px',fontSize:'14px',resize:'vertical'}})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'12px',justifyContent:'flex-end'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>setShowAddModal(false),style:{padding:'10px 24px',background:'#F3F4F6',color:'#4B5563',border:'none',borderRadius:'8px',fontSize:'14px',fontWeight:'600',cursor:'pointer'},children:"\u0625\u0644\u063A\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"submit",style:{padding:'10px 24px',background:'linear-gradient(135deg, #3B82F6, #2563EB)',color:'white',border:'none',borderRadius:'8px',fontSize:'14px',fontWeight:'600',cursor:'pointer'},children:"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0642\u0636\u064A\u0629"})]})]})})]})}),showContributorsModal&&selectedDiya&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.7)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:9999,padding:'20px'},onClick:()=>setShowContributorsModal(false),children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'white',borderRadius:'20px',maxWidth:'1200px',width:'100%',maxHeight:'90vh',overflow:'auto',padding:'32px'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'24px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h2",{style:{fontSize:'24px',fontWeight:'bold',color:'#1F2937',marginBottom:'8px'},children:[selectedDiya.title," - \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0633\u0627\u0647\u0645\u064A\u0646"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'24px',fontSize:'14px',color:'#6B7280'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0633\u0627\u0647\u0645\u064A\u0646: ",/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:contributors.length})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A: ",/*#__PURE__*/(0,jsx_runtime.jsxs)("strong",{children:[selectedDiya.paidAmount.toLocaleString('ar-SA')," \u0631.\u0633"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0645\u062A\u0648\u0633\u0637 \u0627\u0644\u0645\u0633\u0627\u0647\u0645\u0629: ",/*#__PURE__*/(0,jsx_runtime.jsxs)("strong",{children:[contributors.length>0?(selectedDiya.paidAmount/contributors.length).toFixed(0):0," \u0631.\u0633"]})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowContributorsModal(false),style:{padding:'8px',background:'#F3F4F6',border:'none',borderRadius:'8px',cursor:'pointer'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XMarkIcon,{style:{width:'24px',height:'24px',color:'#6B7280'}})})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{background:'#F9FAFB',borderRadius:'12px',padding:'16px',marginBottom:'16px'},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("table",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("thead",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{style:{background:'#1F2937',color:'white'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:{padding:'12px',textAlign:'right',borderRadius:'8px 0 0 0'},children:"\u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:{padding:'12px',textAlign:'right'},children:"\u0627\u0644\u0627\u0633\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:{padding:'12px',textAlign:'right'},children:"\u0627\u0644\u0641\u062E\u0630"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:{padding:'12px',textAlign:'right'},children:"\u0627\u0644\u0645\u0628\u0644\u063A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:{padding:'12px',textAlign:'right',borderRadius:'0 8px 0 0'},children:"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("tbody",{children:contributors.length>0?contributors.map((contributor,index)=>/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{style:{borderBottom:'1px solid #E5E7EB'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("td",{style:{padding:'12px',textAlign:'right'},children:contributor.membership_number}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{style:{padding:'12px',textAlign:'right',fontWeight:'500'},children:contributor.member_name}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{style:{padding:'12px',textAlign:'right'},children:contributor.tribal_section||'-'}),/*#__PURE__*/(0,jsx_runtime.jsxs)("td",{style:{padding:'12px',textAlign:'right',fontWeight:'bold',color:'#10B981'},children:[contributor.amount.toLocaleString('ar-SA')," \u0631.\u0633"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{style:{padding:'12px',textAlign:'right'},children:new Date(contributor.contribution_date).toLocaleDateString('ar-SA')})]},index)):/*#__PURE__*/(0,jsx_runtime.jsx)("tr",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("td",{colSpan:"5",style:{padding:'32px',textAlign:'center',color:'#9CA3AF'},children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0633\u0627\u0647\u0645\u0627\u062A \u062D\u0627\u0644\u064A\u0627\u064B"})})})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:'flex',justifyContent:'flex-end',gap:'12px'},children:/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowContributorsModal(false),style:{padding:'10px 20px',background:'#F3F4F6',border:'none',borderRadius:'8px',fontWeight:'600',cursor:'pointer'},children:"\u0625\u063A\u0644\u0627\u0642"})})]})})]});};/* harmony default export */ const Diyas_AppleDiyasManagement = (AppleDiyasManagement);
;// ./src/constants/arabic.ts
const ARABIC_LABELS={// Navigation
dashboard:'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',activities:'Ø§Ù„Ø£Ù†Ø´Ø·Ø©',members:'Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡',contributions:'Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø§Øª',reports:'Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±',settings:'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª',logout:'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬',// Dashboard
totalActivities:'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø©',totalMembers:'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡',totalContributions:'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø§Øª',pendingApprovals:'ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©',monthlyRevenue:'Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©',activeMembers:'Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù†Ø´Ø·ÙŠÙ†',// Activities
familyOccasions:'Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ©',charitableInitiatives:'Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª Ø§Ù„Ø®ÙŠØ±ÙŠØ©',diyasAndCompensations:'Ø§Ù„Ø¯ÙŠØ§Øª ÙˆØ§Ù„ØªØ¹ÙˆÙŠØ¶Ø§Øª',addNewActivity:'Ø¥Ø¶Ø§ÙØ© Ù†Ø´Ø§Ø· Ø¬Ø¯ÙŠØ¯',editActivity:'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·',deleteActivity:'Ø­Ø°Ù Ø§Ù„Ù†Ø´Ø§Ø·',approveActivity:'Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø´Ø§Ø·',rejectActivity:'Ø±ÙØ¶ Ø§Ù„Ù†Ø´Ø§Ø·',// Members
addNewMember:'Ø¥Ø¶Ø§ÙØ© Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯',editMember:'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ø¶Ùˆ',deleteMember:'Ø­Ø°Ù Ø§Ù„Ø¹Ø¶Ùˆ',memberRole:'Ø¯ÙˆØ± Ø§Ù„Ø¹Ø¶Ùˆ',memberStatus:'Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø¶Ùˆ',lastLogin:'Ø¢Ø®Ø± ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„',// Contributions
approveContribution:'Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©',rejectContribution:'Ø±ÙØ¶ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©',paymentMethod:'Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹',contributionAmount:'Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©',contributionDate:'ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©',// Common
save:'Ø­ÙØ¸',cancel:'Ø¥Ù„ØºØ§Ø¡',edit:'ØªØ¹Ø¯ÙŠÙ„',delete:'Ø­Ø°Ù',view:'Ø¹Ø±Ø¶',search:'Ø¨Ø­Ø«',filter:'ØªØµÙÙŠØ©',export:'ØªØµØ¯ÙŠØ±',print:'Ø·Ø¨Ø§Ø¹Ø©',refresh:'ØªØ­Ø¯ÙŠØ«',loading:'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...',error:'Ø®Ø·Ø£',success:'Ù†Ø¬Ø­',warning:'ØªØ­Ø°ÙŠØ±',info:'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',// Forms
required:'Ù…Ø·Ù„ÙˆØ¨',email:'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',phone:'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ',name:'Ø§Ù„Ø§Ø³Ù…',description:'Ø§Ù„ÙˆØµÙ',date:'Ø§Ù„ØªØ§Ø±ÙŠØ®',amount:'Ø§Ù„Ù…Ø¨Ù„Øº',status:'Ø§Ù„Ø­Ø§Ù„Ø©',// Status
active:'Ù†Ø´Ø·',inactive:'ØºÙŠØ± Ù†Ø´Ø·',pending:'Ù…Ø¹Ù„Ù‚',approved:'Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡',rejected:'Ù…Ø±ÙÙˆØ¶',completed:'Ù…ÙƒØªÙ…Ù„',cancelled:'Ù…Ù„ØºÙŠ',// Roles
superAdmin:'Ù…Ø¯ÙŠØ± Ø¹Ø§Ù…',admin:'Ù…Ø¯ÙŠØ±',financialManager:'Ù…Ø¯ÙŠØ± Ù…Ø§Ù„ÙŠ',organizer:'Ù…Ù†Ø¸Ù…',member:'Ø¹Ø¶Ùˆ',// Payments
payments:'Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª',paymentsOverview:'Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª',createPayment:'Ø¥Ù†Ø´Ø§Ø¡ Ø¯ÙØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø©',paymentDetails:'ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¯ÙØ¹',paymentHistory:'ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª',paymentReference:'Ø±Ù‚Ù… Ø§Ù„Ù…Ø±Ø¬Ø¹',totalPayments:'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª',pendingPayments:'Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©',overduePayments:'Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©',totalRevenue:'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª',paymentCategory:'ÙØ¦Ø© Ø§Ù„Ø¯ÙØ¹',paymentType:'Ù†ÙˆØ¹ Ø§Ù„Ø¯ÙØ¹',dueDate:'ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚',paidDate:'ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¯ÙØ¹',approvePayment:'Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹',rejectPayment:'Ø±ÙØ¶ Ø§Ù„Ø¯ÙØ¹',refundPayment:'Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø¯ÙØ¹',generateReceipt:'Ø¥Ù†Ø´Ø§Ø¡ Ø¥ÙŠØµØ§Ù„',printReceipt:'Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¥ÙŠØµØ§Ù„',paymentApproved:'ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹',paymentRejected:'ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø¯ÙØ¹',paymentRefunded:'ØªÙ… Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø¯ÙØ¹',subscriptionPayment:'Ø¯ÙØ¹ Ø§Ø´ØªØ±Ø§Ùƒ',activityPayment:'Ø¯ÙØ¹ Ù†Ø´Ø§Ø·',membershipFee:'Ø±Ø³ÙˆÙ… Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©',donationPayment:'Ø¯ÙØ¹ ØªØ¨Ø±Ø¹',// Payment Methods
cash:'Ù†Ù‚Ø¯ÙŠ',bankTransfer:'Ø­ÙˆØ§Ù„Ø© Ø¨Ù†ÙƒÙŠØ©',appPayment:'Ø¯ÙØ¹ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',digitalWallet:'Ù…Ø­ÙØ¸Ø© Ø±Ù‚Ù…ÙŠØ©',creditCard:'Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù†',debitCard:'Ø¨Ø·Ø§Ù‚Ø© Ù…Ø¯ÙŠÙ†',check:'Ø´ÙŠÙƒ',// Validation Messages
fieldRequired:'Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨',invalidEmail:'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­',invalidPhone:'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ØºÙŠØ± ØµØ­ÙŠØ­',passwordTooShort:'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù‚ØµÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹',amountTooLow:'Ø§Ù„Ù…Ø¨Ù„Øº Ø£Ù‚Ù„ Ù…Ù† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ (50 Ø±ÙŠØ§Ù„)',// Success Messages
activityCreated:'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø´Ø§Ø· Ø¨Ù†Ø¬Ø§Ø­',memberAdded:'ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø¶Ùˆ Ø¨Ù†Ø¬Ø§Ø­',contributionApproved:'ØªÙ… Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©',dataExported:'ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­',// Error Messages
networkError:'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„',serverError:'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…',unauthorized:'ØºÙŠØ± Ù…ØµØ±Ø­',forbidden:'Ù…Ù…Ù†ÙˆØ¹',notFound:'ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯',// Occasions
occasions:'Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª',occasionsOverview:'Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª',createOccasion:'Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†Ø§Ø³Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©',occasionDetails:'ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©',occasionCalendar:'ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª',occasionType:'Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©',occasionLocation:'Ù…ÙƒØ§Ù† Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©',occasionTime:'ÙˆÙ‚Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©',rsvp:'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¶ÙˆØ±',rsvpManagement:'Ø¥Ø¯Ø§Ø±Ø© ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¶ÙˆØ±',attendees:'Ø§Ù„Ø­Ø¶ÙˆØ±',confirmed:'Ù…Ø¤ÙƒØ¯',declined:'Ù…Ø¹ØªØ°Ø±',maybe:'Ø±Ø¨Ù…Ø§',wedding:'Ø²ÙØ§Ù',birth:'ÙˆÙ„Ø§Ø¯Ø©',graduation:'ØªØ®Ø±Ø¬',celebration:'Ø§Ø­ØªÙØ§Ù„',conference:'Ù…Ø¤ØªÙ…Ø±',meeting:'Ø§Ø¬ØªÙ…Ø§Ø¹',// Initiatives
initiatives:'Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª',initiativesOverview:'Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª',createInitiative:'Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¨Ø§Ø¯Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©',initiativeDetails:'ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø©',initiativeCategories:'ÙØ¦Ø§Øª Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª',initiativeProgress:'ØªÙ‚Ø¯Ù… Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø©',targetAmount:'Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù',raisedAmount:'Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¬Ù…Ø¹',contribution:'Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©',contribute:'Ø³Ø§Ù‡Ù…',minimumContribution:'Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ù…Ø³Ø§Ù‡Ù…Ø© (50 Ø±ÙŠØ§Ù„)',education:'Ø§Ù„ØªØ¹Ù„ÙŠÙ…',health:'Ø§Ù„ØµØ­Ø©',charity:'Ø§Ù„Ø®ÙŠØ±',community:'Ø§Ù„Ù…Ø¬ØªÙ…Ø¹',environment:'Ø§Ù„Ø¨ÙŠØ¦Ø©',technology:'Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§',// Diyas
diyas:'Ø§Ù„Ø¯ÙŠØ§Øª',diyasOverview:'Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙŠØ§Øª',createDiya:'Ø¥Ù†Ø´Ø§Ø¡ Ø¯ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©',diyaDetails:'ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¯ÙŠØ©',diyaStatus:'Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙŠØ©',caseDetails:'ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù‚Ø¶ÙŠØ©',compensationAmount:'Ù…Ø¨Ù„Øº Ø§Ù„ØªØ¹ÙˆÙŠØ¶',minimumDiya:'Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø¯ÙŠØ© (50 Ø±ÙŠØ§Ù„)',caseType:'Ù†ÙˆØ¹ Ø§Ù„Ù‚Ø¶ÙŠØ©',accidentalDamage:'Ø¶Ø±Ø± Ø¹Ø§Ø±Ø¶',intentionalDamage:'Ø¶Ø±Ø± Ù…Ù‚ØµÙˆØ¯',medicalCompensation:'ØªØ¹ÙˆÙŠØ¶ Ø·Ø¨ÙŠ',propertyDamage:'Ø¶Ø±Ø± ÙÙŠ Ø§Ù„Ù…Ù…ØªÙ„ÙƒØ§Øª',resolved:'ØªÙ… Ø§Ù„Ø­Ù„',investigating:'Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ù‚ÙŠÙ‚',awaitingPayment:'ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¯ÙØ¹',// Notifications
notifications:'Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª',notificationsCenter:'Ù…Ø±ÙƒØ² Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª',createNotification:'Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø´Ø¹Ø§Ø± Ø¬Ø¯ÙŠØ¯',notificationDetails:'ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±',notificationFilters:'Ù…Ø±Ø´Ø­Ø§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª',unreadNotifications:'Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØºÙŠØ± Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡Ø©',markAsRead:'ØªØ­Ø¯ÙŠØ¯ ÙƒÙ…Ù‚Ø±ÙˆØ¡',markAllAsRead:'ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„ ÙƒÙ…Ù‚Ø±ÙˆØ¡',notificationType:'Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±',notificationPriority:'Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±',sendToAll:'Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø¬Ù…ÙŠØ¹',sendToGroup:'Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©',general:'Ø¹Ø§Ù…',urgent:'Ø¹Ø§Ø¬Ù„',reminder:'ØªØ°ÙƒÙŠØ±',announcement:'Ø¥Ø¹Ù„Ø§Ù†',high:'Ø¹Ø§Ù„ÙŠØ©',medium:'Ù…ØªÙˆØ³Ø·Ø©',low:'Ù…Ù†Ø®ÙØ¶Ø©',read:'Ù…Ù‚Ø±ÙˆØ¡',unread:'ØºÙŠØ± Ù…Ù‚Ø±ÙˆØ¡',// Calendar
calendar:'Ø§Ù„ØªÙ‚ÙˆÙŠÙ…',hijriDate:'Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ',gregorianDate:'Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ',today:'Ø§Ù„ÙŠÙˆÙ…',tomorrow:'ØºØ¯Ø§Ù‹',thisWeek:'Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹',thisMonth:'Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±',nextMonth:'Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù‚Ø§Ø¯Ù…',// Progress and Stats
progress:'Ø§Ù„ØªÙ‚Ø¯Ù…',percentage:'Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©',goal:'Ø§Ù„Ù‡Ø¯Ù',achieved:'ØªÙ… ØªØ­Ù‚ÙŠÙ‚Ù‡',remaining:'Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ',contributors:'Ø§Ù„Ù…Ø³Ø§Ù‡Ù…ÙˆÙ†',totalContributors:'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…ÙŠÙ†',averageContribution:'Ù…ØªÙˆØ³Ø· Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©'};const CURRENCY={symbol:'Ø±.Ø³',code:'SAR',name:'Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ'};const HIJRI_MONTHS=['Ù…Ø­Ø±Ù…','ØµÙØ±','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø«Ø§Ù†ÙŠØ©','Ø±Ø¬Ø¨','Ø´Ø¹Ø¨Ø§Ù†','Ø±Ù…Ø¶Ø§Ù†','Ø´ÙˆØ§Ù„','Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©','Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©'];
;// ./src/components/Notifications/NotificationsList.tsx
const NotificationsList=_ref=>{let{notifications,onView,onEdit,onDelete,onMarkAsRead,loading=false,currentPage=1,totalPages=1,onPageChange}=_ref;const[selectedNotifications,setSelectedNotifications]=(0,react.useState)([]);const getTypeIcon=type=>{switch(type){case'urgent':return esm.ExclamationTriangleIcon;case'reminder':return esm.ClockIcon;case'announcement':return esm.SpeakerWaveIcon;case'invitation':return esm.EnvelopeIcon;case'payment':return esm.BellIcon;case'system':return esm.InformationCircleIcon;case'welcome':return esm.SpeakerWaveIcon;default:return esm.InformationCircleIcon;}};const getTypeColor=type=>{switch(type){case'urgent':return'#ef4444';case'reminder':return'#f59e0b';case'announcement':return'#3b82f6';case'invitation':return'#8b5cf6';case'payment':return'#10b981';case'system':return'#6b7280';case'welcome':return'#f97316';default:return'#6b7280';}};const getTypeLabel=type=>{switch(type){case'general':return ARABIC_LABELS.general;case'urgent':return ARABIC_LABELS.urgent;case'reminder':return ARABIC_LABELS.reminder;case'announcement':return ARABIC_LABELS.announcement;case'invitation':return'Ø¯Ø¹ÙˆØ©';case'payment':return'Ø¯ÙØ¹';case'system':return'Ù†Ø¸Ø§Ù…';case'welcome':return'ØªØ±Ø­ÙŠØ¨';default:return type;}};const getPriorityColor=priority=>{switch(priority){case'urgent':return'#dc2626';case'high':return'#f59e0b';case'medium':return'#3b82f6';case'low':return'#10b981';default:return'#6b7280';}};const getPriorityLabel=priority=>{switch(priority){case'urgent':return ARABIC_LABELS.urgent;case'high':return ARABIC_LABELS.high;case'medium':return ARABIC_LABELS.medium;case'low':return ARABIC_LABELS.low;default:return priority;}};const getStatusColor=status=>{switch(status){case'sent':return'#10b981';case'scheduled':return'#3b82f6';case'sending':return'#f59e0b';case'failed':return'#ef4444';case'cancelled':return'#6b7280';case'draft':return'#8b5cf6';default:return'#6b7280';}};const getStatusLabel=status=>{switch(status){case'draft':return'Ù…Ø³ÙˆØ¯Ø©';case'scheduled':return'Ù…Ø¬Ø¯ÙˆÙ„';case'sending':return'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„';case'sent':return'ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„';case'failed':return'ÙØ´Ù„';case'cancelled':return'Ù…Ù„ØºÙŠ';default:return status;}};const getRecipientTypeLabel=type=>{switch(type){case'all':return'Ø§Ù„Ø¬Ù…ÙŠØ¹';case'group':return'Ù…Ø¬Ù…ÙˆØ¹Ø©';case'role':return'Ø¯ÙˆØ±';case'individual':return'Ø£ÙØ±Ø§Ø¯';case'custom':return'Ù…Ø®ØµØµ';default:return type;}};const formatDate=date=>{return new Intl.DateTimeFormat('ar-SA',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'}).format(date);};const calculateReadRate=notification=>{if(notification.totalRecipients===0)return 0;return Math.round(notification.readCount/notification.totalRecipients*100);};const handleSelectAll=()=>{if(selectedNotifications.length===notifications.length){setSelectedNotifications([]);}else{setSelectedNotifications(notifications.map(n=>n.id));}};const handleSelectNotification=notificationId=>{setSelectedNotifications(prev=>prev.includes(notificationId)?prev.filter(id=>id!==notificationId):[...prev,notificationId]);};const containerStyle={background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(20px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',overflow:'hidden',boxShadow:'0 8px 32px rgba(0, 0, 0, 0.1)',direction:'rtl'};const headerStyle={background:'rgba(255, 255, 255, 0.6)',padding:'16px 20px',borderBottom:'1px solid rgba(0, 0, 0, 0.1)',display:'flex',justifyContent:'space-between',alignItems:'center'};const titleStyle={fontSize:'18px',fontWeight:'700',color:'#1f2937',margin:0};const bulkActionsStyle={display:'flex',gap:'8px',alignItems:'center'};const actionButtonStyle={padding:'6px 12px',border:'none',borderRadius:'6px',fontSize:'12px',fontWeight:'600',cursor:'pointer',transition:'all 0.2s ease'};const notificationItemStyle={padding:'20px',borderBottom:'1px solid rgba(0, 0, 0, 0.1)',transition:'all 0.2s ease',background:'rgba(255, 255, 255, 0.3)'};const notificationHeaderStyle={display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'12px'};const notificationTitleStyle={fontSize:'16px',fontWeight:'600',color:'#1f2937',marginBottom:'4px',lineHeight:'1.4'};const notificationMetaStyle={display:'flex',gap:'12px',alignItems:'center',fontSize:'12px',color:'#6b7280',marginBottom:'8px',flexWrap:'wrap'};const badgeStyle={padding:'2px 6px',borderRadius:'8px',fontSize:'10px',fontWeight:'600',color:'white',display:'inline-flex',alignItems:'center',gap:'2px'};const actionsStyle={display:'flex',gap:'4px',alignItems:'center'};const iconButtonStyle={padding:'6px',border:'none',borderRadius:'6px',cursor:'pointer',transition:'all 0.2s ease',display:'flex',alignItems:'center',justifyContent:'center'};const paginationStyle={display:'flex',justifyContent:'center',alignItems:'center',gap:'8px',padding:'16px',background:'rgba(255, 255, 255, 0.6)',borderTop:'1px solid rgba(0, 0, 0, 0.1)'};const pageButtonStyle={padding:'8px 12px',border:'1px solid rgba(0, 0, 0, 0.2)',borderRadius:'6px',background:'rgba(255, 255, 255, 0.8)',cursor:'pointer',fontSize:'14px',fontWeight:'500',transition:'all 0.2s ease'};const activePageStyle=(0,objectSpread2["default"])((0,objectSpread2["default"])({},pageButtonStyle),{},{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',border:'none'});if(loading){return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:containerStyle,children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{padding:'40px',textAlign:'center',color:'#6b7280'},children:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644..."})});}return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:containerStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:headerStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h3",{style:titleStyle,children:["\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A (",notifications.length,")"]}),selectedNotifications.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:bulkActionsStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:{fontSize:'14px',color:'#6b7280'},children:[selectedNotifications.length," \u0645\u062D\u062F\u062F"]}),onMarkAsRead&&/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},actionButtonStyle),{},{background:'#10b981',color:'white'}),onClick:()=>{selectedNotifications.forEach(id=>onMarkAsRead(id));setSelectedNotifications([]);},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{style:{width:'14px',height:'14px',marginLeft:'4px'}}),"\u062A\u062D\u062F\u064A\u062F \u0643\u0645\u0642\u0631\u0648\u0621"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},actionButtonStyle),{},{background:'#ef4444',color:'white'}),onClick:()=>{selectedNotifications.forEach(id=>{const notification=notifications.find(n=>n.id===id);if(notification)onDelete(notification);});setSelectedNotifications([]);},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.TrashIcon,{style:{width:'14px',height:'14px',marginLeft:'4px'}}),"\u062D\u0630\u0641"]})]})]}),notifications.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{padding:'12px 20px',background:'rgba(255, 255, 255, 0.4)',borderBottom:'1px solid rgba(0, 0, 0, 0.1)',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"checkbox",checked:selectedNotifications.length===notifications.length,onChange:handleSelectAll,style:{width:'16px',height:'16px'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontSize:'14px',fontWeight:'600',color:'#374151'},children:"\u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0643\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:notifications.length>0?notifications.map(notification=>{const TypeIcon=getTypeIcon(notification.type);const typeColor=getTypeColor(notification.type);const priorityColor=getPriorityColor(notification.priority);const statusColor=getStatusColor(notification.status);const readRate=calculateReadRate(notification);return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:notificationItemStyle,onMouseEnter:e=>{e.currentTarget.style.background='rgba(255, 255, 255, 0.5)';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(255, 255, 255, 0.3)';},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:notificationHeaderStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{flex:1},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'flex-start',gap:'12px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"checkbox",checked:selectedNotifications.includes(notification.id),onChange:()=>handleSelectNotification(notification.id),style:{width:'16px',height:'16px',marginTop:'2px'}}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{flex:1},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h4",{style:notificationTitleStyle,children:notification.title}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:notificationMetaStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},badgeStyle),{},{background:typeColor}),children:[/*#__PURE__*/(0,jsx_runtime.jsx)(TypeIcon,{style:{width:'12px',height:'12px'}}),getTypeLabel(notification.type)]}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},badgeStyle),{},{background:priorityColor}),children:getPriorityLabel(notification.priority)}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},badgeStyle),{},{background:statusColor}),children:getStatusLabel(notification.status)}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:{display:'flex',alignItems:'center',gap:'2px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UsersIcon,{style:{width:'12px',height:'12px'}}),getRecipientTypeLabel(notification.recipientType)]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:{display:'flex',alignItems:'center',gap:'2px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarIcon,{style:{width:'12px',height:'12px'}}),notification.sentDate?formatDate(notification.sentDate):notification.scheduledDate?"\u0645\u062C\u062F\u0648\u0644: ".concat(formatDate(notification.scheduledDate)):formatDate(notification.createdDate)]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{fontSize:'14px',color:'#6b7280',lineHeight:'1.5',margin:'0 0 12px 0'},children:notification.message.length>150?"".concat(notification.message.substring(0,150),"..."):notification.message}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'16px',alignItems:'center',fontSize:'12px',color:'#6b7280'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:{display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UsersIcon,{style:{width:'14px',height:'14px'}}),notification.totalRecipients," \u0645\u0633\u062A\u0642\u0628\u0644"]}),notification.status==='sent'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:{display:'flex',alignItems:'center',gap:'4px',color:readRate>50?'#10b981':'#f59e0b'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeSlashIcon,{style:{width:'14px',height:'14px'}}),notification.readCount," \u0642\u0631\u0623\u0648\u0627 (",readRate,"%)"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0628\u0648\u0627\u0633\u0637\u0629: ",notification.senderName]}),notification.tags.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A: ",notification.tags.join(', ')]})]})]})]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:actionsStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},iconButtonStyle),{},{background:'rgba(59, 130, 246, 0.1)',color:'#3b82f6'}),onClick:()=>onView(notification),title:"\u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644",onMouseEnter:e=>{e.currentTarget.style.background='rgba(59, 130, 246, 0.2)';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(59, 130, 246, 0.1)';},children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeIcon,{style:{width:'16px',height:'16px'}})}),notification.status==='draft'&&/*#__PURE__*/(0,jsx_runtime.jsx)("button",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},iconButtonStyle),{},{background:'rgba(16, 185, 129, 0.1)',color:'#10b981'}),onClick:()=>onEdit(notification),title:"\u062A\u0639\u062F\u064A\u0644",onMouseEnter:e=>{e.currentTarget.style.background='rgba(16, 185, 129, 0.2)';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(16, 185, 129, 0.1)';},children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PencilSquareIcon,{style:{width:'16px',height:'16px'}})}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},iconButtonStyle),{},{background:'rgba(239, 68, 68, 0.1)',color:'#ef4444'}),onClick:()=>onDelete(notification),title:"\u062D\u0630\u0641",onMouseEnter:e=>{e.currentTarget.style.background='rgba(239, 68, 68, 0.2)';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(239, 68, 68, 0.1)';},children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.TrashIcon,{style:{width:'16px',height:'16px'}})})]})]})},notification.id);}):/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{padding:'40px',textAlign:'center',color:'#6b7280'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BellIcon,{style:{width:'48px',height:'48px',margin:'0 auto 16px',opacity:0.5}}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{margin:'0 0 8px 0',fontSize:'18px'},children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0625\u0634\u0639\u0627\u0631\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{margin:0,fontSize:'14px'},children:"\u0644\u0645 \u064A\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0623\u064A \u0625\u0634\u0639\u0627\u0631\u0627\u062A \u0628\u0639\u062F"})]})}),totalPages>1&&onPageChange&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:paginationStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},pageButtonStyle),{},{opacity:currentPage===1?0.5:1,cursor:currentPage===1?'not-allowed':'pointer'}),onClick:()=>currentPage>1&&onPageChange(currentPage-1),disabled:currentPage===1,children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ChevronRightIcon,{style:{width:'16px',height:'16px'}})}),Array.from({length:totalPages},(_,i)=>i+1).map(page=>/*#__PURE__*/(0,jsx_runtime.jsx)("button",{style:page===currentPage?activePageStyle:pageButtonStyle,onClick:()=>onPageChange(page),children:page},page)),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},pageButtonStyle),{},{opacity:currentPage===totalPages?0.5:1,cursor:currentPage===totalPages?'not-allowed':'pointer'}),onClick:()=>currentPage<totalPages&&onPageChange(currentPage+1),disabled:currentPage===totalPages,children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ChevronLeftIcon,{style:{width:'16px',height:'16px'}})})]})]});};/* harmony default export */ const Notifications_NotificationsList = (NotificationsList);
;// ./src/components/Notifications/CreateNotificationModal.tsx
const notificationTypes=[{value:'general',label:ARABIC_LABELS.general,icon:esm.InformationCircleIcon,color:'#6b7280'},{value:'urgent',label:ARABIC_LABELS.urgent,icon:esm.ExclamationTriangleIcon,color:'#ef4444'},{value:'reminder',label:ARABIC_LABELS.reminder,icon:esm.ClockIcon,color:'#f59e0b'},{value:'announcement',label:ARABIC_LABELS.announcement,icon:esm.SpeakerWaveIcon,color:'#3b82f6'},{value:'invitation',label:'Ø¯Ø¹ÙˆØ©',icon:esm.EnvelopeIcon,color:'#8b5cf6'},{value:'payment',label:'Ø¯ÙØ¹',icon:esm.BellIcon,color:'#10b981'},{value:'system',label:'Ù†Ø¸Ø§Ù…',icon:esm.InformationCircleIcon,color:'#6b7280'},{value:'welcome',label:'ØªØ±Ø­ÙŠØ¨',icon:esm.SpeakerWaveIcon,color:'#f97316'}];const priorities=[{value:'low',label:ARABIC_LABELS.low,color:'#10b981'},{value:'medium',label:ARABIC_LABELS.medium,color:'#3b82f6'},{value:'high',label:ARABIC_LABELS.high,color:'#f59e0b'},{value:'urgent',label:ARABIC_LABELS.urgent,color:'#ef4444'}];const recipientTypes=[{value:'all',label:ARABIC_LABELS.sendToAll,description:'Ø¥Ø±Ø³Ø§Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡'},{value:'group',label:ARABIC_LABELS.sendToGroup,description:'Ø¥Ø±Ø³Ø§Ù„ Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ø­Ø¯Ø¯Ø©'},{value:'role',label:'Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆØ±',description:'Ø¥Ø±Ø³Ø§Ù„ Ø­Ø³Ø¨ Ø¯ÙˆØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'},{value:'individual',label:'Ø£ÙØ±Ø§Ø¯ Ù…Ø­Ø¯Ø¯ÙŠÙ†',description:'Ø§Ø®ØªÙŠØ§Ø± Ø£Ø¹Ø¶Ø§Ø¡ Ù…Ø­Ø¯Ø¯ÙŠÙ†'},{value:'custom',label:'Ù…Ø®ØµØµ',description:'ØªØ­Ø¯ÙŠØ¯ Ù…Ø¹Ø§ÙŠÙŠØ± Ù…Ø®ØµØµØ©'}];const CreateNotificationModal=_ref=>{let{isOpen,onClose,onSubmit,isLoading=false,groups=[],roles=[],members=[]}=_ref;const[formData,setFormData]=(0,react.useState)({title:'',message:'',type:'general',priority:'medium',recipientType:'all',selectedRecipients:[],selectedGroups:[],selectedRoles:[],scheduledDate:'',scheduledTime:'',tags:[],attachments:[]});const[tagInput,setTagInput]=(0,react.useState)('');const[errors,setErrors]=(0,react.useState)({});const[previewMode,setPreviewMode]=(0,react.useState)(false);if(!isOpen)return null;const validateForm=()=>{var _formData$selectedGro,_formData$selectedRol;const newErrors={};if(!formData.title.trim()){newErrors.title=ARABIC_LABELS.fieldRequired;}if(!formData.message.trim()){newErrors.message=ARABIC_LABELS.fieldRequired;}if(formData.recipientType==='group'&&((_formData$selectedGro=formData.selectedGroups)===null||_formData$selectedGro===void 0?void 0:_formData$selectedGro.length)===0){newErrors.recipients='ÙŠØ¬Ø¨ Ø§Ø®ØªÙŠØ§Ø± Ù…Ø¬Ù…ÙˆØ¹Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„';}if(formData.recipientType==='role'&&((_formData$selectedRol=formData.selectedRoles)===null||_formData$selectedRol===void 0?void 0:_formData$selectedRol.length)===0){newErrors.recipients='ÙŠØ¬Ø¨ Ø§Ø®ØªÙŠØ§Ø± Ø¯ÙˆØ± ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„';}if(formData.recipientType==='individual'&&formData.selectedRecipients.length===0){newErrors.recipients='ÙŠØ¬Ø¨ Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¶Ùˆ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„';}if(formData.scheduledDate&&!formData.scheduledTime){newErrors.scheduledTime='ÙŠØ¬Ø¨ ØªØ­Ø¯ÙŠØ¯ ÙˆÙ‚Øª Ø§Ù„Ø¥Ø±Ø³Ø§Ù„';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=e=>{e.preventDefault();if(validateForm()){onSubmit(formData);}};const handleAddTag=()=>{if(tagInput.trim()&&!formData.tags.includes(tagInput.trim())){setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{tags:[...prev.tags,tagInput.trim()]}));setTagInput('');}};const handleRemoveTag=tagToRemove=>{setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{tags:prev.tags.filter(tag=>tag!==tagToRemove)}));};const handleKeyPress=e=>{if(e.key==='Enter'){e.preventDefault();handleAddTag();}};const getTypeConfig=type=>{return notificationTypes.find(t=>t.value===type)||notificationTypes[0];};const getPriorityConfig=priority=>{return priorities.find(p=>p.value===priority)||priorities[0];};const typeConfig=getTypeConfig(formData.type);const priorityConfig=getPriorityConfig(formData.priority);const TypeIcon=typeConfig.icon;const overlayStyle={position:'fixed',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.5)',backdropFilter:'blur(8px)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'20px'};const modalStyle={background:'linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.8) 100%)',backdropFilter:'blur(20px)',border:'1px solid rgba(255, 255, 255, 0.3)',borderRadius:'20px',padding:'32px',maxWidth:'700px',width:'100%',maxHeight:'90vh',overflowY:'auto',boxShadow:'0 25px 50px rgba(0, 0, 0, 0.25)',direction:'rtl'};const headerStyle={display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'24px',paddingBottom:'16px',borderBottom:'1px solid rgba(0, 0, 0, 0.1)'};const titleStyle={fontSize:'24px',fontWeight:'700',color:'#1f2937',margin:0,display:'flex',alignItems:'center',gap:'8px'};const closeButtonStyle={background:'none',border:'none',cursor:'pointer',padding:'8px',borderRadius:'8px',transition:'background 0.2s ease'};const formGroupStyle={marginBottom:'20px'};const labelStyle={display:'block',fontSize:'14px',fontWeight:'600',color:'#374151',marginBottom:'6px'};const inputStyle={width:'100%',padding:'12px 16px',border:'1px solid rgba(0, 0, 0, 0.2)',borderRadius:'12px',fontSize:'14px',background:'rgba(255, 255, 255, 0.8)',backdropFilter:'blur(10px)',outline:'none',transition:'all 0.2s ease',fontFamily:'inherit',direction:'rtl'};const textareaStyle=(0,objectSpread2["default"])((0,objectSpread2["default"])({},inputStyle),{},{minHeight:'100px',resize:'vertical'});const selectStyle=(0,objectSpread2["default"])((0,objectSpread2["default"])({},inputStyle),{},{cursor:'pointer'});const errorStyle={color:'#ef4444',fontSize:'12px',marginTop:'4px'};const typeGridStyle={display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(120px, 1fr))',gap:'8px',marginTop:'8px'};const typeOptionStyle={padding:'12px 8px',border:'1px solid rgba(0, 0, 0, 0.2)',borderRadius:'8px',cursor:'pointer',transition:'all 0.2s ease',textAlign:'center',fontSize:'12px',fontWeight:'600',background:'rgba(255, 255, 255, 0.8)'};const priorityGridStyle={display:'grid',gridTemplateColumns:'repeat(4, 1fr)',gap:'8px',marginTop:'8px'};const recipientGridStyle={display:'grid',gridTemplateColumns:'1fr',gap:'8px',marginTop:'8px'};const recipientOptionStyle={padding:'12px',border:'1px solid rgba(0, 0, 0, 0.2)',borderRadius:'8px',cursor:'pointer',transition:'all 0.2s ease',background:'rgba(255, 255, 255, 0.8)'};const previewStyle={background:'rgba(59, 130, 246, 0.1)',border:'1px solid rgba(59, 130, 246, 0.2)',borderRadius:'12px',padding:'16px',marginBottom:'20px'};const submitButtonStyle={width:'100%',padding:'14px',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',border:'none',borderRadius:'12px',fontSize:'16px',fontWeight:'600',cursor:'pointer',transition:'all 0.2s ease',marginTop:'20px'};const toggleButtonStyle={padding:'8px 16px',background:'rgba(59, 130, 246, 0.1)',color:'#3b82f6',border:'1px solid rgba(59, 130, 246, 0.2)',borderRadius:'8px',fontSize:'14px',fontWeight:'600',cursor:'pointer',marginBottom:'16px'};return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:overlayStyle,onClick:onClose,children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:modalStyle,onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:headerStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h2",{style:titleStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(TypeIcon,{style:{width:'28px',height:'28px',color:typeConfig.color}}),ARABIC_LABELS.createNotification]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{style:closeButtonStyle,onClick:onClose,onMouseEnter:e=>{e.currentTarget.style.background='rgba(0, 0, 0, 0.1)';},onMouseLeave:e=>{e.currentTarget.style.background='none';},children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XMarkIcon,{style:{width:'24px',height:'24px'}})})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{style:toggleButtonStyle,onClick:()=>setPreviewMode(!previewMode),children:previewMode?'ÙˆØ¶Ø¹ Ø§Ù„ØªØ­Ø±ÙŠØ±':'Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±'}),previewMode?/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:previewStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h4",{style:{margin:'0 0 8px 0',color:typeConfig.color,display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(TypeIcon,{style:{width:'20px',height:'20px'}}),formData.title||'Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±']}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{margin:'0 0 12px 0',lineHeight:'1.5'},children:formData.message||'Ù†Øµ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±...'}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'8px',alignItems:'center',fontSize:'12px',color:'#6b7280'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{background:priorityConfig.color,color:'white',padding:'2px 6px',borderRadius:'8px',fontSize:'10px'},children:priorityConfig.label}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:typeConfig.label}),formData.tags.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u2022 ",formData.tags.join(', ')]})]})]}):/*#__PURE__*/(0,jsx_runtime.jsxs)("form",{onSubmit:handleSubmit,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:formGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0625\u0634\u0639\u0627\u0631 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},inputStyle),{},{borderColor:errors.title?'#ef4444':'rgba(0, 0, 0, 0.2)'}),value:formData.title,onChange:e=>setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{title:e.target.value})),placeholder:"\u0639\u0646\u0648\u0627\u0646 \u0645\u062E\u062A\u0635\u0631 \u0648\u0648\u0627\u0636\u062D \u0644\u0644\u0625\u0634\u0639\u0627\u0631"}),errors.title&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:errorStyle,children:errors.title})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:formGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u0646\u0635 \u0627\u0644\u0625\u0634\u0639\u0627\u0631 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},textareaStyle),{},{borderColor:errors.message?'#ef4444':'rgba(0, 0, 0, 0.2)'}),value:formData.message,onChange:e=>setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{message:e.target.value})),placeholder:"\u0627\u0644\u0645\u062D\u062A\u0648\u0649 \u0627\u0644\u062A\u0641\u0635\u064A\u0644\u064A \u0644\u0644\u0625\u0634\u0639\u0627\u0631..."}),errors.message&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:errorStyle,children:errors.message})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:formGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u0646\u0648\u0639 \u0627\u0644\u0625\u0634\u0639\u0627\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:typeGridStyle,children:notificationTypes.map(type=>{const Icon=type.icon;const isSelected=formData.type===type.value;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},typeOptionStyle),{},{background:isSelected?"".concat(type.color,"15"):'rgba(255, 255, 255, 0.8)',borderColor:isSelected?type.color:'rgba(0, 0, 0, 0.2)',color:isSelected?type.color:'#374151'}),onClick:()=>setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{type:type.value})),children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Icon,{style:{width:'20px',height:'20px',margin:'0 auto 4px'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:type.label})]},type.value);})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:formGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u0627\u0644\u0623\u0648\u0644\u0648\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:priorityGridStyle,children:priorities.map(priority=>{const isSelected=formData.priority===priority.value;return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},typeOptionStyle),{},{background:isSelected?"".concat(priority.color,"15"):'rgba(255, 255, 255, 0.8)',borderColor:isSelected?priority.color:'rgba(0, 0, 0, 0.2)',color:isSelected?priority.color:'#374151'}),onClick:()=>setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{priority:priority.value})),children:priority.label},priority.value);})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:formGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{style:labelStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UsersIcon,{style:{width:'16px',height:'16px',display:'inline',marginLeft:'4px'}}),"\u0627\u0644\u0645\u0633\u062A\u0642\u0628\u0644\u0648\u0646 *"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:recipientGridStyle,children:recipientTypes.map(type=>{const isSelected=formData.recipientType===type.value;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},recipientOptionStyle),{},{background:isSelected?'rgba(102, 126, 234, 0.1)':'rgba(255, 255, 255, 0.8)',borderColor:isSelected?'#667eea':'rgba(0, 0, 0, 0.2)'}),onClick:()=>setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{recipientType:type.value})),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontWeight:'600',marginBottom:'4px'},children:type.label}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'12px',color:'#6b7280'},children:type.description})]},type.value);})}),errors.recipients&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:errorStyle,children:errors.recipients})]}),formData.recipientType==='group'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:formGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("select",{multiple:true,style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},selectStyle),{},{minHeight:'100px'}),value:formData.selectedGroups,onChange:e=>{const values=Array.from(e.target.selectedOptions,option=>option.value);setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{selectedGroups:values}));},children:groups.map(group=>/*#__PURE__*/(0,jsx_runtime.jsxs)("option",{value:group.id,children:[group.name," (",group.memberCount," \u0639\u0636\u0648)"]},group.id))})]}),formData.recipientType==='role'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:formGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u0623\u062F\u0648\u0627\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("select",{multiple:true,style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},selectStyle),{},{minHeight:'100px'}),value:formData.selectedRoles,onChange:e=>{const values=Array.from(e.target.selectedOptions,option=>option.value);setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{selectedRoles:values}));},children:roles.map(role=>/*#__PURE__*/(0,jsx_runtime.jsxs)("option",{value:role.id,children:[role.name," (",role.memberCount," \u0639\u0636\u0648)"]},role.id))})]}),formData.recipientType==='individual'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:formGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u0623\u0639\u0636\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("select",{multiple:true,style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},selectStyle),{},{minHeight:'150px'}),value:formData.selectedRecipients,onChange:e=>{const values=Array.from(e.target.selectedOptions,option=>option.value);setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{selectedRecipients:values}));},children:members.map(member=>/*#__PURE__*/(0,jsx_runtime.jsxs)("option",{value:member.id,children:[member.name," ",member.email&&"(".concat(member.email,")")]},member.id))})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'16px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:formGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{style:labelStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarIcon,{style:{width:'16px',height:'16px',display:'inline',marginLeft:'4px'}}),"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0631\u0633\u0627\u0644 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"date",style:inputStyle,value:formData.scheduledDate,onChange:e=>setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{scheduledDate:e.target.value}))})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:formGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{style:labelStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ClockIcon,{style:{width:'16px',height:'16px',display:'inline',marginLeft:'4px'}}),"\u0648\u0642\u062A \u0627\u0644\u0625\u0631\u0633\u0627\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"time",style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},inputStyle),{},{borderColor:errors.scheduledTime?'#ef4444':'rgba(0, 0, 0, 0.2)'}),value:formData.scheduledTime,onChange:e=>setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{scheduledTime:e.target.value}))}),errors.scheduledTime&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:errorStyle,children:errors.scheduledTime})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:formGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{style:labelStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.TagIcon,{style:{width:'16px',height:'16px',display:'inline',marginLeft:'4px'}}),"\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062A"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'8px',marginBottom:'8px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},inputStyle),{},{flex:1}),value:tagInput,onChange:e=>setTagInput(e.target.value),onKeyPress:handleKeyPress,placeholder:"\u0623\u0636\u0641 \u0639\u0644\u0627\u0645\u0629 \u062C\u062F\u064A\u062F\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",style:{padding:'8px 16px',background:'linear-gradient(135deg, #10b981 0%, #059669 100%)',color:'white',border:'none',borderRadius:'8px',fontSize:'14px',cursor:'pointer'},onClick:handleAddTag,children:"\u0625\u0636\u0627\u0641\u0629"})]}),formData.tags.length>0&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:'flex',flexWrap:'wrap',gap:'4px'},children:formData.tags.map((tag,index)=>/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',padding:'4px 8px',borderRadius:'12px',fontSize:'12px',display:'flex',alignItems:'center',gap:'4px'},children:[tag,/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>handleRemoveTag(tag),style:{background:'none',border:'none',color:'white',cursor:'pointer',padding:'0',fontSize:'14px'},children:"\xD7"})]},index))})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"submit",style:submitButtonStyle,disabled:isLoading,children:isLoading?ARABIC_LABELS.loading:formData.scheduledDate?'Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„':'Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¢Ù†'})]})]})});};/* harmony default export */ const Notifications_CreateNotificationModal = (CreateNotificationModal);
;// ./src/components/Notifications/NotificationFilters.tsx
const typeOptions=[{value:'general',label:ARABIC_LABELS.general},{value:'urgent',label:ARABIC_LABELS.urgent},{value:'reminder',label:ARABIC_LABELS.reminder},{value:'announcement',label:ARABIC_LABELS.announcement},{value:'invitation',label:'Ø¯Ø¹ÙˆØ©'},{value:'payment',label:'Ø¯ÙØ¹'},{value:'system',label:'Ù†Ø¸Ø§Ù…'},{value:'welcome',label:'ØªØ±Ø­ÙŠØ¨'}];const priorityOptions=[{value:'low',label:ARABIC_LABELS.low},{value:'medium',label:ARABIC_LABELS.medium},{value:'high',label:ARABIC_LABELS.high},{value:'urgent',label:ARABIC_LABELS.urgent}];const statusOptions=[{value:'draft',label:'Ù…Ø³ÙˆØ¯Ø©'},{value:'scheduled',label:'Ù…Ø¬Ø¯ÙˆÙ„'},{value:'sending',label:'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„'},{value:'sent',label:'ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„'},{value:'failed',label:'ÙØ´Ù„'},{value:'cancelled',label:'Ù…Ù„ØºÙŠ'}];const recipientTypeOptions=[{value:'all',label:'Ø§Ù„Ø¬Ù…ÙŠØ¹'},{value:'group',label:'Ù…Ø¬Ù…ÙˆØ¹Ø©'},{value:'role',label:'Ø¯ÙˆØ±'},{value:'individual',label:'Ø£ÙØ±Ø§Ø¯'},{value:'custom',label:'Ù…Ø®ØµØµ'}];const NotificationFilters=_ref=>{var _filters$dateRange,_filters$dateRange2,_typeOptions$find,_priorityOptions$find,_statusOptions$find,_recipientTypeOptions;let{filters,onFiltersChange,onClearFilters,className=''}=_ref;const updateFilter=(key,value)=>{onFiltersChange((0,objectSpread2["default"])((0,objectSpread2["default"])({},filters),{},{[key]:value}));};const updateDateRange=(field,date)=>{const dateRange=filters.dateRange||{start:new Date(),end:new Date()};onFiltersChange((0,objectSpread2["default"])((0,objectSpread2["default"])({},filters),{},{dateRange:(0,objectSpread2["default"])((0,objectSpread2["default"])({},dateRange),{},{[field]:date?new Date(date):undefined})}));};const hasActiveFilters=Object.values(filters).some(value=>{if(value===undefined||value==='')return false;if(typeof value==='object'&&value!==null){return Object.values(value).some(v=>v!==undefined);}return true;});const containerStyle={background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(20px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'20px',direction:'rtl'};const headerStyle={display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px'};const titleStyle={fontSize:'18px',fontWeight:'700',color:'#1f2937',margin:0,display:'flex',alignItems:'center',gap:'8px'};const clearButtonStyle={padding:'6px 12px',background:hasActiveFilters?'#ef4444':'rgba(107, 114, 128, 0.1)',color:hasActiveFilters?'white':'#6b7280',border:'none',borderRadius:'8px',fontSize:'12px',fontWeight:'600',cursor:hasActiveFilters?'pointer':'not-allowed',transition:'all 0.2s ease',display:'flex',alignItems:'center',gap:'4px'};const filtersGridStyle={display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'16px',marginBottom:'16px'};const filterGroupStyle={display:'flex',flexDirection:'column',gap:'6px'};const labelStyle={fontSize:'14px',fontWeight:'600',color:'#374151'};const selectStyle={padding:'8px 12px',border:'1px solid rgba(0, 0, 0, 0.2)',borderRadius:'8px',fontSize:'14px',background:'rgba(255, 255, 255, 0.8)',cursor:'pointer',outline:'none'};const inputStyle={padding:'8px 12px',border:'1px solid rgba(0, 0, 0, 0.2)',borderRadius:'8px',fontSize:'14px',background:'rgba(255, 255, 255, 0.8)',outline:'none',direction:'rtl'};const checkboxGroupStyle={display:'flex',gap:'16px',alignItems:'center',flexWrap:'wrap'};const checkboxItemStyle={display:'flex',alignItems:'center',gap:'6px',fontSize:'14px',cursor:'pointer'};const badgeStyle={display:'inline-flex',alignItems:'center',gap:'4px',padding:'4px 8px',background:'rgba(102, 126, 234, 0.1)',color:'#667eea',borderRadius:'12px',fontSize:'12px',fontWeight:'600'};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:containerStyle,className:className,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:headerStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h3",{style:titleStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.FunnelIcon,{style:{width:'20px',height:'20px'}}),ARABIC_LABELS.notificationFilters]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{style:clearButtonStyle,onClick:onClearFilters,disabled:!hasActiveFilters,onMouseEnter:e=>{if(hasActiveFilters){e.currentTarget.style.background='#dc2626';}},onMouseLeave:e=>{if(hasActiveFilters){e.currentTarget.style.background='#ef4444';}},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XMarkIcon,{style:{width:'14px',height:'14px'}}),"\u0645\u0633\u062D \u0627\u0644\u0641\u0644\u0627\u062A\u0631"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:filtersGridStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:filterGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u0646\u0648\u0639 \u0627\u0644\u0625\u0634\u0639\u0627\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{style:selectStyle,value:filters.type||'',onChange:e=>updateFilter('type',e.target.value||undefined),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0623\u0646\u0648\u0627\u0639"}),typeOptions.map(option=>/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:option.value,children:option.label},option.value))]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:filterGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u0627\u0644\u0623\u0648\u0644\u0648\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{style:selectStyle,value:filters.priority||'',onChange:e=>updateFilter('priority',e.target.value||undefined),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0623\u0648\u0644\u0648\u064A\u0627\u062A"}),priorityOptions.map(option=>/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:option.value,children:option.label},option.value))]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:filterGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u0627\u0644\u062D\u0627\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{style:selectStyle,value:filters.status||'',onChange:e=>updateFilter('status',e.target.value||undefined),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0627\u0644\u0627\u062A"}),statusOptions.map(option=>/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:option.value,children:option.label},option.value))]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:filterGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062A\u0642\u0628\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{style:selectStyle,value:filters.recipientType||'',onChange:e=>updateFilter('recipientType',e.target.value||undefined),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0623\u0646\u0648\u0627\u0639"}),recipientTypeOptions.map(option=>/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:option.value,children:option.label},option.value))]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:filtersGridStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:filterGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{style:labelStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarIcon,{style:{width:'16px',height:'16px',display:'inline',marginLeft:'4px'}}),"\u0645\u0646 \u062A\u0627\u0631\u064A\u062E"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"date",style:inputStyle,value:(_filters$dateRange=filters.dateRange)!==null&&_filters$dateRange!==void 0&&_filters$dateRange.start?filters.dateRange.start.toISOString().split('T')[0]:'',onChange:e=>updateDateRange('start',e.target.value)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:filterGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{style:labelStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarIcon,{style:{width:'16px',height:'16px',display:'inline',marginLeft:'4px'}}),"\u0625\u0644\u0649 \u062A\u0627\u0631\u064A\u062E"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"date",style:inputStyle,value:(_filters$dateRange2=filters.dateRange)!==null&&_filters$dateRange2!==void 0&&_filters$dateRange2.end?filters.dateRange.end.toISOString().split('T')[0]:'',onChange:e=>updateDateRange('end',e.target.value)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:filterGroupStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{style:labelStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.TagIcon,{style:{width:'16px',height:'16px',display:'inline',marginLeft:'4px'}}),"\u0627\u0644\u0628\u062D\u062B"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",style:inputStyle,value:filters.search||'',onChange:e=>updateFilter('search',e.target.value||undefined),placeholder:"\u0627\u0644\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0623\u0648 \u0627\u0644\u0645\u062D\u062A\u0648\u0649..."})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:checkboxGroupStyle,children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:checkboxItemStyle,onClick:()=>updateFilter('unreadOnly',!filters.unreadOnly),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"checkbox",checked:filters.unreadOnly||false,onChange:()=>{},style:{width:'16px',height:'16px'}}),/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeSlashIcon,{style:{width:'16px',height:'16px',color:'#6b7280'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u063A\u064A\u0631 \u0645\u0642\u0631\u0648\u0621 \u0641\u0642\u0637"})]})}),hasActiveFilters&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginTop:'16px',paddingTop:'16px',borderTop:'1px solid rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'14px',fontWeight:'600',marginBottom:'8px',color:'#374151'},children:"\u0627\u0644\u0641\u0644\u0627\u062A\u0631 \u0627\u0644\u0646\u0634\u0637\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',flexWrap:'wrap',gap:'6px'},children:[filters.type&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:badgeStyle,children:["\u0627\u0644\u0646\u0648\u0639: ",(_typeOptions$find=typeOptions.find(t=>t.value===filters.type))===null||_typeOptions$find===void 0?void 0:_typeOptions$find.label]}),filters.priority&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:badgeStyle,children:["\u0627\u0644\u0623\u0648\u0644\u0648\u064A\u0629: ",(_priorityOptions$find=priorityOptions.find(p=>p.value===filters.priority))===null||_priorityOptions$find===void 0?void 0:_priorityOptions$find.label]}),filters.status&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:badgeStyle,children:["\u0627\u0644\u062D\u0627\u0644\u0629: ",(_statusOptions$find=statusOptions.find(s=>s.value===filters.status))===null||_statusOptions$find===void 0?void 0:_statusOptions$find.label]}),filters.recipientType&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:badgeStyle,children:["\u0627\u0644\u0645\u0633\u062A\u0642\u0628\u0644: ",(_recipientTypeOptions=recipientTypeOptions.find(r=>r.value===filters.recipientType))===null||_recipientTypeOptions===void 0?void 0:_recipientTypeOptions.label]}),filters.search&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:badgeStyle,children:["\u0627\u0644\u0628\u062D\u062B: \"",filters.search,"\""]}),filters.unreadOnly&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:badgeStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeSlashIcon,{style:{width:'12px',height:'12px'}}),"\u063A\u064A\u0631 \u0645\u0642\u0631\u0648\u0621 \u0641\u0642\u0637"]}),filters.dateRange&&(filters.dateRange.start||filters.dateRange.end)&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:badgeStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarIcon,{style:{width:'12px',height:'12px'}}),"\u0641\u062A\u0631\u0629 \u0632\u0645\u0646\u064A\u0629"]})]})]})]});};/* harmony default export */ const Notifications_NotificationFilters = (NotificationFilters);
;// ./src/components/Notifications/NotificationBadge.tsx
const NotificationBadge=_ref=>{let{count,maxCount=99,showZero=false,size='medium',color='#ef4444',onClick,className=''}=_ref;const displayCount=count>maxCount?"".concat(maxCount,"+"):count.toString();const shouldShow=count>0||showZero;const getSizeConfig=()=>{switch(size){case'small':return{iconSize:'20px',badgeSize:'16px',badgePosition:{top:'-4px',left:'-4px'},fontSize:'10px',minWidth:'16px'};case'large':return{iconSize:'32px',badgeSize:'20px',badgePosition:{top:'-6px',left:'-6px'},fontSize:'12px',minWidth:'20px'};default:return{iconSize:'24px',badgeSize:'18px',badgePosition:{top:'-5px',left:'-5px'},fontSize:'11px',minWidth:'18px'};}};const sizeConfig=getSizeConfig();const containerStyle={position:'relative',display:'inline-flex',alignItems:'center',justifyContent:'center',cursor:onClick?'pointer':'default',transition:'all 0.2s ease'};const iconStyle={width:sizeConfig.iconSize,height:sizeConfig.iconSize,color:'#6b7280',transition:'color 0.2s ease'};const badgeStyle={position:'absolute',top:sizeConfig.badgePosition.top,left:sizeConfig.badgePosition.left,minWidth:sizeConfig.minWidth,height:sizeConfig.badgeSize,background:color,color:'white',borderRadius:'50%',display:'flex',alignItems:'center',justifyContent:'center',fontSize:sizeConfig.fontSize,fontWeight:'600',padding:'0 4px',border:'2px solid white',boxShadow:'0 2px 4px rgba(0, 0, 0, 0.1)',animation:count>0?'notification-pulse 2s infinite':'none'};const pulseStyle=react.useMemo(()=>{const style=document.createElement('style');style.textContent="\n      @keyframes notification-pulse {\n        0% { transform: scale(1); }\n        50% { transform: scale(1.1); }\n        100% { transform: scale(1); }\n      }\n      @keyframes notification-shake {\n        0%, 100% { transform: translateX(0); }\n        25% { transform: translateX(-2px); }\n        75% { transform: translateX(2px); }\n      }\n    ";document.head.appendChild(style);return()=>document.head.removeChild(style);},[]);// pulseStyle is applied directly in the JSX
const handleClick=()=>{if(onClick){// Add shake animation on click
const element=document.querySelector(".notification-badge-".concat(className));if(element){element.style.animation='notification-shake 0.5s ease-in-out';setTimeout(()=>{element.style.animation='';},500);}onClick();}};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:containerStyle,onClick:handleClick,className:"notification-badge-".concat(className),onMouseEnter:e=>{if(onClick){e.currentTarget.style.transform='scale(1.05)';const icon=e.currentTarget.querySelector('svg');if(icon){icon.style.color=color;}}},onMouseLeave:e=>{if(onClick){e.currentTarget.style.transform='scale(1)';const icon=e.currentTarget.querySelector('svg');if(icon){icon.style.color='#6b7280';}}},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BellIcon,{style:iconStyle}),shouldShow&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:badgeStyle,onAnimationEnd:e=>{// Reset animation after pulse completes
if(count===0){e.currentTarget.style.animation='none';}},children:displayCount})]});};/* harmony default export */ const Notifications_NotificationBadge = (NotificationBadge);
;// ./src/utils/arabic.ts
/**
 * Arabic utilities for number formatting, calendar display, and RTL support
 */// Arabic numerals mapping
const arabicNumeralsMap={'0':'Ù ','1':'Ù¡','2':'Ù¢','3':'Ù£','4':'Ù¤','5':'Ù¥','6':'Ù¦','7':'Ù§','8':'Ù¨','9':'Ù©'};// Western numerals mapping (reverse)
const westernNumeralsMap={'Ù ':'0','Ù¡':'1','Ù¢':'2','Ù£':'3','Ù¤':'4','Ù¥':'5','Ù¦':'6','Ù§':'7','Ù¨':'8','Ù©':'9'};// Arabic month names
const ARABIC_MONTHS=['ÙŠÙ†Ø§ÙŠØ±','ÙØ¨Ø±Ø§ÙŠØ±','Ù…Ø§Ø±Ø³','Ø£Ø¨Ø±ÙŠÙ„','Ù…Ø§ÙŠÙˆ','ÙŠÙˆÙ†ÙŠÙˆ','ÙŠÙˆÙ„ÙŠÙˆ','Ø£ØºØ³Ø·Ø³','Ø³Ø¨ØªÙ…Ø¨Ø±','Ø£ÙƒØªÙˆØ¨Ø±','Ù†ÙˆÙÙ…Ø¨Ø±','Ø¯ÙŠØ³Ù…Ø¨Ø±'];// Arabic day names
const ARABIC_DAYS=['Ø§Ù„Ø£Ø­Ø¯','Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†','Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡','Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡','Ø§Ù„Ø®Ù…ÙŠØ³','Ø§Ù„Ø¬Ù…Ø¹Ø©','Ø§Ù„Ø³Ø¨Øª'];// Arabic day names (short)
const ARABIC_DAYS_SHORT=['Ø£Ø­Ø¯','Ø¥Ø«Ù†','Ø«Ù„Ø§','Ø£Ø±Ø¨','Ø®Ù…ÙŠ','Ø¬Ù…Ø¹','Ø³Ø¨Øª'];// Hijri month names
const arabic_HIJRI_MONTHS=['Ù…Ø­Ø±Ù…','ØµÙØ±','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø«Ø§Ù†ÙŠØ©','Ø±Ø¬Ø¨','Ø´Ø¹Ø¨Ø§Ù†','Ø±Ù…Ø¶Ø§Ù†','Ø´ÙˆØ§Ù„','Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©','Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©'];/**
 * Convert Western numerals to Arabic numerals
 */const toArabicNumerals=str=>{const stringValue=str.toString();return stringValue.replace(/[0-9]/g,digit=>arabicNumeralsMap[digit]||digit);};/**
 * Convert Arabic numerals to Western numerals
 */const toWesternNumerals=str=>{return str.replace(/[Ù -Ù©]/g,digit=>westernNumeralsMap[digit]||digit);};/**
 * Format number with Arabic thousand separators
 */const formatArabicNumber=num=>{const formatted=new Intl.NumberFormat('ar-SA').format(num);return toArabicNumerals(formatted);};/**
 * Format currency in Arabic
 */const formatArabicCurrency=function(amount){let currency=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'Ø±ÙŠØ§Ù„';const formatted=formatArabicNumber(amount);return"".concat(formatted," ").concat(currency);};/**
 * Format date in Arabic
 */const formatArabicDate=date=>{const day=toArabicNumerals(date.getDate());const month=ARABIC_MONTHS[date.getMonth()];const year=toArabicNumerals(date.getFullYear());return"".concat(day," ").concat(month," ").concat(year);};/**
 * Format time in Arabic (12-hour format)
 */const formatArabicTime=time=>{const[hours,minutes]=time.split(':');const hour24=parseInt(hours);const isPM=hour24>=12;const hour12=hour24>12?hour24-12:hour24===0?12:hour24;const arabicHour=toArabicNumerals(hour12);const arabicMinutes=toArabicNumerals(minutes);const period=isPM?'Ù…Ø³Ø§Ø¡Ù‹':'ØµØ¨Ø§Ø­Ø§Ù‹';return"".concat(arabicHour,":").concat(arabicMinutes," ").concat(period);};/**
 * Format date and time together in Arabic
 */const formatArabicDateTime=(date,time)=>{const arabicDate=formatArabicDate(date);const arabicTime=formatArabicTime(time);return"".concat(arabicDate," - ").concat(arabicTime);};/**
 * Get Arabic day name
 */const getArabicDayName=date=>{return ARABIC_DAYS[date.getDay()];};/**
 * Get Arabic day name (short)
 */const getArabicDayNameShort=date=>{return ARABIC_DAYS_SHORT[date.getDay()];};/**
 * Convert Gregorian date to Hijri (approximation)
 * Note: This is a simplified conversion. For accurate conversion, use a proper Hijri calendar library
 */const toHijriDate=gregorianDate=>{// Simple approximation: Hijri epoch is July 16, 622 CE
const hijriEpoch=new Date(622,6,16);const diffTime=gregorianDate.getTime()-hijriEpoch.getTime();const diffDays=Math.floor(diffTime/(1000*60*60*24));// Average Hijri year is about 354.367 days
const hijriYear=Math.floor(diffDays/354.367)+1;const remainingDays=diffDays%354.367;const hijriMonth=Math.floor(remainingDays/29.5)+1;const hijriDay=Math.floor(remainingDays%29.5)+1;return{year:hijriYear,month:Math.min(hijriMonth,12),day:Math.min(hijriDay,30)};};/**
 * Format Hijri date in Arabic
 */const formatHijriDate=date=>{const hijri=toHijriDate(date);const day=toArabicNumerals(hijri.day);const month=arabic_HIJRI_MONTHS[hijri.month-1];const year=toArabicNumerals(hijri.year);return"".concat(day," ").concat(month," ").concat(year," \u0647\u0640");};/**
 * Format both Gregorian and Hijri dates
 */const formatDualDate=date=>{const gregorian=formatArabicDate(date);const hijri=formatHijriDate(date);return"".concat(gregorian," (").concat(hijri,")");};/**
 * Calculate relative time in Arabic
 */const getRelativeTimeArabic=date=>{const now=new Date();const diffMs=now.getTime()-date.getTime();const diffMinutes=Math.floor(diffMs/(1000*60));const diffHours=Math.floor(diffMs/(1000*60*60));const diffDays=Math.floor(diffMs/(1000*60*60*24));const diffWeeks=Math.floor(diffDays/7);const diffMonths=Math.floor(diffDays/30);const diffYears=Math.floor(diffDays/365);if(diffMinutes<1)return'Ø§Ù„Ø¢Ù†';if(diffMinutes<60)return"\u0645\u0646\u0630 ".concat(toArabicNumerals(diffMinutes)," ").concat(diffMinutes===1?'Ø¯Ù‚ÙŠÙ‚Ø©':'Ø¯Ù‚Ø§Ø¦Ù‚');if(diffHours<24)return"\u0645\u0646\u0630 ".concat(toArabicNumerals(diffHours)," ").concat(diffHours===1?'Ø³Ø§Ø¹Ø©':'Ø³Ø§Ø¹Ø§Øª');if(diffDays<7)return"\u0645\u0646\u0630 ".concat(toArabicNumerals(diffDays)," ").concat(diffDays===1?'ÙŠÙˆÙ…':'Ø£ÙŠØ§Ù…');if(diffWeeks<4)return"\u0645\u0646\u0630 ".concat(toArabicNumerals(diffWeeks)," ").concat(diffWeeks===1?'Ø£Ø³Ø¨ÙˆØ¹':'Ø£Ø³Ø§Ø¨ÙŠØ¹');if(diffMonths<12)return"\u0645\u0646\u0630 ".concat(toArabicNumerals(diffMonths)," ").concat(diffMonths===1?'Ø´Ù‡Ø±':'Ø´Ù‡ÙˆØ±');return"\u0645\u0646\u0630 ".concat(toArabicNumerals(diffYears)," ").concat(diffYears===1?'Ø³Ù†Ø©':'Ø³Ù†ÙˆØ§Øª');};/**
 * Get upcoming time in Arabic
 */const getUpcomingTimeArabic=date=>{const now=new Date();const diffMs=date.getTime()-now.getTime();if(diffMs<0)return getRelativeTimeArabic(date);const diffMinutes=Math.floor(diffMs/(1000*60));const diffHours=Math.floor(diffMs/(1000*60*60));const diffDays=Math.floor(diffMs/(1000*60*60*24));const diffWeeks=Math.floor(diffDays/7);const diffMonths=Math.floor(diffDays/30);const diffYears=Math.floor(diffDays/365);if(diffMinutes<60)return"\u062E\u0644\u0627\u0644 ".concat(toArabicNumerals(diffMinutes)," ").concat(diffMinutes===1?'Ø¯Ù‚ÙŠÙ‚Ø©':'Ø¯Ù‚Ø§Ø¦Ù‚');if(diffHours<24)return"\u062E\u0644\u0627\u0644 ".concat(toArabicNumerals(diffHours)," ").concat(diffHours===1?'Ø³Ø§Ø¹Ø©':'Ø³Ø§Ø¹Ø§Øª');if(diffDays<7)return"\u062E\u0644\u0627\u0644 ".concat(toArabicNumerals(diffDays)," ").concat(diffDays===1?'ÙŠÙˆÙ…':'Ø£ÙŠØ§Ù…');if(diffWeeks<4)return"\u062E\u0644\u0627\u0644 ".concat(toArabicNumerals(diffWeeks)," ").concat(diffWeeks===1?'Ø£Ø³Ø¨ÙˆØ¹':'Ø£Ø³Ø§Ø¨ÙŠØ¹');if(diffMonths<12)return"\u062E\u0644\u0627\u0644 ".concat(toArabicNumerals(diffMonths)," ").concat(diffMonths===1?'Ø´Ù‡Ø±':'Ø´Ù‡ÙˆØ±');return"\u062E\u0644\u0627\u0644 ".concat(toArabicNumerals(diffYears)," ").concat(diffYears===1?'Ø³Ù†Ø©':'Ø³Ù†ÙˆØ§Øª');};/**
 * Format percentage in Arabic
 */const formatArabicPercentage=value=>{const rounded=Math.round(value);return"".concat(toArabicNumerals(rounded),"%");};/**
 * RTL-aware text truncation
 */const truncateArabicText=(text,maxLength)=>{if(text.length<=maxLength)return text;return text.substring(0,maxLength-3)+'...';};/**
 * Check if text contains Arabic characters
 */const hasArabicCharacters=text=>{return /[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/.test(text);};/**
 * Get text direction based on content
 */const getTextDirection=text=>{return hasArabicCharacters(text)?'rtl':'ltr';};/**
 * Format Arabic phone number
 */const formatArabicPhoneNumber=phone=>{// Remove any non-numeric characters
const cleaned=toWesternNumerals(phone).replace(/\D/g,'');// Format as Saudi phone number if it matches the pattern
if(cleaned.length===10&&cleaned.startsWith('5')){const formatted="".concat(cleaned.substring(0,3)," ").concat(cleaned.substring(3,6)," ").concat(cleaned.substring(6));return toArabicNumerals(formatted);}// Format as international number
if(cleaned.length>10){const country=cleaned.substring(0,cleaned.length-9);const number=cleaned.substring(cleaned.length-9);const formatted="+".concat(country," ").concat(number.substring(0,3)," ").concat(number.substring(3,6)," ").concat(number.substring(6));return toArabicNumerals(formatted);}return toArabicNumerals(cleaned);};
;// ./src/utils/responsive.ts
/**
 * Mobile responsiveness utilities and breakpoint helpers
 */// Breakpoint definitions (matching TailwindCSS v4)
const BREAKPOINTS={xs:475,sm:640,md:768,lg:1024,xl:1280,'2xl':1536};/**
 * Get current breakpoint based on window width
 */const getCurrentBreakpoint=()=>{if(typeof window==='undefined')return'lg';const width=window.innerWidth;if(width<BREAKPOINTS.xs)return'xs';if(width<BREAKPOINTS.sm)return'sm';if(width<BREAKPOINTS.md)return'md';if(width<BREAKPOINTS.lg)return'lg';if(width<BREAKPOINTS.xl)return'xl';return'2xl';};/**
 * Check if current viewport is mobile
 */const isMobile=()=>{if(typeof window==='undefined')return false;return window.innerWidth<BREAKPOINTS.md;};/**
 * Check if current viewport is tablet
 */const isTablet=()=>{if(typeof window==='undefined')return false;return window.innerWidth>=BREAKPOINTS.md&&window.innerWidth<BREAKPOINTS.lg;};/**
 * Check if current viewport is desktop
 */const isDesktop=()=>{if(typeof window==='undefined')return true;return window.innerWidth>=BREAKPOINTS.lg;};/**
 * Hook for responsive behavior
 */const useResponsive=()=>{const[breakpoint,setBreakpoint]=(0,react.useState)(getCurrentBreakpoint());(0,react.useEffect)(()=>{const handleResize=()=>{setBreakpoint(getCurrentBreakpoint());};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);return{breakpoint,isMobile:breakpoint==='xs'||breakpoint==='sm',isTablet:breakpoint==='md',isDesktop:breakpoint==='lg'||breakpoint==='xl'||breakpoint==='2xl',width:typeof window!=='undefined'?window.innerWidth:1024};};/**
 * Touch-friendly button styles
 */const getTouchStyles=isMobile=>({minHeight:isMobile?'44px':'auto',minWidth:isMobile?'44px':'auto',padding:isMobile?'12px 16px':'8px 12px',fontSize:isMobile?'16px':'14px',// Prevent zoom on iOS
WebkitTapHighlightColor:'transparent',touchAction:'manipulation'});/**
 * Mobile-optimized modal styles
 */const getMobileModalStyles=isMobile=>({position:'fixed',top:0,left:0,right:0,bottom:0,zIndex:1000,display:'flex',alignItems:isMobile?'flex-end':'center',justifyContent:'center',padding:isMobile?'0':'20px',background:'rgba(0, 0, 0, 0.5)',backdropFilter:'blur(4px)'});/**
 * Mobile-optimized modal content styles
 */const getMobileModalContentStyles=isMobile=>({background:'white',borderRadius:isMobile?'20px 20px 0 0':'16px',boxShadow:'0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',maxHeight:isMobile?'90vh':'80vh',width:isMobile?'100%':'auto',maxWidth:isMobile?'100%':'500px',overflow:'hidden',animation:isMobile?'slideUp 0.3s ease-out':'scaleIn 0.2s ease-out'});/**
 * Grid layout styles for different breakpoints
 */const getResponsiveGridStyles=(breakpoint,columns)=>{const getColumnCount=()=>{switch(breakpoint){case'xs':return columns.xs||1;case'sm':return columns.sm||columns.xs||1;case'md':return columns.md||columns.sm||columns.xs||2;case'lg':return columns.lg||columns.md||columns.sm||3;case'xl':case'2xl':return columns.xl||columns.lg||columns.md||4;default:return 1;}};return{display:'grid',gridTemplateColumns:"repeat(".concat(getColumnCount(),", 1fr)"),gap:breakpoint==='xs'||breakpoint==='sm'?'12px':'16px'};};/**
 * Responsive padding/margin utilities
 */const getResponsiveSpacing=(breakpoint,spacing)=>{switch(breakpoint){case'xs':return spacing.xs||'12px';case'sm':return spacing.sm||spacing.xs||'16px';case'md':return spacing.md||spacing.sm||'20px';case'lg':case'xl':case'2xl':return spacing.lg||spacing.md||'24px';default:return'16px';}};/**
 * Responsive font sizes
 */const getResponsiveFontSize=(breakpoint,sizes)=>{switch(breakpoint){case'xs':return sizes.xs||'14px';case'sm':return sizes.sm||sizes.xs||'16px';case'md':return sizes.md||sizes.sm||'18px';case'lg':case'xl':case'2xl':return sizes.lg||sizes.md||'20px';default:return'16px';}};/**
 * Swipe gesture detection
 */const useSwipeGestures=function(handlers){let threshold=arguments.length>1&&arguments[1]!==undefined?arguments[1]:50;const[touchStart,setTouchStart]=(0,react.useState)(null);const handleTouchStart=e=>{const touch=e.touches[0];setTouchStart({x:touch.clientX,y:touch.clientY});};const handleTouchEnd=e=>{if(!touchStart)return;const touch=e.changedTouches[0];const deltaX=touch.clientX-touchStart.x;const deltaY=touch.clientY-touchStart.y;const absDeltaX=Math.abs(deltaX);const absDeltaY=Math.abs(deltaY);if(absDeltaX>threshold||absDeltaY>threshold){if(absDeltaX>absDeltaY){// Horizontal swipe
if(deltaX>0){var _handlers$onSwipeRigh;(_handlers$onSwipeRigh=handlers.onSwipeRight)===null||_handlers$onSwipeRigh===void 0?void 0:_handlers$onSwipeRigh.call(handlers);}else{var _handlers$onSwipeLeft;(_handlers$onSwipeLeft=handlers.onSwipeLeft)===null||_handlers$onSwipeLeft===void 0?void 0:_handlers$onSwipeLeft.call(handlers);}}else{// Vertical swipe
if(deltaY>0){var _handlers$onSwipeDown;(_handlers$onSwipeDown=handlers.onSwipeDown)===null||_handlers$onSwipeDown===void 0?void 0:_handlers$onSwipeDown.call(handlers);}else{var _handlers$onSwipeUp;(_handlers$onSwipeUp=handlers.onSwipeUp)===null||_handlers$onSwipeUp===void 0?void 0:_handlers$onSwipeUp.call(handlers);}}}setTouchStart(null);};return{onTouchStart:handleTouchStart,onTouchEnd:handleTouchEnd};};/**
 * Safe area padding for mobile devices
 */const getSafeAreaPadding=()=>({paddingTop:'env(safe-area-inset-top)',paddingBottom:'env(safe-area-inset-bottom)',paddingLeft:'env(safe-area-inset-left)',paddingRight:'env(safe-area-inset-right)'});/**
 * Responsive table styles
 */const getResponsiveTableStyles=isMobile=>{if(isMobile){return{display:'block',overflow:'auto',whiteSpace:'nowrap',WebkitOverflowScrolling:'touch',scrollbarWidth:'thin',scrollbarColor:'#cbd5e0 transparent'};}return{display:'table',width:'100%'};};/**
 * Mobile card view for tables
 */const getMobileCardStyles=()=>({display:'block',background:'white',borderRadius:'12px',padding:'16px',marginBottom:'12px',boxShadow:'0 2px 4px rgba(0, 0, 0, 0.1)',border:'1px solid rgba(0, 0, 0, 0.1)'});/**
 * Responsive image styles
 */const getResponsiveImageStyles=function(breakpoint){let aspectRatio=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'16/9';return{width:'100%',height:'auto',aspectRatio,objectFit:'cover',borderRadius:breakpoint==='xs'||breakpoint==='sm'?'8px':'12px'};};/**
 * Loading skeleton styles
 */const getSkeletonStyles=function(){let width=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'100%';let height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'20px';return{width,height,background:'linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)',backgroundSize:'200% 100%',animation:'skeleton-loading 1.5s infinite',borderRadius:'4px'};};// Add CSS animations to the document
const injectResponsiveAnimations=()=>{if(typeof document==='undefined')return;const style=document.createElement('style');style.textContent="\n    @keyframes slideUp {\n      from {\n        transform: translateY(100%);\n      }\n      to {\n        transform: translateY(0);\n      }\n    }\n\n    @keyframes scaleIn {\n      from {\n        transform: scale(0.9);\n        opacity: 0;\n      }\n      to {\n        transform: scale(1);\n        opacity: 1;\n      }\n    }\n\n    @keyframes skeleton-loading {\n      0% {\n        background-position: 200% 0;\n      }\n      100% {\n        background-position: -200% 0;\n      }\n    }\n\n    @keyframes pulse {\n      0%, 100% {\n        opacity: 1;\n      }\n      50% {\n        opacity: 0.5;\n      }\n    }\n\n    @keyframes bounce {\n      0%, 20%, 53%, 80%, 100% {\n        transform: translate3d(0, 0, 0);\n      }\n      40%, 43% {\n        transform: translate3d(0, -8px, 0);\n      }\n      70% {\n        transform: translate3d(0, -4px, 0);\n      }\n      90% {\n        transform: translate3d(0, -2px, 0);\n      }\n    }\n\n    @keyframes fadeIn {\n      from {\n        opacity: 0;\n      }\n      to {\n        opacity: 1;\n      }\n    }\n\n    @keyframes slideInRight {\n      from {\n        transform: translateX(100%);\n      }\n      to {\n        transform: translateX(0);\n      }\n    }\n\n    @keyframes slideInLeft {\n      from {\n        transform: translateX(-100%);\n      }\n      to {\n        transform: translateX(0);\n      }\n    }\n  ";document.head.appendChild(style);};// React hooks imported at the top
;// ./src/utils/animations.ts
/**
 * Animation utilities for smooth transitions and interactive elements
 *//**
 * Default animation configurations
 */const ANIMATION_PRESETS={fadeIn:{duration:300,easing:'ease-out',fillMode:'forwards'},slideUp:{duration:400,easing:'cubic-bezier(0.25, 0.46, 0.45, 0.94)',fillMode:'forwards'},slideDown:{duration:400,easing:'cubic-bezier(0.25, 0.46, 0.45, 0.94)',fillMode:'forwards'},slideLeft:{duration:300,easing:'ease-out',fillMode:'forwards'},slideRight:{duration:300,easing:'ease-out',fillMode:'forwards'},scaleIn:{duration:200,easing:'cubic-bezier(0.34, 1.56, 0.64, 1)',fillMode:'forwards'},scaleOut:{duration:150,easing:'ease-in',fillMode:'forwards'},pulse:{duration:1000,easing:'ease-in-out',iterationCount:'infinite'},bounce:{duration:600,easing:'cubic-bezier(0.68, -0.55, 0.265, 1.55)',fillMode:'forwards'},shake:{duration:500,easing:'ease-in-out'},rotate:{duration:1000,easing:'linear',iterationCount:'infinite'}};/**
 * Get animation styles for CSS
 */const getAnimationStyles=(type,config)=>{const preset=ANIMATION_PRESETS[type];const finalConfig=(0,objectSpread2["default"])((0,objectSpread2["default"])({},preset),config);return{animation:"".concat(type," ").concat(finalConfig.duration,"ms ").concat(finalConfig.easing||'ease'," ").concat(finalConfig.delay||0,"ms ").concat(finalConfig.iterationCount||1," ").concat(finalConfig.fillMode||'forwards')};};/**
 * Hook for managing animation states
 */const useAnimation=function(type){let trigger=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;let config=arguments.length>2?arguments[2]:undefined;const[isAnimating,setIsAnimating]=react.useState(false);const[hasCompleted,setHasCompleted]=react.useState(false);const animationStyles=react.useMemo(()=>{if(!trigger)return{};return getAnimationStyles(type,config);},[type,trigger,config]);react.useEffect(()=>{if(trigger&&!hasCompleted){setIsAnimating(true);const duration=(config===null||config===void 0?void 0:config.duration)||ANIMATION_PRESETS[type].duration||300;const timer=setTimeout(()=>{setIsAnimating(false);setHasCompleted(true);},duration);return()=>clearTimeout(timer);}},[trigger,hasCompleted,type,config]);const reset=()=>{setIsAnimating(false);setHasCompleted(false);};return{animationStyles,isAnimating,hasCompleted,reset};};/**
 * Staggered animation hook for lists
 */const useStaggeredAnimation=function(itemCount){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'fadeIn';let staggerDelay=arguments.length>2&&arguments[2]!==undefined?arguments[2]:100;let config=arguments.length>3?arguments[3]:undefined;const[visibleItems,setVisibleItems]=react.useState([]);react.useEffect(()=>{const timers=[];for(let i=0;i<itemCount;i++){const timer=setTimeout(()=>{setVisibleItems(prev=>[...prev,i]);},i*staggerDelay);timers.push(timer);}return()=>{timers.forEach(timer=>clearTimeout(timer));};},[itemCount,staggerDelay]);const getItemStyles=index=>{if(!visibleItems.includes(index)){return{opacity:0};}return getAnimationStyles(type,config);};const reset=()=>{setVisibleItems([]);};return{getItemStyles,visibleItems,reset};};/**
 * Loading animation styles
 */const getLoadingSpinnerStyles=function(){let size=arguments.length>0&&arguments[0]!==undefined?arguments[0]:24;let color=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'#667eea';return{width:size,height:size,border:"2px solid ".concat(color,"20"),borderTop:"2px solid ".concat(color),borderRadius:'50%',animation:'spin 1s linear infinite'};};/**
 * Progress bar animation styles
 */const getProgressBarStyles=function(progress){let duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;let color=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'#667eea';return{width:'100%',height:'6px',background:"".concat(color,"20"),borderRadius:'3px',overflow:'hidden',position:'relative'};};const getProgressBarFillStyles=function(progress){let duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;let color=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'#667eea';return{position:'absolute',top:0,left:0,height:'100%',width:"".concat(progress,"%"),background:color,borderRadius:'3px',transition:"width ".concat(duration,"ms ease-out")};};/**
 * Skeleton loading animation
 */const getSkeletonLoadingStyles=function(){let width=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'100%';let height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'20px';let borderRadius=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'4px';return{width,height,borderRadius,background:'linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)',backgroundSize:'200% 100%',animation:'skeleton 1.5s infinite'};};/**
 * Hover animation styles
 */const getHoverStyles=function(){let scale=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1.05;let duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:200;return{transition:"transform ".concat(duration,"ms ease, box-shadow ").concat(duration,"ms ease"),cursor:'pointer'};};const getHoverActiveStyles=function(){let scale=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1.05;return{transform:"scale(".concat(scale,")"),boxShadow:'0 8px 25px rgba(0, 0, 0, 0.15)'};};/**
 * Press animation styles
 */const getPressStyles=function(){let scale=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0.95;let duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;return{transition:"transform ".concat(duration,"ms ease")};};const getPressActiveStyles=function(){let scale=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0.95;return{transform:"scale(".concat(scale,")")};};/**
 * Floating animation for call-to-action elements
 */const getFloatingStyles=function(){let yOffset=arguments.length>0&&arguments[0]!==undefined?arguments[0]:4;let duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2000;return{animation:"float ".concat(duration,"ms ease-in-out infinite")};};/**
 * Notification badge pulse animation
 */const getBadgePulseStyles=function(){let color=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'#ef4444';return{position:'relative'};};const getBadgePulseAfterStyles=function(){let color=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'#ef4444';return{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',width:'100%',height:'100%',borderRadius:'50%',background:color,animation:'pulse-ring 2s infinite'};};/**
 * Success checkmark animation
 */const getCheckmarkStyles=function(){let size=arguments.length>0&&arguments[0]!==undefined?arguments[0]:24;let color=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'#10b981';return{width:size,height:size,borderRadius:'50%',border:"2px solid ".concat(color),position:'relative',display:'inline-block',animation:'checkmark-scale 0.3s ease-in-out'};};const getCheckmarkBeforeStyles=function(){let size=arguments.length>0&&arguments[0]!==undefined?arguments[0]:24;let color=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'#10b981';return{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%) rotate(45deg)',width:size*0.25,height:size*0.5,border:"2px solid ".concat(color),borderTop:'none',borderLeft:'none',animation:'checkmark-draw 0.3s ease-in-out 0.1s forwards',opacity:0};};/**
 * Error shake animation
 */const getErrorShakeStyles=()=>({animation:'shake 0.5s ease-in-out'});/**
 * Toast notification slide-in animation
 */const getToastSlideStyles=function(){let position=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'top';const transforms={top:'translateY(-100%)',bottom:'translateY(100%)',left:'translateX(-100%)',right:'translateX(100%)'};return{animation:"slide-in-".concat(position," 0.3s ease-out forwards"),transform:transforms[position]};};/**
 * Modal backdrop fade animation
 */const getBackdropFadeStyles=()=>({animation:'backdrop-fade 0.2s ease-out forwards',opacity:0});/**
 * Inject animation keyframes into document
 */const injectAnimationKeyframes=()=>{if(typeof document==='undefined')return;const style=document.createElement('style');style.textContent="\n    @keyframes fadeIn {\n      from { opacity: 0; }\n      to { opacity: 1; }\n    }\n\n    @keyframes slideUp {\n      from { transform: translateY(20px); opacity: 0; }\n      to { transform: translateY(0); opacity: 1; }\n    }\n\n    @keyframes slideDown {\n      from { transform: translateY(-20px); opacity: 0; }\n      to { transform: translateY(0); opacity: 1; }\n    }\n\n    @keyframes slideLeft {\n      from { transform: translateX(20px); opacity: 0; }\n      to { transform: translateX(0); opacity: 1; }\n    }\n\n    @keyframes slideRight {\n      from { transform: translateX(-20px); opacity: 0; }\n      to { transform: translateX(0); opacity: 1; }\n    }\n\n    @keyframes scaleIn {\n      from { transform: scale(0.9); opacity: 0; }\n      to { transform: scale(1); opacity: 1; }\n    }\n\n    @keyframes scaleOut {\n      from { transform: scale(1); opacity: 1; }\n      to { transform: scale(0.9); opacity: 0; }\n    }\n\n    @keyframes pulse {\n      0%, 100% { opacity: 1; }\n      50% { opacity: 0.5; }\n    }\n\n    @keyframes bounce {\n      0%, 20%, 53%, 80%, 100% { transform: translate3d(0, 0, 0); }\n      40%, 43% { transform: translate3d(0, -8px, 0); }\n      70% { transform: translate3d(0, -4px, 0); }\n      90% { transform: translate3d(0, -2px, 0); }\n    }\n\n    @keyframes shake {\n      0%, 100% { transform: translateX(0); }\n      10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }\n      20%, 40%, 60%, 80% { transform: translateX(4px); }\n    }\n\n    @keyframes rotate {\n      from { transform: rotate(0deg); }\n      to { transform: rotate(360deg); }\n    }\n\n    @keyframes spin {\n      0% { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n\n    @keyframes skeleton {\n      0% { background-position: 200% 0; }\n      100% { background-position: -200% 0; }\n    }\n\n    @keyframes float {\n      0%, 100% { transform: translateY(0px); }\n      50% { transform: translateY(-4px); }\n    }\n\n    @keyframes pulse-ring {\n      0% { transform: translate(-50%, -50%) scale(0.8); opacity: 1; }\n      100% { transform: translate(-50%, -50%) scale(1.8); opacity: 0; }\n    }\n\n    @keyframes checkmark-scale {\n      0% { transform: scale(0); }\n      100% { transform: scale(1); }\n    }\n\n    @keyframes checkmark-draw {\n      0% { opacity: 0; }\n      100% { opacity: 1; }\n    }\n\n    @keyframes slide-in-top {\n      from { transform: translateY(-100%); }\n      to { transform: translateY(0); }\n    }\n\n    @keyframes slide-in-bottom {\n      from { transform: translateY(100%); }\n      to { transform: translateY(0); }\n    }\n\n    @keyframes slide-in-left {\n      from { transform: translateX(-100%); }\n      to { transform: translateX(0); }\n    }\n\n    @keyframes slide-in-right {\n      from { transform: translateX(100%); }\n      to { transform: translateX(0); }\n    }\n\n    @keyframes backdrop-fade {\n      from { opacity: 0; }\n      to { opacity: 1; }\n    }\n\n    /* Progress bar animations */\n    @keyframes progress-fill {\n      from { width: 0%; }\n    }\n\n    /* Gradient shimmer for loading states */\n    @keyframes shimmer {\n      0% { background-position: -468px 0; }\n      100% { background-position: 468px 0; }\n    }\n  ";document.head.appendChild(style);};
;// ./src/components/Notifications/NotificationsCenter.tsx
// Mock data for testing
const mockNotifications=[{id:'1',title:'Ø¥Ø´Ø¹Ø§Ø± Ø¹Ø§Ø¬Ù„ - Ø§Ø¬ØªÙ…Ø§Ø¹ Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©',message:'ÙŠØ±Ø¬Ù‰ Ø­Ø¶ÙˆØ± Ø§Ø¬ØªÙ…Ø§Ø¹ Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„Ø·Ø§Ø±Ø¦ ØºØ¯Ø§Ù‹ Ø§Ù„Ø³Ø§Ø¹Ø© 3 Ø¹ØµØ±Ø§Ù‹ ÙÙŠ Ù…ÙƒØªØ¨ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©. Ø³ÙŠØªÙ… Ù…Ù†Ø§Ù‚Ø´Ø© Ø£Ù…ÙˆØ± Ù…Ù‡Ù…Ø© ØªØ®Øµ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡.',type:'urgent',priority:'urgent',status:'sent',recipientType:'all',recipients:[],senderId:'admin1',senderName:'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©',sentDate:new Date('2024-02-20T10:00:00'),readCount:45,totalRecipients:67,tags:['Ø§Ø¬ØªÙ…Ø§Ø¹','Ø¹Ø§Ø¬Ù„','Ù…Ø¬Ù„Ø³'],relatedEntity:{type:'occasion',id:'meeting-1',title:'Ø§Ø¬ØªÙ…Ø§Ø¹ Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©'},createdDate:new Date('2024-02-20T09:30:00'),updatedDate:new Date('2024-02-20T09:30:00')},{id:'2',title:'ØªØ°ÙƒÙŠØ± Ø¨Ø¯ÙØ¹ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ',message:'ØªØ°ÙƒÙŠØ± ÙˆØ¯ÙŠ Ø¨Ø£Ù† Ù…ÙˆØ¹Ø¯ Ø¯ÙØ¹ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ ÙŠØ­Ù„ Ø®Ù„Ø§Ù„ 3 Ø£ÙŠØ§Ù…. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙƒØ±Ù… Ø¨ØªØ³Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø¨Ù„Øº ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ø¯Ø¯.',type:'reminder',priority:'medium',status:'sent',recipientType:'group',recipients:[],senderId:'finance1',senderName:'Ù‚Ø³Ù… Ø§Ù„Ù…Ø§Ù„ÙŠØ©',sentDate:new Date('2024-02-19T14:00:00'),readCount:23,totalRecipients:45,tags:['Ø¯ÙØ¹','Ø§Ø´ØªØ±Ø§Ùƒ','ØªØ°ÙƒÙŠØ±'],relatedEntity:{type:'payment',id:'subscription-feb',title:'Ø§Ø´ØªØ±Ø§Ùƒ ÙØ¨Ø±Ø§ÙŠØ±'},createdDate:new Date('2024-02-19T13:45:00'),updatedDate:new Date('2024-02-19T13:45:00')},{id:'3',title:'Ø¥Ø¹Ù„Ø§Ù† Ø¹Ù† Ù…Ø¨Ø§Ø¯Ø±Ø© Ø®ÙŠØ±ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©',message:'Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡ ØªÙ… Ø¥Ø·Ù„Ø§Ù‚ Ù…Ø¨Ø§Ø¯Ø±Ø© Ø®ÙŠØ±ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© Ù„Ø¯Ø¹Ù… Ø§Ù„Ø£Ø³Ø± Ø§Ù„Ù…Ø­ØªØ§Ø¬Ø© ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©. Ù†Ø¯Ø¹Ùˆ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙˆØ§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©.',type:'announcement',priority:'high',status:'sent',recipientType:'all',recipients:[],senderId:'charity1',senderName:'Ù„Ø¬Ù†Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø®ÙŠØ±ÙŠØ©',sentDate:new Date('2024-02-18T16:30:00'),readCount:56,totalRecipients:67,tags:['Ø®ÙŠØ±ÙŠ','Ù…Ø¨Ø§Ø¯Ø±Ø©','Ø¥Ø¹Ù„Ø§Ù†'],relatedEntity:{type:'initiative',id:'charity-initiative-1',title:'Ù…Ø¨Ø§Ø¯Ø±Ø© Ø¯Ø¹Ù… Ø§Ù„Ø£Ø³Ø±'},createdDate:new Date('2024-02-18T16:00:00'),updatedDate:new Date('2024-02-18T16:00:00')},{id:'4',title:'Ø¯Ø¹ÙˆØ© Ù„Ø­ÙÙ„ Ø²ÙØ§Ù Ø£Ø­Ù…Ø¯ ÙˆÙØ§Ø·Ù…Ø©',message:'ØªØ´Ø±ÙÙ†Ø§ Ø¯Ø¹ÙˆØªÙƒÙ… Ù„Ø­Ø¶ÙˆØ± Ø­ÙÙ„ Ø²ÙØ§Ù Ø§Ù„Ø£Ø® Ø£Ø­Ù…Ø¯ ÙˆØ§Ù„Ø£Ø®Øª ÙØ§Ø·Ù…Ø© ÙŠÙˆÙ… Ø§Ù„Ø¬Ù…Ø¹Ø© Ø§Ù„Ù‚Ø§Ø¯Ù… ÙÙŠ Ù‚Ø§Ø¹Ø© Ø§Ù„Ø§Ø­ØªÙØ§Ù„Ø§Øª Ø§Ù„ÙƒØ¨Ø±Ù‰.',type:'invitation',priority:'medium',status:'scheduled',recipientType:'all',recipients:[],senderId:'events1',senderName:'Ù„Ø¬Ù†Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª',scheduledDate:new Date('2024-02-21T09:00:00'),readCount:0,totalRecipients:67,tags:['Ø²ÙØ§Ù','Ø¯Ø¹ÙˆØ©','Ø§Ø­ØªÙØ§Ù„'],relatedEntity:{type:'occasion',id:'wedding-1',title:'Ø²ÙØ§Ù Ø£Ø­Ù…Ø¯ ÙˆÙØ§Ø·Ù…Ø©'},createdDate:new Date('2024-02-17T12:00:00'),updatedDate:new Date('2024-02-17T12:00:00')},{id:'5',title:'Ù…Ø³ÙˆØ¯Ø© - Ø¥Ø´Ø¹Ø§Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø§Ù…',message:'Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© ÙŠÙˆÙ… Ø§Ù„Ø³Ø¨Øª Ù…Ù† Ø§Ù„Ø³Ø§Ø¹Ø© 12 Ø¸Ù‡Ø±Ø§Ù‹ Ø­ØªÙ‰ 2 Ø¹ØµØ±Ø§Ù‹. Ù‚Ø¯ ÙŠÙˆØ§Ø¬Ù‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù†Ù‚Ø·Ø§Ø¹ Ù…Ø¤Ù‚Øª ÙÙŠ Ø§Ù„Ø®Ø¯Ù…Ø©.',type:'system',priority:'low',status:'draft',recipientType:'all',recipients:[],senderId:'admin1',senderName:'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù…',readCount:0,totalRecipients:0,tags:['Ù†Ø¸Ø§Ù…','ØªØ­Ø¯ÙŠØ«','ØµÙŠØ§Ù†Ø©'],createdDate:new Date('2024-02-20T11:30:00'),updatedDate:new Date('2024-02-20T11:45:00')}];const mockGroups=[{id:'group1',name:'Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©',memberCount:12,description:'Ø£Ø¹Ø¶Ø§Ø¡ Ù…Ø¬Ù„Ø³ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©'},{id:'group2',name:'Ø§Ù„Ù„Ø¬Ù†Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©',memberCount:8,description:'Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙˆÙ† Ø¹Ù† Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ù…Ø§Ù„ÙŠØ©'},{id:'group3',name:'Ù„Ø¬Ù†Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª',memberCount:15,description:'Ù…Ù†Ø¸Ù…Ùˆ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª ÙˆØ§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª'},{id:'group4',name:'Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø¬Ø¯Ø¯',memberCount:23,description:'Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ù†Ø¶Ù…ÙˆÙ† Ø­Ø¯ÙŠØ«Ø§Ù‹'}];const mockRoles=[{id:'admin',name:'Ù…Ø¯ÙŠØ±',memberCount:5},{id:'financial',name:'Ù…Ø¯ÙŠØ± Ù…Ø§Ù„ÙŠ',memberCount:3},{id:'organizer',name:'Ù…Ù†Ø¸Ù…',memberCount:12},{id:'member',name:'Ø¹Ø¶Ùˆ',memberCount:47}];const mockMembers=[{id:'user1',name:'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø³Ø¹ÙŠØ¯',email:'ahmad@family.com'},{id:'user2',name:'ÙØ§Ø·Ù…Ø© Ø¹Ø¨Ø¯ Ø§Ù„Ù„Ù‡',email:'fatima@family.com'},{id:'user3',name:'Ø®Ø§Ù„Ø¯ ÙŠÙˆØ³Ù Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ',email:'khalid@family.com'},{id:'user4',name:'Ø³Ø§Ø±Ø© Ø£Ø­Ù…Ø¯ Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ',email:'sara@family.com'}];const NotificationsCenter=()=>{const{isMobile,isTablet,breakpoint}=useResponsive();const{getItemStyles}=useStaggeredAnimation(6,'fadeIn',120);react.useEffect(()=>{injectAnimationKeyframes();},[]);const[notifications,setNotifications]=(0,react.useState)(mockNotifications);const[loading,setLoading]=(0,react.useState)(false);const[showCreateModal,setShowCreateModal]=(0,react.useState)(false);const[selectedNotification,setSelectedNotification]=(0,react.useState)(null);const[filters,setFilters]=(0,react.useState)({});const[currentPage,setCurrentPage]=(0,react.useState)(1);const[showFilters,setShowFilters]=(0,react.useState)(false);const filteredNotifications=notifications.filter(notification=>{if(filters.type&&notification.type!==filters.type)return false;if(filters.priority&&notification.priority!==filters.priority)return false;if(filters.status&&notification.status!==filters.status)return false;if(filters.recipientType&&notification.recipientType!==filters.recipientType)return false;if(filters.unreadOnly&&notification.readCount>=notification.totalRecipients)return false;if(filters.search){const searchLower=filters.search.toLowerCase();if(!notification.title.toLowerCase().includes(searchLower)&&!notification.message.toLowerCase().includes(searchLower)){return false;}}if(filters.dateRange){const notificationDate=notification.sentDate||notification.createdDate;if(filters.dateRange.start&&notificationDate<filters.dateRange.start)return false;if(filters.dateRange.end&&notificationDate>filters.dateRange.end)return false;}return true;});const statistics={totalNotifications:notifications.length,sentNotifications:notifications.filter(n=>n.status==='sent').length,pendingNotifications:notifications.filter(n=>['draft','scheduled'].includes(n.status)).length,totalRecipients:notifications.reduce((sum,n)=>sum+n.totalRecipients,0),totalReads:notifications.reduce((sum,n)=>sum+n.readCount,0),readRate:notifications.length>0?Math.round(notifications.reduce((sum,n)=>sum+n.readCount,0)/notifications.reduce((sum,n)=>sum+n.totalRecipients,0)*100):0,mostUsedType:'general',recentActivity:notifications.filter(n=>{const dayAgo=new Date(Date.now()-24*60*60*1000);return(n.sentDate||n.createdDate)>dayAgo;}).length};const unreadCount=notifications.filter(n=>n.status==='sent'&&n.readCount<n.totalRecipients).length;const handleCreateNotification=async formData=>{setLoading(true);try{// API call would go here
const newNotification={id:Date.now().toString(),title:formData.title,message:formData.message,type:formData.type,priority:formData.priority,status:formData.scheduledDate?'scheduled':'sent',recipientType:formData.recipientType,recipients:[],senderId:'current_user',senderName:'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ',scheduledDate:formData.scheduledDate?new Date("".concat(formData.scheduledDate,"T").concat(formData.scheduledTime)):undefined,sentDate:!formData.scheduledDate?new Date():undefined,readCount:0,totalRecipients:formData.recipientType==='all'?67:formData.selectedRecipients.length,tags:formData.tags,createdDate:new Date(),updatedDate:new Date()};setNotifications(prev=>[newNotification,...prev]);setShowCreateModal(false);}catch(error){console.error('Error creating notification:',error);}finally{setLoading(false);}};const handleMarkAsRead=async notificationId=>{try{// API call would go here
setNotifications(prev=>prev.map(notification=>notification.id===notificationId?(0,objectSpread2["default"])((0,objectSpread2["default"])({},notification),{},{readCount:notification.totalRecipients}):notification));}catch(error){console.error('Error marking as read:',error);}};const handleDeleteNotification=async notification=>{if(window.confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±ØŸ')){try{// API call would go here
setNotifications(prev=>prev.filter(n=>n.id!==notification.id));}catch(error){console.error('Error deleting notification:',error);}}};const clearFilters=()=>{setFilters({});};const formatNumber=num=>{return formatArabicNumber(num);};const containerStyle={padding:getResponsiveSpacing(breakpoint,{xs:'16px',sm:'20px',md:'24px'}),direction:'rtl',minHeight:'100vh',maxWidth:'100%',overflow:'hidden'};const headerStyle={display:'flex',flexDirection:isMobile?'column':'row',justifyContent:'space-between',alignItems:isMobile?'flex-start':'center',marginBottom:isMobile?'20px':'24px',gap:isMobile?'12px':'16px'};const titleStyle={fontSize:isMobile?'24px':'28px',fontWeight:'700',color:'#1f2937',margin:0,display:'flex',alignItems:'center',gap:isMobile?'8px':'12px',fontFamily:'Cairo, Tajawal, sans-serif',letterSpacing:'-0.025em'};const actionsStyle={display:'flex',alignItems:'center',gap:isMobile?'8px':'12px',flexWrap:isMobile?'wrap':'nowrap',width:isMobile?'100%':'auto'};const primaryButtonStyle=(0,objectSpread2["default"])((0,objectSpread2["default"])({},getTouchStyles(isMobile)),{},{borderRadius:'12px',border:'none',fontSize:isMobile?'15px':'14px',fontWeight:'600',cursor:'pointer',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',display:'flex',alignItems:'center',justifyContent:'center',gap:'8px',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',boxShadow:'0 4px 12px rgba(102, 126, 234, 0.3)',userSelect:'none',WebkitTapHighlightColor:'transparent',flex:isMobile?'1':'none'});const secondaryButtonStyle=(0,objectSpread2["default"])((0,objectSpread2["default"])({},getTouchStyles(isMobile)),{},{borderRadius:'12px',border:'1px solid rgba(0, 0, 0, 0.2)',fontSize:isMobile?'15px':'14px',fontWeight:'600',cursor:'pointer',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',display:'flex',alignItems:'center',justifyContent:'center',gap:'8px',background:'rgba(255, 255, 255, 0.8)',color:'#374151',backdropFilter:'blur(10px)',userSelect:'none',WebkitTapHighlightColor:'transparent',flex:isMobile?'1':'none'});const statsGridStyle=(0,objectSpread2["default"])((0,objectSpread2["default"])({},getResponsiveGridStyles(breakpoint,{xs:1,sm:2,md:3,lg:6})),{},{gap:isMobile?'12px':'16px',marginBottom:isMobile?'24px':'32px'});const statCardStyle={background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(20px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:isMobile?'12px':'16px',padding:isMobile?'16px':'24px',textAlign:'center',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',cursor:'pointer',position:'relative',overflow:'hidden'};const statValueStyle={fontSize:isMobile?'24px':'32px',fontWeight:'700',marginBottom:isMobile?'6px':'8px',fontFamily:'Cairo, Tajawal, sans-serif',letterSpacing:'-0.02em'};const statLabelStyle={fontSize:isMobile?'12px':'14px',color:'#6b7280',fontWeight:'500',lineHeight:'1.4'};const contentGridStyle={display:'grid',gridTemplateColumns:isMobile?'1fr':showFilters?isTablet?'250px 1fr':'300px 1fr':'1fr',gap:isMobile?'16px':'24px',alignItems:'start'};const itemsPerPage=10;const totalPages=Math.ceil(filteredNotifications.length/itemsPerPage);const paginatedNotifications=filteredNotifications.slice((currentPage-1)*itemsPerPage,currentPage*itemsPerPage);return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:containerStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:headerStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h1",{style:titleStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BellIcon,{style:{width:'32px',height:'32px'}}),ARABIC_LABELS.notificationsCenter,/*#__PURE__*/(0,jsx_runtime.jsx)(Notifications_NotificationBadge,{count:unreadCount,size:"large"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:actionsStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{style:secondaryButtonStyle,onClick:()=>setShowFilters(!showFilters),children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.FunnelIcon,{style:{width:'20px',height:'20px'}}),showFilters?'Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ÙÙ„Ø§ØªØ±':'Ø¹Ø±Ø¶ Ø§Ù„ÙÙ„Ø§ØªØ±']}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{style:primaryButtonStyle,onClick:()=>setShowCreateModal(true),onMouseEnter:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(-2px) scale(1.02)';e.currentTarget.style.boxShadow='0 8px 20px rgba(102, 126, 234, 0.4)';}},onMouseLeave:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(0) scale(1)';e.currentTarget.style.boxShadow='0 4px 12px rgba(102, 126, 234, 0.3)';}},onTouchStart:e=>{if(isMobile){e.currentTarget.style.transform='scale(0.98)';}},onTouchEnd:e=>{if(isMobile){e.currentTarget.style.transform='scale(1)';}},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PlusIcon,{style:{width:'20px',height:'20px'}}),ARABIC_LABELS.createNotification]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:statsGridStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])((0,objectSpread2["default"])({},statCardStyle),getItemStyles(0)),{},{background:'linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)'}),onMouseEnter:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(-4px) scale(1.02)';e.currentTarget.style.boxShadow='0 12px 32px rgba(102, 126, 234, 0.2)';}},onMouseLeave:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(0) scale(1)';e.currentTarget.style.boxShadow='none';}},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ChartBarIcon,{style:{width:isMobile?'24px':'32px',height:isMobile?'24px':'32px',color:'#667eea',margin:"0 auto ".concat(isMobile?'12px':'16px')}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},statValueStyle),{},{color:'#667eea'}),children:formatNumber(statistics.totalNotifications)}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:statLabelStyle,children:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},statCardStyle),{},{background:'linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(5, 150, 105, 0.1) 100%)'}),onMouseEnter:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(-4px) scale(1.02)';e.currentTarget.style.boxShadow='0 12px 32px rgba(0, 0, 0, 0.2)';}},onMouseLeave:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(0) scale(1)';e.currentTarget.style.boxShadow='none';}},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EnvelopeOpenIcon,{style:{width:isMobile?'24px':'32px',height:isMobile?'24px':'32px',color:'#10b981',margin:"0 auto ".concat(isMobile?'12px':'16px')}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},statValueStyle),{},{color:'#10b981'}),children:formatNumber(statistics.sentNotifications)}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:statLabelStyle,children:"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0631\u0633\u0644\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},statCardStyle),{},{background:'linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(217, 119, 6, 0.1) 100%)'}),onMouseEnter:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(-4px) scale(1.02)';e.currentTarget.style.boxShadow='0 12px 32px rgba(0, 0, 0, 0.2)';}},onMouseLeave:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(0) scale(1)';e.currentTarget.style.boxShadow='none';}},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ClockIcon,{style:{width:isMobile?'24px':'32px',height:isMobile?'24px':'32px',color:'#f59e0b',margin:"0 auto ".concat(isMobile?'12px':'16px'),animation:statistics.pendingNotifications>0?'pulse 2s infinite':'none'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},statValueStyle),{},{color:'#f59e0b'}),children:formatNumber(statistics.pendingNotifications)}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:statLabelStyle,children:"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},statCardStyle),{},{background:'linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(37, 99, 235, 0.1) 100%)'}),onMouseEnter:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(-4px) scale(1.02)';e.currentTarget.style.boxShadow='0 12px 32px rgba(0, 0, 0, 0.2)';}},onMouseLeave:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(0) scale(1)';e.currentTarget.style.boxShadow='none';}},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UsersIcon,{style:{width:isMobile?'24px':'32px',height:isMobile?'24px':'32px',color:'#3b82f6',margin:"0 auto ".concat(isMobile?'12px':'16px')}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},statValueStyle),{},{color:'#3b82f6'}),children:formatNumber(statistics.totalRecipients)}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:statLabelStyle,children:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0633\u062A\u0642\u0628\u0644\u064A\u0646"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},statCardStyle),{},{background:'linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(124, 58, 237, 0.1) 100%)'}),onMouseEnter:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(-4px) scale(1.02)';e.currentTarget.style.boxShadow='0 12px 32px rgba(0, 0, 0, 0.2)';}},onMouseLeave:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(0) scale(1)';e.currentTarget.style.boxShadow='none';}},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeIcon,{style:{width:isMobile?'24px':'32px',height:isMobile?'24px':'32px',color:'#8b5cf6',margin:"0 auto ".concat(isMobile?'12px':'16px')}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},statValueStyle),{},{color:'#8b5cf6'}),children:formatArabicPercentage(statistics.readRate)}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:statLabelStyle,children:"\u0645\u0639\u062F\u0644 \u0627\u0644\u0642\u0631\u0627\u0621\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},statCardStyle),{},{background:'linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(220, 38, 38, 0.1) 100%)'}),onMouseEnter:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(-4px) scale(1.02)';e.currentTarget.style.boxShadow='0 12px 32px rgba(0, 0, 0, 0.2)';}},onMouseLeave:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(0) scale(1)';e.currentTarget.style.boxShadow='none';}},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ExclamationTriangleIcon,{style:{width:isMobile?'24px':'32px',height:isMobile?'24px':'32px',color:'#ef4444',margin:"0 auto ".concat(isMobile?'12px':'16px'),animation:statistics.recentActivity>0?'pulse 2s infinite':'none'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},statValueStyle),{},{color:'#ef4444'}),children:formatNumber(statistics.recentActivity)}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:statLabelStyle,children:"\u0627\u0644\u0646\u0634\u0627\u0637 \u0627\u0644\u0623\u062E\u064A\u0631 (24 \u0633\u0627\u0639\u0629)"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:contentGridStyle,children:[showFilters&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{position:isMobile?'static':'sticky',top:isMobile?'auto':'24px',order:isMobile?1:0,marginBottom:isMobile?'16px':'0'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(Notifications_NotificationFilters,{filters:filters,onFiltersChange:setFilters,onClearFilters:clearFilters})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{order:isMobile&&showFilters?0:1,minHeight:isMobile?'auto':'600px'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(Notifications_NotificationsList,{notifications:paginatedNotifications,onView:notification=>{setSelectedNotification(notification);// Could open a details modal here
},onEdit:notification=>{setSelectedNotification(notification);setShowCreateModal(true);},onDelete:handleDeleteNotification,onMarkAsRead:handleMarkAsRead,loading:loading,currentPage:currentPage,totalPages:totalPages,onPageChange:setCurrentPage})})]}),showCreateModal&&/*#__PURE__*/(0,jsx_runtime.jsx)(Notifications_CreateNotificationModal,{isOpen:showCreateModal,onClose:()=>{setShowCreateModal(false);setSelectedNotification(null);},onSubmit:handleCreateNotification,isLoading:loading,groups:mockGroups,roles:mockRoles,members:mockMembers})]});};/* harmony default export */ const Notifications_NotificationsCenter = (NotificationsCenter);
;// ./src/components/Notifications/types.ts

;// ./src/components/Notifications/index.ts
// Export all notifications components and types
// Export types

;// ./src/components/Common/ErrorDisplay.jsx
const ErrorDisplay=_ref=>{let{error,onRetry,onDismiss,title='Ø­Ø¯Ø« Ø®Ø·Ø£',type='error',// 'error', 'warning', 'info'
showDetails=false,className=''}=_ref;const getErrorMessage=error=>{if(typeof error==='string'){return error;}if(error!==null&&error!==void 0&&error.message_ar){return error.message_ar;}if(error!==null&&error!==void 0&&error.message){return error.message;}// Network errors
if((error===null||error===void 0?void 0:error.name)==='NetworkError'||(error===null||error===void 0?void 0:error.code)==='NETWORK_ERROR'){return'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.';}// API errors
if(error!==null&&error!==void 0&&error.status){switch(error.status){case 401:return'Ø§Ù†ØªÙ‡Øª ØµÙ„Ø§Ø­ÙŠØ© Ø¬Ù„Ø³Ø© Ø§Ù„Ø¹Ù…Ù„. ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';case 403:return'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ±Ø¯.';case 404:return'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ±Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨.';case 429:return'ØªÙ… ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø·Ù„Ø¨Ø§Øª. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.';case 500:return'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.';case 503:return'Ø§Ù„Ø®Ø¯Ù…Ø© ØºÙŠØ± Ù…ØªØ§Ø­Ø© Ù…Ø¤Ù‚ØªØ§Ù‹. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.';default:return"\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062E\u0627\u062F\u0645 (".concat(error.status,")");}}return'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹';};const getTypeConfig=type=>{const configs={error:{icon:'âŒ',bgColor:'#fee',borderColor:'#dc3545',textColor:'#721c24'},warning:{icon:'âš ï¸',bgColor:'#fff3cd',borderColor:'#ffc107',textColor:'#856404'},info:{icon:'â„¹ï¸',bgColor:'#d1ecf1',borderColor:'#17a2b8',textColor:'#0c5460'}};return configs[type]||configs.error;};const typeConfig=getTypeConfig(type);const errorMessage=getErrorMessage(error);return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"error-display ".concat(type," ").concat(className),dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"error-content",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"error-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"error-icon",children:typeConfig.icon}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"error-text",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h4",{className:"error-title",children:title}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"error-message",children:errorMessage})]}),onDismiss&&/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"dismiss-btn",onClick:onDismiss,"aria-label":"\u0625\u063A\u0644\u0627\u0642",title:"\u0625\u063A\u0644\u0627\u0642",children:"\u2715"})]}),showDetails&&error&&typeof error==='object'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("details",{className:"error-details",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("summary",{children:"\u062A\u0641\u0627\u0635\u064A\u0644 \u062A\u0642\u0646\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("pre",{className:"error-stack",children:JSON.stringify(error,null,2)})]}),onRetry&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"error-actions",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"retry-btn hover-lift ripple-effect",onClick:onRetry,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"btn-icon",children:"\uD83D\uDD04"}),"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629"]})})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("style",{jsx:true,children:"\n        .error-display {\n          margin: 1rem 0;\n          border-radius: 8px;\n          border: 1px solid ".concat(typeConfig.borderColor,";\n          background: ").concat(typeConfig.bgColor,";\n          color: ").concat(typeConfig.textColor,";\n          animation: slideIn 0.3s ease-out;\n        }\n\n        .error-content {\n          padding: 1rem;\n        }\n\n        .error-header {\n          display: flex;\n          align-items: flex-start;\n          gap: 0.75rem;\n        }\n\n        .error-icon {\n          font-size: 1.25rem;\n          flex-shrink: 0;\n        }\n\n        .error-text {\n          flex: 1;\n          min-width: 0;\n        }\n\n        .error-title {\n          margin: 0 0 0.25rem 0;\n          font-size: 1rem;\n          font-weight: 600;\n          color: inherit;\n        }\n\n        .error-message {\n          margin: 0;\n          font-size: 0.9rem;\n          line-height: 1.4;\n          word-break: break-word;\n        }\n\n        .dismiss-btn {\n          background: none;\n          border: none;\n          color: inherit;\n          font-size: 1.25rem;\n          cursor: pointer;\n          padding: 0.25rem;\n          border-radius: 4px;\n          transition: background-color 0.2s;\n          flex-shrink: 0;\n        }\n\n        .dismiss-btn:hover {\n          background: rgba(0, 0, 0, 0.1);\n        }\n\n        .error-details {\n          margin-top: 1rem;\n          border-top: 1px solid rgba(0, 0, 0, 0.1);\n          padding-top: 1rem;\n        }\n\n        .error-details summary {\n          cursor: pointer;\n          font-weight: 600;\n          margin-bottom: 0.5rem;\n          color: inherit;\n        }\n\n        .error-stack {\n          background: rgba(0, 0, 0, 0.05);\n          padding: 0.75rem;\n          border-radius: 4px;\n          font-size: 0.75rem;\n          overflow-x: auto;\n          border: 1px solid rgba(0, 0, 0, 0.1);\n          direction: ltr;\n          text-align: left;\n        }\n\n        .error-actions {\n          margin-top: 1rem;\n          display: flex;\n          gap: 0.5rem;\n        }\n\n        .retry-btn {\n          background: ").concat(typeConfig.borderColor,";\n          color: white;\n          border: none;\n          padding: 0.5rem 1rem;\n          border-radius: 6px;\n          font-weight: 600;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          font-size: 0.875rem;\n          transition: all 0.3s ease;\n        }\n\n        .retry-btn:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n        }\n\n        .btn-icon {\n          font-size: 1rem;\n        }\n\n        .hover-lift:hover {\n          transform: translateY(-1px);\n        }\n\n        .ripple-effect {\n          position: relative;\n          overflow: hidden;\n        }\n\n        .ripple-effect:before {\n          content: '';\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          width: 0;\n          height: 0;\n          border-radius: 50%;\n          background: rgba(255, 255, 255, 0.3);\n          transition: width 0.4s, height 0.4s;\n          transform: translate(-50%, -50%);\n        }\n\n        .ripple-effect:active:before {\n          width: 200px;\n          height: 200px;\n        }\n\n        @keyframes slideIn {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        /* Accessibility improvements */\n        @media (prefers-reduced-motion: reduce) {\n          .error-display {\n            animation: none;\n          }\n\n          .retry-btn:hover {\n            transform: none;\n          }\n\n          .ripple-effect:before {\n            transition: none;\n          }\n        }\n\n        /* High contrast mode */\n        @media (prefers-contrast: high) {\n          .error-display {\n            border-width: 2px;\n          }\n\n          .dismiss-btn:hover {\n            background: rgba(0, 0, 0, 0.2);\n          }\n        }\n      ")})]});};// Toast notification for temporary errors
const ErrorToast=_ref2=>{let{error,onClose,autoClose=5000}=_ref2;react.useEffect(()=>{if(autoClose>0){const timer=setTimeout(onClose,autoClose);return()=>clearTimeout(timer);}},[autoClose,onClose]);return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"error-toast",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(ErrorDisplay,{error:error,onDismiss:onClose,type:"error",className:"toast-error"}),/*#__PURE__*/(0,jsx_runtime.jsx)("style",{jsx:true,children:"\n        .error-toast {\n          position: fixed;\n          top: 1rem;\n          right: 1rem;\n          z-index: 10000;\n          max-width: 400px;\n          animation: slideInRight 0.3s ease-out;\n        }\n\n        .error-toast :global(.toast-error) {\n          margin: 0;\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n        }\n\n        @keyframes slideInRight {\n          from {\n            opacity: 0;\n            transform: translateX(100%);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n\n        @media (max-width: 768px) {\n          .error-toast {\n            top: 0.5rem;\n            right: 0.5rem;\n            left: 0.5rem;\n            max-width: none;\n          }\n        }\n      "})]});};/* harmony default export */ const Common_ErrorDisplay = (ErrorDisplay);
;// ./src/components/Common/LoadingSpinner.jsx
const LoadingSpinner=_ref=>{let{size='medium',message='Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...',overlay=false,fullScreen=false,className=''}=_ref;const sizeClasses={small:'spinner-small',medium:'spinner-medium',large:'spinner-large'};const containerClass="\n    loading-spinner-container\n    ".concat(overlay?'loading-overlay':'',"\n    ").concat(fullScreen?'loading-fullscreen':'',"\n    ").concat(className,"\n  ").trim();return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:containerClass,dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"loading-content",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"loading-spinner ".concat(sizeClasses[size]),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"spinner-ring"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"spinner-ring"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"spinner-ring"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"spinner-ring"})]}),message&&/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"loading-message",children:message})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("style",{jsx:true,children:"\n        .loading-spinner-container {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 2rem;\n        }\n\n        .loading-overlay {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(255, 255, 255, 0.9);\n          backdrop-filter: blur(2px);\n          z-index: 1000;\n        }\n\n        .loading-fullscreen {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(255, 255, 255, 0.95);\n          backdrop-filter: blur(5px);\n          z-index: 9999;\n        }\n\n        .loading-content {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 1rem;\n        }\n\n        .loading-spinner {\n          position: relative;\n          display: inline-block;\n        }\n\n        .spinner-small {\n          width: 24px;\n          height: 24px;\n        }\n\n        .spinner-medium {\n          width: 40px;\n          height: 40px;\n        }\n\n        .spinner-large {\n          width: 64px;\n          height: 64px;\n        }\n\n        .spinner-ring {\n          position: absolute;\n          border: 3px solid transparent;\n          border-top: 3px solid #007bff;\n          border-radius: 50%;\n          animation: spin 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n        }\n\n        .spinner-small .spinner-ring {\n          width: 24px;\n          height: 24px;\n          border-width: 2px;\n        }\n\n        .spinner-medium .spinner-ring {\n          width: 40px;\n          height: 40px;\n          border-width: 3px;\n        }\n\n        .spinner-large .spinner-ring {\n          width: 64px;\n          height: 64px;\n          border-width: 4px;\n        }\n\n        .spinner-ring:nth-child(1) {\n          animation-delay: -0.45s;\n          border-top-color: #007bff;\n        }\n\n        .spinner-ring:nth-child(2) {\n          animation-delay: -0.3s;\n          border-top-color: #28a745;\n        }\n\n        .spinner-ring:nth-child(3) {\n          animation-delay: -0.15s;\n          border-top-color: #ffc107;\n        }\n\n        .spinner-ring:nth-child(4) {\n          animation-delay: 0s;\n          border-top-color: #dc3545;\n        }\n\n        @keyframes spin {\n          0% {\n            transform: rotate(0deg);\n            opacity: 1;\n          }\n          50% {\n            transform: rotate(180deg);\n            opacity: 0.6;\n          }\n          100% {\n            transform: rotate(360deg);\n            opacity: 1;\n          }\n        }\n\n        .loading-message {\n          color: #666;\n          font-size: 1rem;\n          font-weight: 500;\n          margin: 0;\n          text-align: center;\n          animation: pulse 2s ease-in-out infinite;\n        }\n\n        @keyframes pulse {\n          0%, 100% {\n            opacity: 1;\n          }\n          50% {\n            opacity: 0.6;\n          }\n        }\n\n        /* Dark theme support */\n        @media (prefers-color-scheme: dark) {\n          .loading-overlay, .loading-fullscreen {\n            background: rgba(0, 0, 0, 0.8);\n          }\n\n          .loading-message {\n            color: #fff;\n          }\n        }\n\n        /* Reduced motion support */\n        @media (prefers-reduced-motion: reduce) {\n          .spinner-ring {\n            animation: spin 2s linear infinite;\n          }\n\n          .loading-message {\n            animation: none;\n          }\n        }\n\n        /* RTL support */\n        [dir=\"rtl\"] .loading-spinner {\n          transform: scaleX(-1);\n        }\n      "})]});};// Skeleton loader for content
const SkeletonLoader=_ref2=>{let{lines=3,height='1rem',className=''}=_ref2;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"skeleton-loader ".concat(className),children:[Array.from({length:lines}).map((_,index)=>/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"skeleton-line",style:{height,width:index===lines-1?'70%':'100%'}},index)),/*#__PURE__*/(0,jsx_runtime.jsx)("style",{jsx:true,children:"\n      .skeleton-loader {\n        padding: 1rem 0;\n      }\n\n      .skeleton-line {\n        background: linear-gradient(\n          90deg,\n          #f0f0f0 25%,\n          #e0e0e0 50%,\n          #f0f0f0 75%\n        );\n        background-size: 200% 100%;\n        animation: shimmer 2s infinite;\n        border-radius: 4px;\n        margin-bottom: 0.5rem;\n      }\n\n      .skeleton-line:last-child {\n        margin-bottom: 0;\n      }\n\n      @keyframes shimmer {\n        0% {\n          background-position: -200% 0;\n        }\n        100% {\n          background-position: 200% 0;\n        }\n      }\n\n      @media (prefers-reduced-motion: reduce) {\n        .skeleton-line {\n          animation: none;\n          background: #e0e0e0;\n        }\n      }\n    "})]});};/* harmony default export */ const Common_LoadingSpinner = (LoadingSpinner);
;// ./src/components/Reports/ExpenseVoucher.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const ExpenseVoucher = ({});
;// ./src/assets/logo.svg
var _circle, _text, _text2, _g, _g2, _text3, _text4;
const _excluded = ["title", "titleId"];
function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }
function _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }
function _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }

function SvgLogo(_ref, svgRef) {
  let {
      title,
      titleId
    } = _ref,
    props = _objectWithoutProperties(_ref, _excluded);
  return /*#__PURE__*/react.createElement("svg", _extends({
    width: 200,
    height: 200,
    viewBox: "0 0 200 200",
    xmlns: "http://www.w3.org/2000/svg",
    ref: svgRef,
    "aria-labelledby": titleId
  }, props), title ? /*#__PURE__*/react.createElement("title", {
    id: titleId
  }, title) : null, _circle || (_circle = /*#__PURE__*/react.createElement("circle", {
    cx: 100,
    cy: 100,
    r: 95,
    fill: "none",
    stroke: "#2B7BC6",
    strokeWidth: 6
  })), _text || (_text = /*#__PURE__*/react.createElement("text", {
    x: 100,
    y: 40,
    fontFamily: "Arial, sans-serif",
    fontSize: 28,
    fontWeight: "bold",
    fill: "#2B7BC6",
    textAnchor: "middle"
  }, "S.A.F")), _text2 || (_text2 = /*#__PURE__*/react.createElement("text", {
    x: 100,
    y: 58,
    fontFamily: "Arial, sans-serif",
    fontSize: 10,
    fill: "#4CAF50",
    textAnchor: "middle"
  }, "Shuail Al-Anzi Fund")), _g || (_g = /*#__PURE__*/react.createElement("g", {
    transform: "translate(100, 100)"
  }, /*#__PURE__*/react.createElement("circle", {
    cx: -25,
    cy: -15,
    r: 8,
    fill: "#4CAF50"
  }), /*#__PURE__*/react.createElement("path", {
    d: "M -33 -10 Q -25 5 -17 -10",
    fill: "#4CAF50"
  }), /*#__PURE__*/react.createElement("circle", {
    cx: 0,
    cy: -20,
    r: 8,
    fill: "#4CAF50"
  }), /*#__PURE__*/react.createElement("path", {
    d: "M -8 -15 Q 0 0 8 -15",
    fill: "#4CAF50"
  }), /*#__PURE__*/react.createElement("circle", {
    cx: 25,
    cy: -15,
    r: 8,
    fill: "#4CAF50"
  }), /*#__PURE__*/react.createElement("path", {
    d: "M 17 -10 Q 25 5 33 -10",
    fill: "#4CAF50"
  }), /*#__PURE__*/react.createElement("circle", {
    cx: -12,
    cy: 0,
    r: 8,
    fill: "#4CAF50"
  }), /*#__PURE__*/react.createElement("path", {
    d: "M -20 5 Q -12 20 -4 5",
    fill: "#4CAF50"
  }), /*#__PURE__*/react.createElement("circle", {
    cx: 12,
    cy: 0,
    r: 8,
    fill: "#4CAF50"
  }), /*#__PURE__*/react.createElement("path", {
    d: "M 4 5 Q 12 20 20 5",
    fill: "#4CAF50"
  }))), _g2 || (_g2 = /*#__PURE__*/react.createElement("g", {
    transform: "translate(100, 100)"
  }, /*#__PURE__*/react.createElement("path", {
    d: "M -40 20 C -45 30 -45 40 -35 45 C -25 50 -15 45 -10 35 L -5 25",
    fill: "#2B7BC6",
    opacity: 0.9
  }), /*#__PURE__*/react.createElement("path", {
    d: "M 40 20 C 45 30 45 40 35 45 C 25 50 15 45 10 35 L 5 25",
    fill: "#2B7BC6",
    opacity: 0.9
  }))), _text3 || (_text3 = /*#__PURE__*/react.createElement("text", {
    x: 100,
    y: 165,
    fontFamily: "Arial, sans-serif",
    fontSize: 14,
    fontWeight: "bold",
    fill: "#2B7BC6",
    textAnchor: "middle"
  }, "\u0635\u0646\u062F\u0648\u0642 \u0634\u0639\u064A\u0644 \u0627\u0644\u0639\u0646\u0632\u064A")), _text4 || (_text4 = /*#__PURE__*/react.createElement("text", {
    x: 100,
    y: 180,
    fontFamily: "Arial, sans-serif",
    fontSize: 11,
    fill: "#4CAF50",
    textAnchor: "middle"
  }, "Shuail Al-Anzi Fund")));
}
const ForwardRef = /*#__PURE__*/react.forwardRef(SvgLogo);
/* harmony default export */ const logo = (__webpack_require__.p + "static/media/logo.2ccba4f4e01bc7072fb8027414a3a35c.svg");

;// ./src/components/Reports/ExpenseVoucher.jsx
const ExpenseVoucher_ExpenseVoucher=_ref=>{let{expense,onClose}=_ref;const handlePrint=()=>{window.print();};const handleDownload=()=>{// Create a blob from the voucher HTML
const voucherElement=document.getElementById('expense-voucher');const htmlContent=voucherElement.outerHTML;// Create HTML file with styles
const fullHTML="\n      <!DOCTYPE html>\n      <html dir=\"rtl\" lang=\"ar\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <title>\u0633\u0646\u062F \u0635\u0631\u0641 - ".concat(expense.title_ar,"</title>\n        <style>\n          ").concat(getVoucherStyles(),"\n        </style>\n      </head>\n      <body>\n        ").concat(htmlContent,"\n      </body>\n      </html>\n    ");const blob=new Blob([fullHTML],{type:'text/html'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download="expense-voucher-".concat(expense.id||Date.now(),".html");document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);};const getVoucherStyles=()=>{return"\n      body {\n        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        margin: 0;\n        padding: 20px;\n        direction: rtl;\n      }\n      .voucher-container {\n        max-width: 800px;\n        margin: 0 auto;\n        background: white;\n        padding: 40px;\n        border: 2px solid #333;\n        border-radius: 10px;\n      }\n      .voucher-header {\n        text-align: center;\n        margin-bottom: 30px;\n        border-bottom: 3px double #333;\n        padding-bottom: 20px;\n      }\n      .voucher-logo img {\n        width: 120px;\n        height: 120px;\n        margin-bottom: 20px;\n      }\n      .voucher-title {\n        font-size: 28px;\n        font-weight: bold;\n        color: #1a1a1a;\n        margin-bottom: 10px;\n      }\n      .voucher-number {\n        font-size: 16px;\n        color: #666;\n      }\n      .voucher-body {\n        margin: 30px 0;\n      }\n      .voucher-row {\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 20px;\n        padding: 15px;\n        background: #f9f9f9;\n        border-radius: 5px;\n      }\n      .voucher-label {\n        font-weight: bold;\n        color: #555;\n        flex: 0 0 150px;\n      }\n      .voucher-value {\n        flex: 1;\n        color: #333;\n        font-size: 16px;\n      }\n      .amount-section {\n        background: linear-gradient(135deg, #007AFF 0%, #5856D6 100%);\n        color: white;\n        padding: 20px;\n        border-radius: 10px;\n        text-align: center;\n        margin: 30px 0;\n      }\n      .amount-label {\n        font-size: 18px;\n        margin-bottom: 10px;\n      }\n      .amount-value {\n        font-size: 36px;\n        font-weight: bold;\n      }\n      .voucher-footer {\n        margin-top: 40px;\n        padding-top: 30px;\n        border-top: 2px solid #ddd;\n      }\n      .signature-section {\n        display: flex;\n        justify-content: space-around;\n        margin-top: 50px;\n      }\n      .signature-box {\n        text-align: center;\n        flex: 1;\n      }\n      .signature-line {\n        border-bottom: 1px solid #333;\n        width: 150px;\n        margin: 0 auto 10px;\n        height: 40px;\n      }\n      .signature-label {\n        font-size: 14px;\n        color: #666;\n      }\n      @media print {\n        body {\n          padding: 0;\n        }\n        .no-print {\n          display: none !important;\n        }\n        .voucher-container {\n          border: 1px solid #333;\n          box-shadow: none;\n        }\n      }\n    ";};const formatDate=dateString=>{if(!dateString)return new Date().toLocaleDateString('ar-SA');return new Date(dateString).toLocaleDateString('ar-SA');};const formatHijriDate=dateString=>{if(!dateString)return'';return new Intl.DateTimeFormat('ar-SA-u-ca-islamic',{year:'numeric',month:'long',day:'numeric'}).format(new Date(dateString));};const getCategoryName=category=>{const categories={operations:'ØªØ´ØºÙŠÙ„ÙŠØ©',activities:'Ø£Ù†Ø´Ø·Ø©',maintenance:'ØµÙŠØ§Ù†Ø©',utilities:'Ù…Ø±Ø§ÙÙ‚',supplies:'Ù…Ø³ØªÙ„Ø²Ù…Ø§Øª',travel:'Ø³ÙØ±',marketing:'ØªØ³ÙˆÙŠÙ‚',other:'Ø£Ø®Ø±Ù‰'};return categories[category]||category;};const getStatusText=status=>{const statuses={pending:'ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',approved:'Ù…Ø¹ØªÙ…Ø¯',rejected:'Ù…Ø±ÙÙˆØ¶'};return statuses[status]||status;};return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"voucher-modal",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-modal-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"close-modal no-print",onClick:onClose,children:"\u2715"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{id:"expense-voucher",className:"voucher-container",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-header",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-logo",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:logo,alt:"Shuail Al-Anzi Fund",style:{width:'120px',height:'120px',marginBottom:'20px'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{children:"\u0635\u0646\u062F\u0648\u0642 \u0634\u0639\u064A\u0644 \u0627\u0644\u0639\u0646\u0632\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{fontSize:'14px',color:'#666',marginTop:'5px'},children:"Shuail Al-Anzi Fund"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"voucher-title",children:"\u0633\u0646\u062F \u0635\u0631\u0641"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-number",children:["\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062F: ",expense.id||"EXP-".concat(Date.now())]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-date",children:["\u0627\u0644\u062A\u0627\u0631\u064A\u062E: ",formatDate(expense.created_at),' ',"(",formatHijriDate(expense.created_at),")"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-body",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-label",children:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0635\u0631\u0648\u0641:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-value",children:expense.title_ar})]}),expense.title_en&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-label",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 (English):"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-value",children:expense.title_en})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-label",children:"\u0627\u0644\u0641\u0626\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-value",children:getCategoryName(expense.category)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-label",children:"\u0627\u0644\u062D\u0627\u0644\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-value",children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"status-badge status-".concat(expense.status),children:getStatusText(expense.status)})})]}),expense.description_ar&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-label",children:"\u0627\u0644\u0648\u0635\u0641:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-value",children:expense.description_ar})]}),expense.notes&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-label",children:"\u0645\u0644\u0627\u062D\u0638\u0627\u062A:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-value",children:expense.notes})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"amount-section",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"amount-label",children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0635\u0631\u0648\u0641"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"amount-value",children:[parseFloat(expense.amount||0).toLocaleString('ar-SA')," \u0631.\u0633"]})]}),expense.created_by_name&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-label",children:"\u062A\u0645 \u0627\u0644\u0625\u0646\u0634\u0627\u0621 \u0628\u0648\u0627\u0633\u0637\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-value",children:expense.created_by_name})]}),expense.approved_by_name&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-label",children:"\u062A\u0645 \u0627\u0644\u0627\u0639\u062A\u0645\u0627\u062F \u0628\u0648\u0627\u0633\u0637\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-value",children:expense.approved_by_name})]}),expense.rejection_reason&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-row rejection-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-label",children:"\u0633\u0628\u0628 \u0627\u0644\u0631\u0641\u0636:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"voucher-value",children:expense.rejection_reason})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-footer",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"signature-section",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"signature-box",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"signature-line"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"signature-label",children:"\u0627\u0644\u0645\u0633\u062A\u0644\u0645"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"signature-box",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"signature-line"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"signature-label",children:"\u0627\u0644\u0645\u062D\u0627\u0633\u0628"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"signature-box",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"signature-line"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"signature-label",children:"\u0627\u0644\u0645\u062F\u064A\u0631 \u0627\u0644\u0645\u0627\u0644\u064A"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"voucher-stamp",children:/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{textAlign:'center',marginTop:'40px',color:'#999',fontSize:'12px'},children:"\u0647\u0630\u0627 \u0627\u0644\u0633\u0646\u062F \u0635\u0627\u062F\u0631 \u0645\u0646 \u0646\u0638\u0627\u0645 \u0625\u062F\u0627\u0631\u0629 \u0639\u0627\u0626\u0644\u0629 \u0627\u0644\u0634\u0639\u064A\u0644 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"})})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"voucher-actions no-print",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:handlePrint,className:"print-btn",children:"\uD83D\uDDA8\uFE0F \u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0633\u0646\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:handleDownload,className:"download-btn",children:"\uD83D\uDCE5 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0633\u0646\u062F"})]})]})});};/* harmony default export */ const Reports_ExpenseVoucher = (ExpenseVoucher_ExpenseVoucher);
;// ./src/components/Reports/ExpenseManagement.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const ExpenseManagement = ({});
;// ./src/components/Reports/ExpenseManagement.jsx
const ExpenseManagement_ExpenseManagement=_ref=>{let{dateFilter,onExpenseChange}=_ref;const{user,token,hasPermission}=useAuth();// Check permissions on component mount
(0,react.useEffect)(()=>{// Allow access for financial_manager and super_admin roles
const userRole=user===null||user===void 0?void 0:user.role;const hasAccess=userRole==='super_admin'||userRole==='financial_manager'||userRole==='operational_manager'||hasPermission('view_finances')||hasPermission('manage_finances');if(!hasAccess){setError({message_ar:'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø£Ùˆ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª',retryable:false});}},[hasPermission,user]);const[expenses,setExpenses]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(false);const[error,setError]=(0,react.useState)(null);const[retryCount,setRetryCount]=(0,react.useState)(0);const[lastFetchTime,setLastFetchTime]=(0,react.useState)(null);const[showCreateForm,setShowCreateForm]=(0,react.useState)(false);const[searchTerm,setSearchTerm]=(0,react.useState)('');const[statusFilter,setStatusFilter]=(0,react.useState)('all');const[categoryFilter,setCategoryFilter]=(0,react.useState)('all');const[sortBy,setSortBy]=(0,react.useState)('created_at');const[sortOrder,setSortOrder]=(0,react.useState)('desc');const[showVoucher,setShowVoucher]=(0,react.useState)(false);const[selectedExpense,setSelectedExpense]=(0,react.useState)(null);const[createdExpense,setCreatedExpense]=(0,react.useState)(null);const[newExpense,setNewExpense]=(0,react.useState)({title_ar:'',title_en:'',description_ar:'',description_en:'',amount:'',category:'',receipt_image:null,notes:''});const[categories]=(0,react.useState)([{value:'operations',label_ar:'ØªØ´ØºÙŠÙ„ÙŠØ©',label_en:'Operations'},{value:'activities',label_ar:'Ø£Ù†Ø´Ø·Ø©',label_en:'Activities'},{value:'maintenance',label_ar:'ØµÙŠØ§Ù†Ø©',label_en:'Maintenance'},{value:'utilities',label_ar:'Ù…Ø±Ø§ÙÙ‚',label_en:'Utilities'},{value:'supplies',label_ar:'Ù…Ø³ØªÙ„Ø²Ù…Ø§Øª',label_en:'Supplies'},{value:'travel',label_ar:'Ø³ÙØ±',label_en:'Travel'},{value:'marketing',label_ar:'ØªØ³ÙˆÙŠÙ‚',label_en:'Marketing'},{value:'other',label_ar:'Ø£Ø®Ø±Ù‰',label_en:'Other'}]);(0,react.useEffect)(()=>{fetchExpenses();},[dateFilter,statusFilter,categoryFilter,sortBy,sortOrder]);const fetchExpenses=(0,react.useCallback)(async function(){let isRetry=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;// Prevent rapid successive calls
const now=Date.now();if(lastFetchTime&&now-lastFetchTime<1000&&!isRetry){return;}setLoading(true);setError(null);try{const params=new URLSearchParams();if(dateFilter.hijri_month)params.append('hijri_month',dateFilter.hijri_month);if(dateFilter.hijri_year)params.append('hijri_year',dateFilter.hijri_year);if(statusFilter!=='all')params.append('status',statusFilter);if(categoryFilter!=='all')params.append('category',categoryFilter);params.append('sort_by',sortBy);params.append('sort_order',sortOrder);if(searchTerm)params.append('search',searchTerm);const controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),15000);// 15s timeout
const response=await fetch("".concat("http://localhost:3001"||0,"/api/expenses?").concat(params),{headers:{'Authorization':"Bearer ".concat(token),'Content-Type':'application/json'},signal:controller.signal});clearTimeout(timeoutId);if(!response.ok){throw new Error("HTTP ".concat(response.status,": ").concat(response.statusText));}const data=await response.json();if(data.success){var _data$data;setExpenses(((_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.expenses)||data.data||[]);// Handle both structures
setRetryCount(0);// Reset retry count on success
setLastFetchTime(now);}else{throw new Error(data.message_ar||'Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª');}}catch(error){console.error('Error fetching expenses:',error);let errorMessage='Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…';if(error.name==='AbortError'){errorMessage='Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';}else if(error.message.includes('HTTP 401')){errorMessage='Ø§Ù†ØªÙ‡Øª ØµÙ„Ø§Ø­ÙŠØ© Ø¬Ù„Ø³Ø© Ø§Ù„Ø¹Ù…Ù„. ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';}else if(error.message.includes('HTTP 403')){errorMessage='Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª.';}else if(error.message.includes('HTTP 429')){errorMessage='ØªÙ… ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø·Ù„Ø¨Ø§Øª. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹.';}else if(error.message.includes('HTTP 5')){errorMessage='Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.';}else if(error.message){errorMessage=error.message;}setError({message_ar:errorMessage,originalError:error,retryable:!error.message.includes('HTTP 401')&&!error.message.includes('HTTP 403')});}finally{setLoading(false);}},[dateFilter,statusFilter,categoryFilter,sortBy,sortOrder,searchTerm,token,lastFetchTime]);const handleCreateExpense=async e=>{e.preventDefault();// Validation
if(!newExpense.title_ar||!newExpense.amount||!newExpense.category){console.log('Validation failed:',{title_ar:newExpense.title_ar,amount:newExpense.amount,category:newExpense.category});setError({message_ar:'ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©',retryable:false});return;}// Amount validation
const amount=parseFloat(newExpense.amount);if(isNaN(amount)||amount<=0){setError({message_ar:'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­',retryable:false});return;}if(amount>1000000){setError({message_ar:'Ø§Ù„Ù…Ø¨Ù„Øº ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‚ÙŠÙ…Ø©',retryable:false});return;}setLoading(true);setError(null);try{const formData=new FormData();Object.keys(newExpense).forEach(key=>{if(newExpense[key]!==null&&newExpense[key]!==''){formData.append(key,newExpense[key]);}});const controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),30000);// 30s for file upload
const response=await fetch("".concat("http://localhost:3001"||0,"/api/expenses"),{method:'POST',headers:{'Authorization':"Bearer ".concat(token)},body:formData,signal:controller.signal});clearTimeout(timeoutId);if(!response.ok){throw new Error("HTTP ".concat(response.status,": ").concat(response.statusText));}const data=await response.json();if(data.success){var _data$data2;// Store the created expense for voucher
const newExpenseData=(0,objectSpread2["default"])((0,objectSpread2["default"])({},newExpense),{},{id:((_data$data2=data.data)===null||_data$data2===void 0?void 0:_data$data2.id)||Date.now(),created_at:new Date().toISOString(),status:'pending',created_by_name:(user===null||user===void 0?void 0:user.name)||'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'});setCreatedExpense(newExpenseData);setShowVoucher(true);setNewExpense({title_ar:'',title_en:'',description_ar:'',description_en:'',amount:'',category:'',receipt_image:null,notes:''});setShowCreateForm(false);fetchExpenses(true);onExpenseChange&&onExpenseChange();}else{throw new Error(data.message_ar||'Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…ØµØ±ÙˆÙ');}}catch(error){console.error('Error creating expense:',error);let errorMessage='Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…';if(error.name==='AbortError'){errorMessage='Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';}else if(error.message.includes('HTTP 413')){errorMessage='Ø¨Ø±ÙÙ‚ Ø§Ù„Ù…Ù„Ù Ù…Ø´Ø¹Ø´ Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹.';}else if(error.message.includes('HTTP 400')){errorMessage='Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„.';}else if(error.message){errorMessage=error.message;}setError({message_ar:errorMessage,originalError:error,retryable:!error.message.includes('HTTP 4')});}finally{setLoading(false);}};const handleApproveExpense=async expenseId=>{if(!expenseId){setError({message_ar:'Ù…Ø¹Ø±Ù Ø§Ù„Ù…ØµØ±ÙˆÙ ØºÙŠØ± ØµØ­ÙŠØ­',retryable:false});return;}setLoading(true);setError(null);try{const controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),10000);const response=await fetch("".concat("http://localhost:3001"||0,"/api/expenses/").concat(expenseId,"/approval"),{method:'PUT',headers:{'Authorization':"Bearer ".concat(token),'Content-Type':'application/json'},body:JSON.stringify({status:'approved'}),signal:controller.signal});clearTimeout(timeoutId);if(!response.ok){throw new Error("HTTP ".concat(response.status,": ").concat(response.statusText));}const data=await response.json();if(data.success){fetchExpenses(true);onExpenseChange&&onExpenseChange();}else{throw new Error(data.message_ar||'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…ØµØ±ÙˆÙ');}}catch(error){console.error('Error approving expense:',error);let errorMessage='Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…ØµØ±ÙˆÙ';if(error.name==='AbortError'){errorMessage='Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';}else if(error.message.includes('HTTP 409')){errorMessage='Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ù…ØµØ±ÙˆÙ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ.';}else if(error.message.includes('HTTP 404')){errorMessage='Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…ØµØ±ÙˆÙ. Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù…Ø­Ø°ÙˆÙØ§Ù‹.';}else if(error.message){errorMessage=error.message;}setError({message_ar:errorMessage,originalError:error,retryable:!error.message.includes('HTTP 4')||error.name==='AbortError'});}finally{setLoading(false);}};const handleRejectExpense=async(expenseId,reason)=>{if(!expenseId){setError({message_ar:'Ù…Ø¹Ø±Ù Ø§Ù„Ù…ØµØ±ÙˆÙ ØºÙŠØ± ØµØ­ÙŠØ­',retryable:false});return;}if(!reason||reason.trim().length<3){setError({message_ar:'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø¨Ø¨ ÙˆØ§Ø¶Ø­ Ù„Ù„Ø±ÙØ¶',retryable:false});return;}setLoading(true);setError(null);try{const controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),10000);const response=await fetch("".concat("http://localhost:3001"||0,"/api/expenses/").concat(expenseId,"/approval"),{method:'PUT',headers:{'Authorization':"Bearer ".concat(token),'Content-Type':'application/json'},body:JSON.stringify({status:'rejected',rejection_reason:reason.trim()}),signal:controller.signal});clearTimeout(timeoutId);if(!response.ok){throw new Error("HTTP ".concat(response.status,": ").concat(response.statusText));}const data=await response.json();if(data.success){fetchExpenses(true);onExpenseChange&&onExpenseChange();}else{throw new Error(data.message_ar||'Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¶ Ø§Ù„Ù…ØµØ±ÙˆÙ');}}catch(error){console.error('Error rejecting expense:',error);let errorMessage='Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¶ Ø§Ù„Ù…ØµØ±ÙˆÙ';if(error.name==='AbortError'){errorMessage='Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';}else if(error.message.includes('HTTP 409')){errorMessage='Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø±ÙØ¶ Ù‡Ø°Ø§ Ø§Ù„Ù…ØµØ±ÙˆÙ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ.';}else if(error.message.includes('HTTP 404')){errorMessage='Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…ØµØ±ÙˆÙ. Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù…Ø­Ø°ÙˆÙØ§Ù‹.';}else if(error.message){errorMessage=error.message;}setError({message_ar:errorMessage,originalError:error,retryable:!error.message.includes('HTTP 4')||error.name==='AbortError'});}finally{setLoading(false);}};const getStatusColor=status=>{switch(status){case'pending':return'orange';case'approved':return'green';case'rejected':return'red';default:return'gray';}};const getStatusText=status=>{switch(status){case'pending':return'ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±';case'approved':return'Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡';case'rejected':return'Ù…Ø±ÙÙˆØ¶';default:return'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';}};const formatHijriDate=dateString=>{if(!dateString)return'';const date=new Date(dateString);return new Intl.DateTimeFormat('ar-SA-u-ca-islamic',{year:'numeric',month:'long',day:'numeric'}).format(date);};const formatGregorianDate=dateString=>{if(!dateString)return'';const date=new Date(dateString);return date.toLocaleDateString('ar-SA');};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"expense-management",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"expense-header glass-morphism",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"header-actions",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{children:"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A"}),hasPermission('manage_finances')&&/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"create-btn hover-lift ripple-effect",onClick:()=>setShowCreateForm(!showCreateForm),disabled:loading,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"btn-icon",children:"\u2795"}),"\u0625\u0636\u0627\u0641\u0629 \u0645\u0635\u0631\u0648\u0641 \u062C\u062F\u064A\u062F"]}),!hasPermission('manage_finances')&&hasPermission('view_finances')&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"view-only-notice",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"notice-icon",children:"\uD83D\uDC41\uFE0F"}),"\u0639\u0631\u0636 \u0641\u0642\u0637 - \u0644\u0627 \u064A\u0645\u0643\u0646\u0643 \u0625\u0636\u0627\u0641\u0629 \u0623\u0648 \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filters-section",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"search-box",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0627\u0644\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A...",value:searchTerm,onChange:e=>{e.stopPropagation();setSearchTerm(e.target.value);},onFocus:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),className:"search-input",autoComplete:"off",disabled:loading}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"search-btn",onClick:fetchExpenses,disabled:loading,children:"\uD83D\uDD0D"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-controls",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:statusFilter,onChange:e=>{e.stopPropagation();setStatusFilter(e.target.value);},onFocus:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),className:"filter-select",disabled:loading,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"all",children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0627\u0644\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"pending",children:"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"approved",children:"\u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064A\u0647"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"rejected",children:"\u0645\u0631\u0641\u0648\u0636"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:categoryFilter,onChange:e=>{e.stopPropagation();setCategoryFilter(e.target.value);},onFocus:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),className:"filter-select",disabled:loading,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"all",children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0641\u0626\u0627\u062A"}),categories.map(category=>/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:category.value,children:category.label_ar},category.value))]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:"".concat(sortBy,"-").concat(sortOrder),onChange:e=>{e.stopPropagation();const[field,order]=e.target.value.split('-');setSortBy(field);setSortOrder(order);},onFocus:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),className:"filter-select",disabled:loading,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"created_at-desc",children:"\u0627\u0644\u0623\u062D\u062F\u062B \u0623\u0648\u0644\u0627\u064B"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"created_at-asc",children:"\u0627\u0644\u0623\u0642\u062F\u0645 \u0623\u0648\u0644\u0627\u064B"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"amount-desc",children:"\u0627\u0644\u0645\u0628\u0644\u063A (\u0627\u0644\u0623\u0639\u0644\u0649)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"amount-asc",children:"\u0627\u0644\u0645\u0628\u0644\u063A (\u0627\u0644\u0623\u0642\u0644)"})]})]})]})]}),showCreateForm&&hasPermission('manage_finances')&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"create-expense-form glass-morphism animate-float",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("form",{onSubmit:handleCreateExpense,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0635\u0631\u0648\u0641 \u062C\u062F\u064A\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",className:"close-btn",onClick:()=>setShowCreateForm(false),children:"\u2715"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 (\u0639\u0631\u0628\u064A) *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:newExpense.title_ar,onChange:e=>setNewExpense(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{title_ar:e.target.value})),required:true,className:"form-input",autoComplete:"off",style:{width:'100%',padding:'12px 16px',border:'1px solid #ccc',borderRadius:'10px',fontSize:'16px',backgroundColor:'white',color:'black',boxSizing:'border-box',WebkitAppearance:'none',MozAppearance:'none',appearance:'none'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:newExpense.title_en,onChange:e=>setNewExpense(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{title_en:e.target.value})),className:"form-input",autoComplete:"off",style:{width:'100%',padding:'12px 16px',border:'1px solid #ccc',borderRadius:'10px',fontSize:'16px',backgroundColor:'white',color:'black',boxSizing:'border-box',WebkitAppearance:'none',MozAppearance:'none',appearance:'none'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0645\u0628\u0644\u063A (\u0631.\u0633) *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",step:"0.01",min:"0",max:"1000000",value:newExpense.amount,onChange:e=>setNewExpense(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{amount:e.target.value})),required:true,className:"form-input",autoComplete:"off",style:{width:'100%',padding:'12px 16px',border:'1px solid #ccc',borderRadius:'10px',fontSize:'16px',backgroundColor:'white',color:'black',boxSizing:'border-box',WebkitAppearance:'none',MozAppearance:'none',appearance:'none'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0641\u0626\u0629 *"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:newExpense.category,onChange:e=>setNewExpense(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{category:e.target.value})),required:true,className:"form-select",style:{width:'100%',padding:'12px 16px',border:'1px solid #ccc',borderRadius:'10px',fontSize:'16px',backgroundColor:'white',color:'black',boxSizing:'border-box',cursor:'pointer'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0627\u062E\u062A\u0631 \u0627\u0644\u0641\u0626\u0629"}),categories.map(category=>/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:category.value,children:category.label_ar},category.value))]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group full-width",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0648\u0635\u0641 (\u0639\u0631\u0628\u064A)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{value:newExpense.description_ar,onChange:e=>setNewExpense(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{description_ar:e.target.value})),className:"form-textarea",rows:"3",style:{width:'100%',padding:'12px 16px',border:'1px solid #ccc',borderRadius:'10px',fontSize:'16px',backgroundColor:'white',color:'black',boxSizing:'border-box',resize:'vertical'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group full-width",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0648\u0635\u0641 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{value:newExpense.description_en,onChange:e=>setNewExpense(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{description_en:e.target.value})),className:"form-textarea",rows:"3"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0625\u064A\u0635\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"file",accept:"image/*",onChange:e=>setNewExpense(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{receipt_image:e.target.files[0]})),className:"form-file"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0645\u0644\u0627\u062D\u0638\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{value:newExpense.notes,onChange:e=>setNewExpense(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{notes:e.target.value})),className:"form-textarea",rows:"2"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-actions",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{type:"submit",className:"submit-btn hover-lift ripple-effect",disabled:loading,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"btn-icon",children:"\uD83D\uDCBE"}),"\u062D\u0641\u0638 \u0627\u0644\u0645\u0635\u0631\u0648\u0641"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",className:"cancel-btn hover-lift",onClick:()=>setShowCreateForm(false),children:"\u0625\u0644\u063A\u0627\u0621"})]})]})}),error&&/*#__PURE__*/(0,jsx_runtime.jsx)(Common_ErrorDisplay,{error:error,onRetry:error.retryable?()=>{setRetryCount(prev=>prev+1);fetchExpenses(true);}:null,onDismiss:()=>setError(null),title:"\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A",showDetails:"production"==='development'}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"expenses-list",children:[loading&&/*#__PURE__*/(0,jsx_runtime.jsx)(Common_LoadingSpinner,{size:"large",message:retryCount>0?"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 ".concat(retryCount,"... \u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A"):'Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª...',overlay:true}),!loading&&expenses.length===0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"empty-state glass-morphism",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"empty-icon",children:"\uD83D\uDCDD"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0635\u0631\u0648\u0641\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0645\u0635\u0631\u0648\u0641\u0627\u062A \u062A\u0637\u0627\u0628\u0642 \u0627\u0644\u0645\u0639\u0627\u064A\u064A\u0631 \u0627\u0644\u0645\u062D\u062F\u062F\u0629"})]}),!loading&&expenses.length>0&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"expenses-grid",children:expenses.map(expense=>{var _categories$find;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"expense-card glass-morphism hover-lift",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"expense-header",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"expense-title",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h4",{children:expense.title_ar}),expense.title_en&&/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"title-en",children:expense.title_en})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"expense-status status-".concat(expense.status),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"status-indicator",style:{color:getStatusColor(expense.status)},children:"\u25CF"}),getStatusText(expense.status)]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"expense-details",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"expense-amount",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"amount-label",children:"\u0627\u0644\u0645\u0628\u0644\u063A:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"amount-value",children:[parseFloat(expense.amount).toLocaleString('ar-SA')," \u0631.\u0633"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"expense-category",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"category-label",children:"\u0627\u0644\u0641\u0626\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"category-value",children:((_categories$find=categories.find(c=>c.value===expense.category))===null||_categories$find===void 0?void 0:_categories$find.label_ar)||expense.category})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"expense-date",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"hijri-date",children:formatHijriDate(expense.created_at)}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"gregorian-date",children:["(",formatGregorianDate(expense.created_at),")"]})]}),expense.description_ar&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"expense-description",children:/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:expense.description_ar})}),expense.notes&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"expense-notes",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"notes-label",children:"\u0645\u0644\u0627\u062D\u0638\u0627\u062A:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:expense.notes})]}),expense.receipt_image_url&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"expense-receipt",children:/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:expense.receipt_image_url,alt:"\u0625\u064A\u0635\u0627\u0644 \u0627\u0644\u0645\u0635\u0631\u0648\u0641",className:"receipt-image"})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"expense-actions",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"voucher-btn hover-lift ripple-effect",onClick:()=>{setSelectedExpense(expense);setShowVoucher(true);},title:"\u0639\u0631\u0636 \u0627\u0644\u0633\u0646\u062F",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"btn-icon",children:"\uD83E\uDDFE"}),"\u0639\u0631\u0636 \u0627\u0644\u0633\u0646\u062F"]}),expense.status==='pending'&&hasPermission('manage_finances')&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"approve-btn hover-lift ripple-effect",onClick:()=>handleApproveExpense(expense.id),disabled:loading,title:"\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u0635\u0631\u0648\u0641",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"btn-icon",children:"\u2705"}),"\u0645\u0648\u0627\u0641\u0642\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"reject-btn hover-lift ripple-effect",onClick:()=>{const reason=prompt('Ø³Ø¨Ø¨ Ø§Ù„Ø±ÙØ¶ (Ù…Ø·Ù„ÙˆØ¨):');if(reason&&reason.trim().length>=3){handleRejectExpense(expense.id,reason);}else if(reason){setError({message_ar:'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø¨Ø¨ ÙˆØ§Ø¶Ø­ Ù„Ù„Ø±ÙØ¶ (3 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)',retryable:false});}},disabled:loading,title:"\u0631\u0641\u0636 \u0627\u0644\u0645\u0635\u0631\u0648\u0641",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"btn-icon",children:"\u274C"}),"\u0631\u0641\u0636"]})]})]}),expense.status==='pending'&&!hasPermission('manage_finances')&&hasPermission('view_finances')&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"expense-status-notice",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"status-icon",children:"\u23F3"}),"\u0641\u064A \u0627\u0646\u062A\u0638\u0627\u0631 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0645\u0646 \u0627\u0644\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0627\u0644\u064A\u0629"]}),expense.status==='rejected'&&expense.rejection_reason&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"rejection-reason",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"reason-label",children:"\u0633\u0628\u0628 \u0627\u0644\u0631\u0641\u0636:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:expense.rejection_reason})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"expense-print-actions",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"voucher-btn hover-lift",onClick:()=>{setSelectedExpense(expense);setShowVoucher(true);},title:"\u0639\u0631\u0636 \u0648\u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0633\u0646\u062F",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"btn-icon",children:"\uD83E\uDDFE"}),"\u0633\u0646\u062F \u0627\u0644\u0635\u0631\u0641"]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"expense-footer",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"created-by",children:["\u062A\u0645 \u0625\u0646\u0634\u0627\u0624\u0647 \u0628\u0648\u0627\u0633\u0637\u0629: ",expense.created_by_name||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯']}),expense.approved_by_name&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"approved-by",children:["\u062A\u0645\u062A \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0628\u0648\u0627\u0633\u0637\u0629: ",expense.approved_by_name]})]})]},expense.id);})})]}),showVoucher&&(selectedExpense||createdExpense)&&/*#__PURE__*/(0,jsx_runtime.jsx)(Reports_ExpenseVoucher,{expense:selectedExpense||createdExpense,onClose:()=>{setShowVoucher(false);setSelectedExpense(null);setCreatedExpense(null);}})]});};/* harmony default export */ const Reports_ExpenseManagement = (ExpenseManagement_ExpenseManagement);
;// ./src/components/Reports/FinancialReportsSimple.tsx
// @ts-ignore
// Hijri date conversion helper
const getHijriDate=()=>{// Get current date
const today=new Date();// Simple Hijri conversion (approximate)
// For production, you should use a proper Hijri conversion library
const gregorianYear=today.getFullYear();const gregorianMonth=today.getMonth()+1;const gregorianDay=today.getDate();// Approximate conversion (Hijri year = Gregorian year - 579)
const hijriYear=Math.floor(gregorianYear-579+(gregorianMonth-1)/12);// Hijri month names
const hijriMonths=['Ù…Ø­Ø±Ù…','ØµÙØ±','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø¢Ø®Ø±','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø¢Ø®Ø±Ø©','Ø±Ø¬Ø¨','Ø´Ø¹Ø¨Ø§Ù†','Ø±Ù…Ø¶Ø§Ù†','Ø´ÙˆØ§Ù„','Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©','Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©'];// Get approximate Hijri month (this is simplified)
const hijriMonth=hijriMonths[today.getMonth()];return{year:hijriYear,month:hijriMonth,day:gregorianDay,formatted:"".concat(gregorianDay," ").concat(hijriMonth," ").concat(hijriYear,"\u0647\u0640"),gregorian:today.toLocaleDateString('ar-SA')};};const FinancialReportsSimple=()=>{const[activeTab,setActiveTab]=(0,react.useState)('dashboard');const[loading,setLoading]=(0,react.useState)(false);const[attachments,setAttachments]=(0,react.useState)([]);const[currentHijriDate,setCurrentHijriDate]=(0,react.useState)(getHijriDate());const fileInputRef=(0,react.useRef)(null);(0,react.useEffect)(()=>{// Update Hijri date on component mount
setCurrentHijriDate(getHijriDate());},[]);// Export to PDF
const handleExportPDF=async()=>{setLoading(true);try{const response=await fetch('http://localhost:3001/api/reports/forensic?format=pdf&report_type=comprehensive_forensic',{method:'GET',headers:{'Authorization':"Bearer ".concat(localStorage.getItem('token')||'mock-token')}});if(response.ok){const blob=await response.blob();const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download="financial-report-".concat(Date.now(),".pdf");document.body.appendChild(a);a.click();window.URL.revokeObjectURL(url);document.body.removeChild(a);alert('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­!');}else{alert('Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ±');}}catch(error){console.error('Export error:',error);alert('Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ±');}finally{setLoading(false);}};// Export to Excel
const handleExportExcel=async()=>{setLoading(true);try{const response=await fetch('http://localhost:3001/api/reports/forensic?format=excel&report_type=comprehensive_forensic',{method:'GET',headers:{'Authorization':"Bearer ".concat(localStorage.getItem('token')||'mock-token')}});if(response.ok){const blob=await response.blob();const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download="financial-report-".concat(Date.now(),".xlsx");document.body.appendChild(a);a.click();window.URL.revokeObjectURL(url);document.body.removeChild(a);alert('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­!');}else{alert('Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ±');}}catch(error){console.error('Export error:',error);alert('Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ±');}finally{setLoading(false);}};// Handle file attachment
const handleFileSelect=event=>{const files=event.target.files;if(files&&files.length>0){const newFiles=Array.from(files);setAttachments(prev=>[...prev,...newFiles]);alert("\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 ".concat(newFiles.length," \u0645\u0631\u0641\u0642(\u0627\u062A)"));}};const handleRemoveAttachment=index=>{setAttachments(prev=>prev.filter((_,i)=>i!==index));};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{padding:'20px',backgroundColor:'#f5f5f5',minHeight:'500px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{textAlign:'left',color:'#666',fontSize:'14px'},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:["\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F\u064A: ",currentHijriDate.gregorian]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{style:{fontSize:'24px',color:'#333',textAlign:'right',margin:0},children:"\u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 \u0627\u0644\u0645\u0627\u0644\u064A\u0629 - \u0646\u0638\u0627\u0645 \u0627\u0644\u062A\u062D\u0644\u064A\u0644 \u0627\u0644\u062C\u0646\u0627\u0626\u064A \u0627\u0644\u0645\u062A\u0642\u062F\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{textAlign:'right',color:'#333',fontSize:'16px',fontWeight:'bold'},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{color:'#4CAF50'},children:["\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0647\u062C\u0631\u064A: ",currentHijriDate.formatted]})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'10px',marginBottom:'20px',justifyContent:'flex-end'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setActiveTab('dashboard'),style:{padding:'10px 20px',backgroundColor:activeTab==='dashboard'?'#4CAF50':'#ddd',color:activeTab==='dashboard'?'white':'#333',border:'none',borderRadius:'5px',cursor:'pointer'},children:"\u0644\u0648\u062D\u0629 \u0627\u0644\u0642\u064A\u0627\u062F\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setActiveTab('expenses'),style:{padding:'10px 20px',backgroundColor:activeTab==='expenses'?'#4CAF50':'#ddd',color:activeTab==='expenses'?'white':'#333',border:'none',borderRadius:'5px',cursor:'pointer'},children:"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setActiveTab('forensic'),style:{padding:'10px 20px',backgroundColor:activeTab==='forensic'?'#4CAF50':'#ddd',color:activeTab==='forensic'?'white':'#333',border:'none',borderRadius:'5px',cursor:'pointer'},children:"\u0627\u0644\u062A\u062D\u0644\u064A\u0644 \u0627\u0644\u062C\u0646\u0627\u0626\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setActiveTab('reports'),style:{padding:'10px 20px',backgroundColor:activeTab==='reports'?'#4CAF50':'#ddd',color:activeTab==='reports'?'white':'#333',border:'none',borderRadius:'5px',cursor:'pointer'},children:"\u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 \u0648\u0627\u0644\u062A\u0635\u062F\u064A\u0631"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{backgroundColor:'white',padding:'20px',borderRadius:'8px',minHeight:'300px'},children:[activeTab==='dashboard'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h2",{style:{fontSize:'20px',marginBottom:'15px',textAlign:'right'},children:["\u0644\u0648\u062D\u0629 \u0627\u0644\u0642\u064A\u0627\u062F\u0629 \u0627\u0644\u0645\u0627\u0644\u064A\u0629 - \u0634\u0647\u0631 ",currentHijriDate.month," ",currentHijriDate.year,"\u0647\u0640"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{marginBottom:'15px',textAlign:'right'},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{style:{padding:'8px 15px',borderRadius:'5px',border:'1px solid #ddd',backgroundColor:'white',fontSize:'14px',cursor:'pointer'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("option",{children:["\u0634\u0647\u0631 ",currentHijriDate.month," ",currentHijriDate.year,"\u0647\u0640"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{children:"\u0631\u0628\u0639 \u0633\u0646\u0648\u064A - \u0631\u0628\u064A\u0639 \u0627\u0644\u0623\u0648\u0644 \u0625\u0644\u0649 \u062C\u0645\u0627\u062F\u0649 \u0627\u0644\u0622\u062E\u0631\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{children:"\u0646\u0635\u0641 \u0633\u0646\u0648\u064A - \u0645\u062D\u0631\u0645 \u0625\u0644\u0649 \u062C\u0645\u0627\u062F\u0649 \u0627\u0644\u0622\u062E\u0631\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("option",{children:["\u0633\u0646\u0629 \u0643\u0627\u0645\u0644\u0629 ",currentHijriDate.year,"\u0647\u0640"]})]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'repeat(3, 1fr)',gap:'15px',marginBottom:'20px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{padding:'15px',backgroundColor:'#e3f2fd',borderRadius:'5px',textAlign:'center'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'24px',fontWeight:'bold',color:'#2196F3'},children:"\u0665\u0660,\u0660\u0660\u0660 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'14px',color:'#666'},children:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'12px',color:'#999',marginTop:'5px'},children:["\u0634\u0647\u0631 ",currentHijriDate.month]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'11px',color:'#4CAF50',marginTop:'3px'},children:["\u2191 \u0661\u0662\u066A \u0645\u0646 \u0634\u0647\u0631 ",currentHijriDate.month==='Ù…Ø­Ø±Ù…'?'Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©':'Ø§Ù„Ø³Ø§Ø¨Ù‚']})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{padding:'15px',backgroundColor:'#ffebee',borderRadius:'5px',textAlign:'center'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'24px',fontWeight:'bold',color:'#f44336'},children:"\u0663\u0660,\u0660\u0660\u0660 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'14px',color:'#666'},children:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'12px',color:'#999',marginTop:'5px'},children:["\u0634\u0647\u0631 ",currentHijriDate.month]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'11px',color:'#4CAF50',marginTop:'3px'},children:["\u2193 \u0665\u066A \u0645\u0646 \u0634\u0647\u0631 ",currentHijriDate.month==='Ù…Ø­Ø±Ù…'?'Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©':'Ø§Ù„Ø³Ø§Ø¨Ù‚']})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{padding:'15px',backgroundColor:'#e8f5e9',borderRadius:'5px',textAlign:'center'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'24px',fontWeight:'bold',color:'#4CAF50'},children:"\u0662\u0660,\u0660\u0660\u0660 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'14px',color:'#666'},children:"\u0635\u0627\u0641\u064A \u0627\u0644\u062F\u062E\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'12px',color:'#999',marginTop:'5px'},children:["\u0634\u0647\u0631 ",currentHijriDate.month]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'11px',color:'#666',marginTop:'3px'},children:"\u0647\u0627\u0645\u0634 \u0627\u0644\u0631\u0628\u062D: \u0664\u0660\u066A"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginBottom:'20px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h3",{style:{fontSize:'18px',marginBottom:'10px',textAlign:'right'},children:["\u0645\u0635\u0627\u062F\u0631 \u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A - ",currentHijriDate.month," ",currentHijriDate.year,"\u0647\u0640"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{backgroundColor:'#f9f9f9',padding:'15px',borderRadius:'5px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{color:'#2196F3'},children:"\u0662\u0665,\u0660\u0660\u0660 \u0631\u064A\u0627\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0644\u0645\u0628\u0627\u062F\u0631\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{color:'#2196F3'},children:"\u0661\u0665,\u0660\u0660\u0660 \u0631\u064A\u0627\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0644\u0645\u0646\u0627\u0633\u0628\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{color:'#2196F3'},children:"\u0667,\u0660\u0660\u0660 \u0631\u064A\u0627\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0644\u062F\u064A\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{color:'#2196F3'},children:"\u0663,\u0660\u0660\u0660 \u0631\u064A\u0627\u0644"})]})]})]})]}),activeTab==='expenses'&&/*#__PURE__*/(0,jsx_runtime.jsx)(Reports_ExpenseManagement,{dateFilter:{hijri_month:new Date().getMonth()+1,hijri_year:currentHijriDate.year},onExpenseChange:()=>{// Refresh data if needed
console.log('Expense changed');}}),activeTab==='forensic'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h2",{style:{fontSize:'20px',marginBottom:'15px',textAlign:'right'},children:["\u0627\u0644\u062A\u062D\u0644\u064A\u0644 \u0627\u0644\u062C\u0646\u0627\u0626\u064A \u0627\u0644\u0645\u0627\u0644\u064A - ",currentHijriDate.month," ",currentHijriDate.year,"\u0647\u0640"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'repeat(2, 1fr)',gap:'15px',marginBottom:'20px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{padding:'15px',backgroundColor:'#f3e5f5',borderRadius:'5px',cursor:'pointer'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'16px',marginBottom:'5px',color:'#9c27b0'},children:"\u062A\u062D\u0644\u064A\u0644 \u0645\u0646 \u062F\u0641\u0639 \u0644\u0645\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{fontSize:'12px',color:'#666'},children:"\u062A\u062A\u0628\u0639 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A \u0627\u0644\u0645\u062A\u0642\u0627\u0637\u0639\u0629 \u0628\u064A\u0646 \u0627\u0644\u0623\u0639\u0636\u0627\u0621"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{padding:'15px',backgroundColor:'#e8eaf6',borderRadius:'5px',cursor:'pointer'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'16px',marginBottom:'5px',color:'#3f51b5'},children:"\u062A\u062D\u0644\u064A\u0644 \u0623\u0646\u0645\u0627\u0637 \u0627\u0644\u0645\u0633\u0627\u0647\u0645\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{fontSize:'12px',color:'#666'},children:"\u062F\u0631\u0627\u0633\u0629 \u0623\u0646\u0645\u0627\u0637 \u0627\u0644\u0645\u0633\u0627\u0647\u0645\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u0639\u0627\u0626\u0644\u0629 \u0648\u0627\u0644\u0641\u062A\u0631\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{padding:'15px',backgroundColor:'#fce4ec',borderRadius:'5px',cursor:'pointer'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'16px',marginBottom:'5px',color:'#e91e63'},children:"\u062A\u062D\u0644\u064A\u0644 \u0627\u0644\u0639\u0644\u0627\u0642\u0627\u062A \u0627\u0644\u0645\u0627\u0644\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{fontSize:'12px',color:'#666'},children:"\u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0639\u0644\u0627\u0642\u0627\u062A \u0627\u0644\u0645\u0627\u0644\u064A\u0629 \u0628\u064A\u0646 \u0627\u0644\u0623\u0639\u0636\u0627\u0621"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{padding:'15px',backgroundColor:'#e0f2f1',borderRadius:'5px',cursor:'pointer'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'16px',marginBottom:'5px',color:'#009688'},children:"\u062A\u062D\u0644\u064A\u0644 \u0627\u0644\u0627\u0645\u062A\u062B\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{fontSize:'12px',color:'#666'},children:"\u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0627\u0645\u062A\u062B\u0627\u0644 \u0648\u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{backgroundColor:'#f9f9f9',padding:'15px',borderRadius:'5px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h3",{style:{fontSize:'16px',marginBottom:'10px',textAlign:'right'},children:["\u0631\u0624\u0649 \u0627\u0644\u062A\u062D\u0644\u064A\u0644 \u0627\u0644\u062C\u0646\u0627\u0626\u064A - \u0634\u0647\u0631 ",currentHijriDate.month]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("ul",{style:{textAlign:'right',listStyle:'none',padding:0},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("li",{style:{marginBottom:'8px'},children:["\u2022 \u062A\u0645 \u062A\u062D\u062F\u064A\u062F \u0661\u0665 \u0645\u0639\u0627\u0645\u0644\u0629 \u062F\u0641\u0639 \u0645\u062A\u0642\u0627\u0637\u0639 \u0641\u064A \u0634\u0647\u0631 ",currentHijriDate.month]}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{style:{marginBottom:'8px'},children:"\u2022 \u0667 \u0623\u0639\u0636\u0627\u0621 \u062F\u0641\u0639\u0648\u0627 \u0644\u0622\u062E\u0631\u064A\u0646 \u0645\u0646 \u0639\u0627\u0626\u0644\u0627\u062A \u0645\u062E\u062A\u0644\u0641\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{style:{marginBottom:'8px'},children:"\u2022 \u0645\u0639\u062F\u0644 \u0627\u0644\u0627\u0645\u062A\u062B\u0627\u0644 \u0644\u0644\u0648\u062B\u0627\u0626\u0642: \u0669\u0665\u066A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{style:{marginBottom:'8px'},children:"\u2022 \u0663 \u0645\u0639\u0627\u0645\u0644\u0627\u062A \u062A\u062D\u062A\u0627\u062C \u0645\u0631\u0627\u062C\u0639\u0629 \u0625\u0636\u0627\u0641\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("li",{children:["\u2022 \u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B: ",currentHijriDate.formatted]})]})]})]}),activeTab==='reports'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{style:{fontSize:'20px',marginBottom:'15px',textAlign:'right'},children:"\u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 \u0648\u0627\u0644\u062A\u0635\u062F\u064A\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginBottom:'20px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'16px',marginBottom:'10px',textAlign:'right'},children:"\u062E\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u062A\u0635\u062F\u064A\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'10px',marginBottom:'15px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:handleExportPDF,disabled:loading,style:{padding:'10px 20px',backgroundColor:loading?'#ccc':'#2196F3',color:'white',border:'none',borderRadius:'5px',cursor:loading?'not-allowed':'pointer',display:'flex',alignItems:'center',gap:'5px'},children:loading?'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØµØ¯ÙŠØ±...':'ðŸ“„ ØªØµØ¯ÙŠØ± PDF'}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:handleExportExcel,disabled:loading,style:{padding:'10px 20px',backgroundColor:loading?'#ccc':'#4CAF50',color:'white',border:'none',borderRadius:'5px',cursor:loading?'not-allowed':'pointer',display:'flex',alignItems:'center',gap:'5px'},children:loading?'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØµØ¯ÙŠØ±...':'ðŸ“Š ØªØµØ¯ÙŠØ± Excel'})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginBottom:'20px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'16px',marginBottom:'10px',textAlign:'right'},children:"\u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{backgroundColor:'#f9f9f9',padding:'15px',borderRadius:'5px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{ref:fileInputRef,type:"file",multiple:true,onChange:handleFileSelect,style:{display:'none'},accept:".pdf,.xlsx,.xls,.doc,.docx,.png,.jpg,.jpeg"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},style:{padding:'10px 20px',backgroundColor:'#FF9800',color:'white',border:'none',borderRadius:'5px',cursor:'pointer',marginBottom:'10px',display:'flex',alignItems:'center',gap:'5px'},children:"\uD83D\uDCCE \u0625\u0636\u0627\u0641\u0629 \u0645\u0631\u0641\u0642"}),attachments.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginTop:'10px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{textAlign:'right',marginBottom:'10px'},children:"\u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A \u0627\u0644\u0645\u0636\u0627\u0641\u0629:"}),attachments.map((file,index)=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'8px',backgroundColor:'white',borderRadius:'5px',marginBottom:'5px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>handleRemoveAttachment(index),style:{padding:'4px 8px',backgroundColor:'#f44336',color:'white',border:'none',borderRadius:'3px',cursor:'pointer',fontSize:'12px'},children:"\u062D\u0630\u0641"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:{fontSize:'14px'},children:[file.name," (",(file.size/1024).toFixed(2)," KB)"]})]},index))]}),attachments.length===0&&/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{textAlign:'right',color:'#666',fontSize:'14px'},children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0631\u0641\u0642\u0627\u062A \u062D\u0627\u0644\u064A\u0627\u064B. \u0627\u0636\u063A\u0637 \u0639\u0644\u0649 \u0632\u0631 \"\u0625\u0636\u0627\u0641\u0629 \u0645\u0631\u0641\u0642\" \u0644\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0644\u0641\u0627\u062A."})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{backgroundColor:'#f9f9f9',padding:'15px',borderRadius:'5px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'16px',marginBottom:'10px',textAlign:'right'},children:"\u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 \u0627\u0644\u0645\u062A\u0627\u062D\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("ul",{style:{textAlign:'right',listStyle:'none',padding:0},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("li",{style:{marginBottom:'8px'},children:"\u2705 \u062A\u0642\u0631\u064A\u0631 \u0634\u0627\u0645\u0644 \u0645\u0641\u0635\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{style:{marginBottom:'8px'},children:"\u2705 \u062A\u062D\u0644\u064A\u0644 \u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u0645\u0641\u0635\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{style:{marginBottom:'8px'},children:"\u2705 \u062A\u062D\u0644\u064A\u0644 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A \u0627\u0644\u0645\u0641\u0635\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{style:{marginBottom:'8px'},children:"\u2705 \u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u062F\u064A\u0627\u062A \u0627\u0644\u062A\u0641\u0635\u064A\u0644\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{style:{marginBottom:'8px'},children:"\u2705 \u062A\u062D\u0644\u064A\u0644 \u0639\u0644\u0627\u0642\u0627\u062A \u0627\u0644\u062F\u0641\u0639"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u2705 \u0645\u0633\u0627\u0647\u0645\u0627\u062A \u0627\u0644\u0623\u0639\u0636\u0627\u0621 \u0627\u0644\u0645\u0641\u0635\u0644\u0629"})]})]})]})]})]});};/* harmony default export */ const Reports_FinancialReportsSimple = (FinancialReportsSimple);
;// ./src/services/api.js
class APIService{constructor(){// Always use production URL in production
this.baseURL=window.location.hostname==='localhost'?'http://localhost:3001':'https://proshael.onrender.com';// Cache for successful responses
this.cache=new Map();this.cacheDuration=5*60*1000;// 5 minutes
// Request retry configuration
this.maxRetries=3;this.retryDelay=1000;// 1 second
console.log('ðŸ”§ API Service initialized with baseURL:',this.baseURL);}async request(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return this.requestWithRetry(endpoint,options,this.maxRetries);}async requestWithRetry(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let retries=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;const url="".concat(this.baseURL).concat(endpoint);const cacheKey="".concat(options.method||'GET',":").concat(url,":").concat(JSON.stringify(options.body||{}));// Check cache first for GET requests
if(!options.method||options.method==='GET'){const cached=this.getFromCache(cacheKey);if(cached){console.log('ðŸ“‹ Using cached data for:',endpoint);return cached;}}const config=(0,objectSpread2["default"])({headers:(0,objectSpread2["default"])({'Content-Type':'application/json'},options.headers),timeout:30000},options);// Always add authorization header if token exists
const token=localStorage.getItem('token');if(token){config.headers['Authorization']="Bearer ".concat(token);}try{console.log('ðŸŒ API Request:',{url,method:config.method||'GET',hasToken:!!config.headers['Authorization'],attempt:this.maxRetries-retries+1,endpoint});const controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),config.timeout);const response=await fetch(url,(0,objectSpread2["default"])((0,objectSpread2["default"])({},config),{},{signal:controller.signal}));clearTimeout(timeoutId);let data;try{data=await response.json();}catch(parseError){console.warn('âš ï¸ Failed to parse JSON response:',parseError);data={error:'Invalid response format'};}if(!response.ok){console.error('âŒ API Error Response:',{status:response.status,statusText:response.statusText,error:data.error,url,endpoint});// Handle authentication errors
if(response.status===401||response.status===403){console.warn('ðŸ”‘ Authentication error, attempting token refresh...');await this.handleAuthError();// Retry once with refreshed token if we have retries left
if(retries>0){await this.delay(this.retryDelay);return this.requestWithRetry(endpoint,options,retries-1);}}// Handle server errors with retry
if(response.status>=500&&retries>0){console.warn("\u23F3 Server error ".concat(response.status,", retrying in ").concat(this.retryDelay,"ms..."));await this.delay(this.retryDelay*(this.maxRetries-retries+1));return this.requestWithRetry(endpoint,options,retries-1);}throw new Error(data.error||"HTTP ".concat(response.status,": ").concat(response.statusText));}console.log('âœ… API Success:',{endpoint,status:response.status,dataKeys:Object.keys(data)});// Cache successful GET requests
if(!options.method||options.method==='GET'){this.setCache(cacheKey,data);}return data;}catch(error){console.error('ðŸ’¥ API Request Failed:',{endpoint,error:error.message,type:error.name,retriesLeft:retries});// Network or timeout errors - retry if we have attempts left
if(retries>0&&(error.name==='AbortError'||error.name==='TypeError'||error.message.includes('fetch'))){console.warn("\uD83D\uDD04 Retrying request to ".concat(endpoint," (").concat(retries," attempts left)..."));await this.delay(this.retryDelay*(this.maxRetries-retries+1));return this.requestWithRetry(endpoint,options,retries-1);}// Return cached data as fallback for GET requests
if(!options.method||options.method==='GET'){const cached=this.getFromCache(cacheKey,true);// Get even expired cache
if(cached){console.warn('ðŸ“‹ Using stale cached data as fallback for:',endpoint);return cached;}// Return mock data as last resort
const mockData=this.getMockData(endpoint);if(mockData){console.warn('ðŸŽ­ Using mock data as fallback for:',endpoint);return mockData;}}throw error;}}async delay(ms){return new Promise(resolve=>setTimeout(resolve,ms));}async handleAuthError(){try{const token=localStorage.getItem('token');if(!token){console.warn('ðŸ”‘ No token found, redirecting to login...');this.redirectToLogin();return;}// Try to refresh the token
const response=await fetch("".concat(this.baseURL,"/api/auth/refresh"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':"Bearer ".concat(token)}});if(response.ok){const data=await response.json();if(data.success&&data.token){localStorage.setItem('token',data.token);console.log('ðŸ”‘ Token refreshed successfully');return;}}console.warn('ðŸ”‘ Token refresh failed, redirecting to login...');this.redirectToLogin();}catch(refreshError){console.error('ðŸ”‘ Token refresh error:',refreshError);this.redirectToLogin();}}redirectToLogin(){localStorage.removeItem('token');const currentPath=window.location.pathname;// Don't redirect if already on a login page (admin or mobile)
if(currentPath!=='/login'&&!currentPath.startsWith('/mobile/login')){// Redirect to appropriate login based on current path
if(currentPath.startsWith('/mobile/')){window.location.href='/mobile/login';}else{window.location.href='/login';}}}setCache(key,data){this.cache.set(key,{data,timestamp:Date.now()});}getFromCache(key){let allowStale=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const cached=this.cache.get(key);if(!cached)return null;const isExpired=Date.now()-cached.timestamp>this.cacheDuration;if(isExpired&&!allowStale){this.cache.delete(key);return null;}return cached.data;}getMockData(endpoint){const mockData={'/api/dashboard/stats':{success:true,data:{members:{total:299,active:288,inactive:11,newThisMonth:5},payments:{pending:12,pendingAmount:36000,monthlyRevenue:150000,totalRevenue:2500000,totalPaid:287},subscriptions:{active:280,expired:19,total:299,revenue:840000},activities:[{id:1,type:'payment',description:'Ø¯ÙØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯',date:new Date().toISOString(),amount:3000},{id:2,type:'member',description:'Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯ Ø§Ù†Ø¶Ù… Ù„Ù„Ù†Ø¸Ø§Ù…',date:new Date().toISOString(),amount:null},{id:3,type:'occasion',description:'Ù…Ù†Ø§Ø³Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø© ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§',date:new Date().toISOString(),amount:null}]}},'/api/members':{success:true,data:Array.from({length:10},(_,i)=>({id:i+1,full_name:"\u0639\u0636\u0648 \u062A\u062C\u0631\u064A\u0628\u064A ".concat(i+1),phone:"050123456".concat(i),membership_number:"SH".concat(String(i+1).padStart(3,'0')),balance:Math.floor(Math.random()*5000)+1000,membership_status:'active',tribal_section:'Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ø£ÙˆÙ„',created_at:new Date().toISOString()}))}};return mockData[endpoint]||null;}// Authentication
async login(email,password){return this.request('/api/auth/login',{method:'POST',body:JSON.stringify({email,password})});}async verifyToken(){return this.request('/api/auth/verify',{method:'POST'});}// Dashboard
async getDashboardStats(){return this.request('/api/dashboard/stats');}// Members
async getMembers(){return this.request('/api/members');}async getMember(id){return this.request("/api/members/".concat(id));}async createMember(memberData){return this.request('/api/members',{method:'POST',body:JSON.stringify(memberData)});}async updateMember(id,memberData){return this.request("/api/members/".concat(id),{method:'PUT',body:JSON.stringify(memberData)});}async deleteMember(id){return this.request("/api/members/".concat(id),{method:'DELETE'});}// Payments
async getPayments(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const params=new URLSearchParams(filters);return this.request("/api/payments?".concat(params));}async createPayment(paymentData){return this.request('/api/payments',{method:'POST',body:JSON.stringify(paymentData)});}async updatePaymentStatus(id,status){return this.request("/api/payments/".concat(id,"/status"),{method:'PUT',body:JSON.stringify({status})});}async getPaymentStats(){return this.request('/api/payments/stats');}// Subscriptions
async getSubscriptions(){return this.request('/api/subscriptions');}async createSubscription(subscriptionData){return this.request('/api/subscriptions',{method:'POST',body:JSON.stringify(subscriptionData)});}// Occasions API
async getOccasions(){return this.request('/api/occasions');}async getOccasion(id){return this.request("/api/occasions/".concat(id));}async createOccasion(occasionData){return this.request('/api/occasions',{method:'POST',body:JSON.stringify(occasionData)});}async updateOccasion(id,occasionData){return this.request("/api/occasions/".concat(id),{method:'PUT',body:JSON.stringify(occasionData)});}async deleteOccasion(id){return this.request("/api/occasions/".concat(id),{method:'DELETE'});}async updateRSVP(id,rsvpData){return this.request("/api/occasions/".concat(id,"/rsvp"),{method:'PUT',body:JSON.stringify(rsvpData)});}async getOccasionStats(){return this.request('/api/occasions/stats');}// Initiatives API
async getInitiatives(){return this.request('/api/initiatives');}async getInitiative(id){return this.request("/api/initiatives/".concat(id));}async createInitiative(initiativeData){return this.request('/api/initiatives',{method:'POST',body:JSON.stringify(initiativeData)});}async updateInitiative(id,initiativeData){return this.request("/api/initiatives/".concat(id),{method:'PUT',body:JSON.stringify(initiativeData)});}async addContribution(id,contributionData){return this.request("/api/initiatives/".concat(id,"/contribute"),{method:'POST',body:JSON.stringify(contributionData)});}async updateContributionStatus(initiativeId,contributionId,status){return this.request("/api/initiatives/".concat(initiativeId,"/contributions/").concat(contributionId),{method:'PUT',body:JSON.stringify({status})});}async getInitiativeStats(){return this.request('/api/initiatives/stats');}// Diyas API
async getDiyas(){return this.request('/api/diyas');}async getDiya(id){return this.request("/api/diyas/".concat(id));}async createDiya(diyaData){return this.request('/api/diyas',{method:'POST',body:JSON.stringify(diyaData)});}async updateDiya(id,diyaData){return this.request("/api/diyas/".concat(id),{method:'PUT',body:JSON.stringify(diyaData)});}async deleteDiya(id){return this.request("/api/diyas/".concat(id),{method:'DELETE'});}async updateDiyaStatus(id,status){return this.request("/api/diyas/".concat(id,"/status"),{method:'PUT',body:JSON.stringify({status})});}async getMemberDiyas(memberId){return this.request("/api/diyas/member/".concat(memberId));}async getDiyaStats(){return this.request('/api/diyas/stats');}// Notifications API
async getNotifications(){return this.request('/api/notifications');}async getNotification(id){return this.request("/api/notifications/".concat(id));}async createNotification(notificationData){return this.request('/api/notifications',{method:'POST',body:JSON.stringify(notificationData)});}async deleteNotification(id){return this.request("/api/notifications/".concat(id),{method:'DELETE'});}async markAsRead(id){return this.request("/api/notifications/".concat(id,"/read"),{method:'PUT'});}async bulkMarkAsRead(notificationIds){return this.request('/api/notifications/bulk-read',{method:'PUT',body:JSON.stringify({notificationIds})});}async getMemberNotifications(memberId){return this.request("/api/notifications/member/".concat(memberId));}async getNotificationStats(){return this.request('/api/notifications/stats');}// Health Check
async healthCheck(){return this.request('/api/health');}// Clear cache manually
clearCache(){this.cache.clear();console.log('ðŸ§¹ API cache cleared');}// Get cache status
getCacheStatus(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),oldest:Math.min(...Array.from(this.cache.values()).map(v=>v.timestamp)),newest:Math.max(...Array.from(this.cache.values()).map(v=>v.timestamp))};}}const apiService=new APIService();
;// ./src/services/memberService.js
/**
 * Member Management Service
 * Handles all member-related API operations including Excel import,
 * member registration, and member management functionality.
 */class MemberService{constructor(){this.baseURL="http://localhost:3001"||0;}/**
   * Get authentication token from localStorage
   */getAuthToken(){return localStorage.getItem('token');}/**
   * Make API request with proper headers
   */async makeRequest(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const url="".concat(this.baseURL).concat(endpoint);const config=(0,objectSpread2["default"])({headers:(0,objectSpread2["default"])({},options.headers)},options);// Add auth token if available
const token=this.getAuthToken();if(token){config.headers['Authorization']="Bearer ".concat(token);}try{const response=await fetch(url,config);if(!response.ok){const errorData=await response.json().catch(()=>({}));console.error('API Error Response:',errorData);// Return error data instead of throwing for better handling
return{success:false,error:errorData.error||errorData.message||"HTTP error! status: ".concat(response.status),status:response.status};}const data=await response.json();// Ensure we have a success field
if(!('success'in data)){data.success=true;}return data;}catch(error){console.error('API Error:',error);return{success:false,error:error.message||'Network error'};}}// ==================== ADMIN FUNCTIONS ====================
/**
   * Import members from Excel file
   * @param {File} file - Excel file containing member data
   * @returns {Promise} Import results with success/failure counts
   */async importMembersFromExcel(file){const formData=new FormData();formData.append('excel',file);return this.makeRequest('/api/members/import',{method:'POST',body:formData,// Don't set Content-Type header for FormData - browser will set it with boundary
headers:{}});}/**
   * Get members list with optional filters
   * @param {Object} filters - Filter criteria
   * @param {number} page - Page number
   * @param {number} limit - Items per page
   * @returns {Promise} Paginated members list
   */async getMembersList(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let page=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;let limit=arguments.length>2&&arguments[2]!==undefined?arguments[2]:25;const params=new URLSearchParams((0,objectSpread2["default"])({page:page.toString(),limit:limit.toString()},filters));return this.makeRequest("/api/members?".concat(params));}/**
   * Get member statistics
   * @returns {Promise} Member statistics object
   */async getMemberStatistics(){return this.makeRequest('/api/members/statistics');}/**
   * Send registration reminders to members
   * @param {Array} memberIds - Array of member IDs (optional, if empty sends to all incomplete profiles)
   * @returns {Promise} SMS sending results
   */async sendRegistrationReminders(){let memberIds=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return this.makeRequest('/api/members/send-reminders',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({memberIds})});}/**
   * Get member details by ID
   * @param {string} memberId - Member ID
   * @returns {Promise} Member details
   */async getMemberById(memberId){return this.makeRequest("/api/members/".concat(memberId));}/**
   * Add a new member
   * @param {Object} memberData - New member data
   * @returns {Promise} Created member
   */async addMember(memberData){return this.makeRequest('/api/members',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(memberData)});}/**
   * Update member information
   * @param {string} memberId - Member ID
   * @param {Object} memberData - Updated member data
   * @returns {Promise} Updated member
   */async updateMember(memberId,memberData){return this.makeRequest("/api/members/".concat(memberId),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(memberData)});}/**
   * Delete a member
   * @param {string} memberId - Member ID
   * @returns {Promise} Deletion result
   */async deleteMember(memberId){return this.makeRequest("/api/members/".concat(memberId),{method:'DELETE'});}/**
   * Export members to Excel
   * @param {Object} filters - Export filters
   * @returns {Promise} Excel file blob
   */async exportMembersToExcel(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const params=new URLSearchParams(filters);const response=await fetch("".concat(this.baseURL,"/api/members/export?").concat(params),{method:'GET',headers:{'Authorization':"Bearer ".concat(this.getAuthToken())}});if(!response.ok){throw new Error('Export failed');}return response.blob();}/**
   * Get import history
   * @returns {Promise} Import history records
   */async getImportHistory(){return this.makeRequest('/api/members/import-history');}// ==================== PUBLIC REGISTRATION FUNCTIONS ====================
/**
   * Verify registration token
   * @param {string} token - Registration token from URL
   * @returns {Promise} Token verification result with member data
   */async verifyRegistrationToken(token){return this.makeRequest("/api/members/verify-token/".concat(token),{method:'GET'});}/**
   * Complete member profile registration
   * @param {string} token - Registration token
   * @param {Object} profileData - Complete profile data
   * @returns {Promise} Registration completion result
   */async completeProfile(token,profileData){const formData=new FormData();// Add text fields
Object.keys(profileData).forEach(key=>{if(key!=='profile_photo'&&profileData[key]!==null&&profileData[key]!==undefined){formData.append(key,profileData[key]);}});// Add photo file if provided
if(profileData.profile_photo&&profileData.profile_photo instanceof File){formData.append('profile_photo',profileData.profile_photo);}return this.makeRequest("/api/members/complete-profile/".concat(token),{method:'POST',body:formData,headers:{}});}/**
   * Upload profile photo
   * @param {string} token - Registration token
   * @param {File} photoFile - Photo file
   * @returns {Promise} Upload result
   */async uploadProfilePhoto(token,photoFile){const formData=new FormData();formData.append('profile_photo',photoFile);return this.makeRequest("/api/members/upload-photo/".concat(token),{method:'POST',body:formData,headers:{}});}// ==================== UTILITY FUNCTIONS ====================
/**
   * Search members by name or phone
   * @param {string} query - Search query
   * @returns {Promise} Search results
   */async searchMembers(query){const params=new URLSearchParams({q:query});return this.makeRequest("/api/members/search?".concat(params));}/**
   * Get member by phone number
   * @param {string} phoneNumber - Phone number
   * @returns {Promise} Member data
   */async getMemberByPhone(phoneNumber){return this.makeRequest("/api/members/by-phone/".concat(phoneNumber));}/**
   * Check if membership number is available
   * @param {string} membershipNumber - Membership number to check
   * @returns {Promise} Availability status
   */async checkMembershipNumberAvailability(membershipNumber){return this.makeRequest("/api/members/check-membership/".concat(membershipNumber));}/**
   * Generate new membership number
   * @returns {Promise} New membership number
   */async generateMembershipNumber(){return this.makeRequest('/api/members/generate-membership-number');}/**
   * Send welcome SMS to new member
   * @param {string} memberId - Member ID
   * @returns {Promise} SMS sending result
   */async sendWelcomeSMS(memberId){return this.makeRequest("/api/members/".concat(memberId,"/send-welcome"),{method:'POST'});}/**
   * Get member registration statistics
   * @param {Object} dateRange - Date range for statistics
   * @returns {Promise} Registration statistics
   */async getRegistrationStatistics(){let dateRange=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const params=new URLSearchParams(dateRange);return this.makeRequest("/api/members/registration-stats?".concat(params));}// ==================== BULK OPERATIONS ====================
/**
   * Bulk update member status
   * @param {Array} memberIds - Array of member IDs
   * @param {string} status - New status
   * @returns {Promise} Bulk update result
   */async bulkUpdateStatus(memberIds,status){return this.makeRequest('/api/members/bulk-update-status',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({memberIds,status})});}/**
   * Send bulk SMS to selected members
   * @param {Array} memberIds - Array of member IDs
   * @param {string} message - SMS message
   * @returns {Promise} Bulk SMS result
   */async sendBulkSMS(memberIds,message){return this.makeRequest('/api/members/bulk-sms',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({memberIds,message})});}}// Create and export singleton instance
const memberService=new MemberService();/* harmony default export */ const services_memberService = (memberService);
// EXTERNAL MODULE: ./node_modules/@heroicons/react/24/solid/esm/index.js + 324 modules
var solid_esm = __webpack_require__(8165);
;// ./src/components/Registration/PremiumRegistration.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const PremiumRegistration = ({});
;// ./src/components/Registration/PremiumRegistration.tsx
const PremiumRegistration_PremiumRegistration=()=>{const[currentStep,setCurrentStep]=(0,react.useState)(1);const[formData,setFormData]=(0,react.useState)({fullName:'',nationalId:'',phone:'',email:'',birthDate:'',birthDateHijri:'',gender:'',nationality:'saudi',country:'Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©',city:'',district:'',street:'',buildingNumber:'',postalCode:'',additionalNumber:'',maritalStatus:'',numberOfDependents:0,familyMembers:[],occupation:'',employer:'',employmentType:'full-time',monthlyIncome:'',educationLevel:'',hasHealthConditions:false,needsAssistance:false,emergencyContact:'',emergencyPhone:''});const[errors,setErrors]=(0,react.useState)([]);const[isSubmitting,setIsSubmitting]=(0,react.useState)(false);const[submitSuccess,setSubmitSuccess]=(0,react.useState)(false);const[activeField,setActiveField]=(0,react.useState)('');const[progressPercent,setProgressPercent]=(0,react.useState)(20);const formRef=(0,react.useRef)(null);const totalSteps=5;const stepTitles=['Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©','Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø³ÙƒÙ†ÙŠ','Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø±ÙŠØ©','Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©','Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙƒÙ…ÙŠÙ„ÙŠØ©'];const stepIcons=[esm.UserIcon,esm.HomeIcon,esm.UserGroupIcon,esm.BriefcaseIcon,esm.DocumentTextIcon];// Animation on mount
(0,react.useEffect)(()=>{const timer=setTimeout(()=>{var _formRef$current;(_formRef$current=formRef.current)===null||_formRef$current===void 0?void 0:_formRef$current.classList.add('form-visible');},100);return()=>clearTimeout(timer);},[]);// Update progress
(0,react.useEffect)(()=>{setProgressPercent(currentStep/totalSteps*100);},[currentStep]);// Auto-save to localStorage
(0,react.useEffect)(()=>{const saveTimer=setTimeout(()=>{localStorage.setItem('premiumRegistrationFormData',JSON.stringify(formData));},1000);return()=>clearTimeout(saveTimer);},[formData]);// Load saved data on mount
(0,react.useEffect)(()=>{const savedData=localStorage.getItem('premiumRegistrationFormData');if(savedData){try{setFormData(JSON.parse(savedData));}catch(e){console.error('Failed to load saved data');}}},[]);const handleInputChange=(field,value)=>{setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{[field]:value}));// Clear error for this field
setErrors(prev=>prev.filter(error=>error.field!==field));};const validateStep=step=>{const newErrors=[];switch(step){case 1:if(!formData.fullName||formData.fullName.length<3){newErrors.push({field:'fullName',message:'Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ø·Ù„ÙˆØ¨ (3 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)'});}if(!formData.nationalId||formData.nationalId.length!==10){newErrors.push({field:'nationalId',message:'Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 10 Ø£Ø±Ù‚Ø§Ù…'});}if(!formData.phone||!formData.phone.match(/^(05|5)(5|0|3|6|4|9|1|8|7)([0-9]{7})$/)){newErrors.push({field:'phone',message:'Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ ØºÙŠØ± ØµØ­ÙŠØ­'});}if(formData.email&&!formData.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)){newErrors.push({field:'email',message:'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­'});}if(!formData.gender){newErrors.push({field:'gender',message:'ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù†Ø³'});}break;case 2:if(!formData.city){newErrors.push({field:'city',message:'Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ù…Ø·Ù„ÙˆØ¨Ø©'});}if(!formData.district){newErrors.push({field:'district',message:'Ø§Ù„Ø­ÙŠ Ù…Ø·Ù„ÙˆØ¨'});}if(!formData.street){newErrors.push({field:'street',message:'Ø§Ø³Ù… Ø§Ù„Ø´Ø§Ø±Ø¹ Ù…Ø·Ù„ÙˆØ¨'});}break;case 3:if(!formData.maritalStatus){newErrors.push({field:'maritalStatus',message:'Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© Ù…Ø·Ù„ÙˆØ¨Ø©'});}if(formData.maritalStatus==='married'&&!formData.spouseName){newErrors.push({field:'spouseName',message:'Ø§Ø³Ù… Ø§Ù„Ø²ÙˆØ¬/Ø§Ù„Ø²ÙˆØ¬Ø© Ù…Ø·Ù„ÙˆØ¨'});}break;case 4:if(!formData.occupation){newErrors.push({field:'occupation',message:'Ø§Ù„Ù…Ù‡Ù†Ø© Ù…Ø·Ù„ÙˆØ¨Ø©'});}if(!formData.employmentType){newErrors.push({field:'employmentType',message:'Ù†ÙˆØ¹ Ø§Ù„ØªÙˆØ¸ÙŠÙ Ù…Ø·Ù„ÙˆØ¨'});}break;case 5:if(!formData.emergencyContact){newErrors.push({field:'emergencyContact',message:'Ø§Ø³Ù… Ø´Ø®Øµ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ù…Ø·Ù„ÙˆØ¨'});}if(!formData.emergencyPhone){newErrors.push({field:'emergencyPhone',message:'Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ù…Ø·Ù„ÙˆØ¨'});}break;}setErrors(newErrors);return newErrors.length===0;};const handleNextStep=()=>{if(validateStep(currentStep)){setCurrentStep(prev=>Math.min(prev+1,totalSteps));window.scrollTo({top:0,behavior:'smooth'});}};const handlePreviousStep=()=>{setCurrentStep(prev=>Math.max(prev-1,1));window.scrollTo({top:0,behavior:'smooth'});};const handleSubmit=async()=>{if(!validateStep(currentStep)){return;}setIsSubmitting(true);try{// API call to submit the form
const response=await fetch("".concat("http://localhost:3001"||0,"/api/members/register"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});if(response.ok){setSubmitSuccess(true);localStorage.removeItem('premiumRegistrationFormData');// Show success animation
setTimeout(()=>{window.scrollTo({top:0,behavior:'smooth'});},500);}else{throw new Error('Registration failed');}}catch(error){console.error('Submission error:',error);setErrors([{field:'submit',message:'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ³Ø¬ÙŠÙ„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.'}]);}finally{setIsSubmitting(false);}};const renderProgressBar=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"progress-bar-container",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"progress-bar-track",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"progress-bar-fill",style:{width:"".concat(progressPercent,"%")},children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"progress-bar-glow"})})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"progress-text",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"progress-step",children:["\u0627\u0644\u062E\u0637\u0648\u0629 ",currentStep," \u0645\u0646 ",totalSteps]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"progress-percent",children:[Math.round(progressPercent),"%"]})]})]});const renderStepIndicator=()=>/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"step-indicator-wrapper",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"step-indicator",children:[...Array(totalSteps)].map((_,index)=>{const StepIcon=stepIcons[index];const isActive=index+1===currentStep;const isCompleted=index+1<currentStep;return/*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"step-item ".concat(isActive?'active':''," ").concat(isCompleted?'completed':''),onClick:()=>isCompleted&&setCurrentStep(index+1),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"step-icon",children:isCompleted?/*#__PURE__*/(0,jsx_runtime.jsx)(solid_esm.CheckCircleIcon,{className:"w-6 h-6"}):/*#__PURE__*/(0,jsx_runtime.jsx)(StepIcon,{className:"w-5 h-5"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"step-label",children:stepTitles[index]}),isActive&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"step-active-indicator"})]}),index<totalSteps-1&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"step-connector ".concat(index+1<currentStep?'completed':'')})]},index);})})});const renderPersonalInfo=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-section animate-slide-up",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"section-icon-wrapper",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"section-icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-text",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"section-title",children:"\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"section-subtitle",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A\u0643 \u0627\u0644\u0634\u062E\u0635\u064A\u0629 \u0627\u0644\u0623\u0633\u0627\u0633\u064A\u0629 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629 \u0644\u0644\u062A\u0633\u062C\u064A\u0644"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group large",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label required",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"label-icon"}),"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field ".concat(errors.find(e=>e.field==='fullName')?'error':''," ").concat(activeField==='fullName'?'focused':''),placeholder:"\u0627\u0644\u0627\u0633\u0645 \u0643\u0645\u0627 \u0641\u064A \u0627\u0644\u0647\u0648\u064A\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629",value:formData.fullName,onChange:e=>handleInputChange('fullName',e.target.value),onFocus:()=>setActiveField('fullName'),onBlur:()=>setActiveField('')}),activeField==='fullName'&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"field-hint",children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0631\u0628\u0627\u0639\u064A \u0643\u0627\u0645\u0644\u0627\u064B \u0643\u0645\u0627 \u0647\u0648 \u0645\u0633\u062C\u0644 \u0641\u064A \u0627\u0644\u0647\u0648\u064A\u0629"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label required",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.IdentificationIcon,{className:"label-icon"}),"\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field ".concat(errors.find(e=>e.field==='nationalId')?'error':''),placeholder:"1XXXXXXXXX",maxLength:10,value:formData.nationalId,onChange:e=>handleInputChange('nationalId',e.target.value.replace(/\D/g,'')),onFocus:()=>setActiveField('nationalId'),onBlur:()=>setActiveField(''),dir:"ltr"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"input-icon",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CreditCardIcon,{className:"w-5 h-5 text-gray-400"})})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label required",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhoneIcon,{className:"label-icon"}),"\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"tel",className:"input-field ".concat(errors.find(e=>e.field==='phone')?'error':''),placeholder:"05XXXXXXXX",maxLength:10,value:formData.phone,onChange:e=>handleInputChange('phone',e.target.value.replace(/\D/g,'')),onFocus:()=>setActiveField('phone'),onBlur:()=>setActiveField(''),dir:"ltr"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"input-icon",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DevicePhoneMobileIcon,{className:"w-5 h-5 text-gray-400"})})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EnvelopeIcon,{className:"label-icon"}),"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"input-wrapper",children:/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"email",className:"input-field ".concat(errors.find(e=>e.field==='email')?'error':''),placeholder:"example@domain.com",value:formData.email,onChange:e=>handleInputChange('email',e.target.value),onFocus:()=>setActiveField('email'),onBlur:()=>setActiveField(''),dir:"ltr"})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label required",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"label-icon"}),"\u0627\u0644\u062C\u0646\u0633"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"radio-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"radio-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"radio",name:"gender",value:"male",checked:formData.gender==='male',onChange:e=>handleInputChange('gender',e.target.value),className:"radio-input"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"radio-text",children:"\u0630\u0643\u0631"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"radio-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"radio",name:"gender",value:"female",checked:formData.gender==='female',onChange:e=>handleInputChange('gender',e.target.value),className:"radio-input"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"radio-text",children:"\u0623\u0646\u062B\u0649"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarDaysIcon,{className:"label-icon"}),"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"input-wrapper",children:/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"date",className:"input-field",value:formData.birthDate,onChange:e=>handleInputChange('birthDate',e.target.value),max:new Date().toISOString().split('T')[0]})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarDaysIcon,{className:"label-icon"}),"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F \u0627\u0644\u0647\u062C\u0631\u064A"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"input-wrapper",children:/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field",placeholder:"1445/01/01",value:formData.birthDateHijri,onChange:e=>handleInputChange('birthDateHijri',e.target.value),dir:"ltr"})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.GlobeAltIcon,{className:"label-icon"}),"\u0627\u0644\u062C\u0646\u0633\u064A\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{className:"input-field",value:formData.nationality,onChange:e=>handleInputChange('nationality',e.target.value),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"saudi",children:"\u0633\u0639\u0648\u062F\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"gcc",children:"\u062E\u0644\u064A\u062C\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"arab",children:"\u0639\u0631\u0628\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"other",children:"\u0623\u062E\u0631\u0649"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"document-upload-section",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h3",{className:"upload-section-title",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhotoIcon,{className:"w-5 h-5"}),"\u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"upload-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"upload-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"file",id:"nationalIdDoc",accept:"image/*,.pdf",onChange:e=>{var _e$target$files;return handleInputChange('nationalIdDocument',(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0]);},className:"hidden"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{htmlFor:"nationalIdDoc",className:"upload-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"upload-icon-wrapper",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentTextIcon,{className:"upload-icon"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"upload-title",children:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"upload-hint",children:"PNG, JPG, PDF - \u062D\u062A\u0649 5MB"}),formData.nationalIdDocument&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"upload-success",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"w-5 h-5"}),formData.nationalIdDocument.name]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"upload-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"file",id:"profilePhoto",accept:"image/*",onChange:e=>{var _e$target$files2;return handleInputChange('profilePhoto',(_e$target$files2=e.target.files)===null||_e$target$files2===void 0?void 0:_e$target$files2[0]);},className:"hidden"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{htmlFor:"profilePhoto",className:"upload-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"upload-icon-wrapper",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhotoIcon,{className:"upload-icon"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"upload-title",children:"\u0627\u0644\u0635\u0648\u0631\u0629 \u0627\u0644\u0634\u062E\u0635\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"upload-hint",children:"PNG, JPG - \u062D\u062A\u0649 2MB"}),formData.profilePhoto&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"upload-success",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"w-5 h-5"}),formData.profilePhoto.name]})]})]})]})]})]});const renderAddressInfo=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-section animate-slide-up",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"section-icon-wrapper",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HomeIcon,{className:"section-icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-text",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"section-title",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0633\u0643\u0646\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"section-subtitle",children:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0633\u0643\u0646 \u0627\u0644\u062D\u0627\u0644\u064A \u0628\u0627\u0644\u062A\u0641\u0635\u064A\u0644"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label required",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MapPinIcon,{className:"label-icon"}),"\u0627\u0644\u0645\u062F\u064A\u0646\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{className:"input-field ".concat(errors.find(e=>e.field==='city')?'error':''),value:formData.city,onChange:e=>handleInputChange('city',e.target.value),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u062F\u064A\u0646\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"riyadh",children:"\u0627\u0644\u0631\u064A\u0627\u0636"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"jeddah",children:"\u062C\u062F\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"makkah",children:"\u0645\u0643\u0629 \u0627\u0644\u0645\u0643\u0631\u0645\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"madinah",children:"\u0627\u0644\u0645\u062F\u064A\u0646\u0629 \u0627\u0644\u0645\u0646\u0648\u0631\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"dammam",children:"\u0627\u0644\u062F\u0645\u0627\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"khobar",children:"\u0627\u0644\u062E\u0628\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"dhahran",children:"\u0627\u0644\u0638\u0647\u0631\u0627\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"abha",children:"\u0623\u0628\u0647\u0627"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"tabuk",children:"\u062A\u0628\u0648\u0643"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"hail",children:"\u062D\u0627\u0626\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"qassim",children:"\u0627\u0644\u0642\u0635\u064A\u0645"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label required",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BuildingOfficeIcon,{className:"label-icon"}),"\u0627\u0644\u062D\u064A"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field ".concat(errors.find(e=>e.field==='district')?'error':''),placeholder:"\u0627\u0633\u0645 \u0627\u0644\u062D\u064A",value:formData.district,onChange:e=>handleInputChange('district',e.target.value)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label required",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HomeIcon,{className:"label-icon"}),"\u0627\u0644\u0634\u0627\u0631\u0639"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field ".concat(errors.find(e=>e.field==='street')?'error':''),placeholder:"\u0627\u0633\u0645 \u0627\u0644\u0634\u0627\u0631\u0639",value:formData.street,onChange:e=>handleInputChange('street',e.target.value)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HomeIcon,{className:"label-icon"}),"\u0631\u0642\u0645 \u0627\u0644\u0645\u0628\u0646\u0649"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field",placeholder:"\u0631\u0642\u0645 \u0627\u0644\u0645\u0628\u0646\u0649",value:formData.buildingNumber,onChange:e=>handleInputChange('buildingNumber',e.target.value)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EnvelopeIcon,{className:"label-icon"}),"\u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0628\u0631\u064A\u062F\u064A"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field",placeholder:"12345",maxLength:5,value:formData.postalCode,onChange:e=>handleInputChange('postalCode',e.target.value.replace(/\D/g,'')),dir:"ltr"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HomeIcon,{className:"label-icon"}),"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u064A"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field",placeholder:"1234",maxLength:4,value:formData.additionalNumber,onChange:e=>handleInputChange('additionalNumber',e.target.value.replace(/\D/g,'')),dir:"ltr"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"address-preview-card",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"address-preview-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MapPinIcon,{className:"w-6 h-6 text-blue-600"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u0645\u0639\u0627\u064A\u0646\u0629 \u0627\u0644\u0639\u0646\u0648\u0627\u0646"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"address-preview-content",children:formData.street&&formData.district&&formData.city?/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:[formData.street,"\u060C ",formData.district,"\u060C ",formData.city,formData.buildingNumber&&" - \u0645\u0628\u0646\u0649 \u0631\u0642\u0645 ".concat(formData.buildingNumber),formData.postalCode&&" - ".concat(formData.postalCode)]}):/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-400",children:"\u0633\u064A\u0638\u0647\u0631 \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0643\u0627\u0645\u0644 \u0647\u0646\u0627 \u0628\u0639\u062F \u0625\u062F\u062E\u0627\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"})})]})]});const renderFamilyInfo=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-section animate-slide-up",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"section-icon-wrapper",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserGroupIcon,{className:"section-icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-text",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"section-title",children:"\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0623\u0633\u0631\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"section-subtitle",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0639\u0646 \u0627\u0644\u0623\u0633\u0631\u0629 \u0648\u0627\u0644\u0645\u0639\u0627\u0644\u064A\u0646"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label required",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HeartIcon,{className:"label-icon"}),"\u0627\u0644\u062D\u0627\u0644\u0629 \u0627\u0644\u0627\u062C\u062A\u0645\u0627\u0639\u064A\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{className:"input-field ".concat(errors.find(e=>e.field==='maritalStatus')?'error':''),value:formData.maritalStatus,onChange:e=>handleInputChange('maritalStatus',e.target.value),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0627\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"single",children:"\u0623\u0639\u0632\u0628 / \u0639\u0632\u0628\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"married",children:"\u0645\u062A\u0632\u0648\u062C / \u0645\u062A\u0632\u0648\u062C\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"divorced",children:"\u0645\u0637\u0644\u0642 / \u0645\u0637\u0644\u0642\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"widowed",children:"\u0623\u0631\u0645\u0644 / \u0623\u0631\u0645\u0644\u0629"})]})]}),formData.maritalStatus==='married'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label required",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"label-icon"}),"\u0627\u0633\u0645 \u0627\u0644\u0632\u0648\u062C / \u0627\u0644\u0632\u0648\u062C\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field ".concat(errors.find(e=>e.field==='spouseName')?'error':''),placeholder:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644",value:formData.spouseName||'',onChange:e=>handleInputChange('spouseName',e.target.value)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserGroupIcon,{className:"label-icon"}),"\u0639\u062F\u062F \u0627\u0644\u0645\u0639\u0627\u0644\u064A\u0646"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"number-input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",className:"number-button",onClick:()=>handleInputChange('numberOfDependents',Math.max(0,formData.numberOfDependents-1)),children:"-"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",className:"input-field number-field",value:formData.numberOfDependents,onChange:e=>handleInputChange('numberOfDependents',parseInt(e.target.value)||0),min:"0",max:"20"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",className:"number-button",onClick:()=>handleInputChange('numberOfDependents',Math.min(20,formData.numberOfDependents+1)),children:"+"})]})]})]}),formData.numberOfDependents>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"dependents-section",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h3",{className:"subsection-title",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserGroupIcon,{className:"w-5 h-5"}),"\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0639\u0627\u0644\u064A\u0646"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"dependents-grid",children:[...Array(Math.min(formData.numberOfDependents,10))].map((_,index)=>{var _formData$familyMembe,_formData$familyMembe2;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"dependent-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"dependent-header",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"dependent-number",children:["\u0627\u0644\u0645\u0639\u0627\u0644 ",index+1]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"dependent-fields",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field small",placeholder:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644",value:((_formData$familyMembe=formData.familyMembers[index])===null||_formData$familyMembe===void 0?void 0:_formData$familyMembe.name)||'',onChange:e=>{const updatedMembers=[...formData.familyMembers];if(!updatedMembers[index]){updatedMembers[index]={name:'',relationship:'',birthDate:'',nationalId:''};}updatedMembers[index].name=e.target.value;handleInputChange('familyMembers',updatedMembers);}}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{className:"input-field small",value:((_formData$familyMembe2=formData.familyMembers[index])===null||_formData$familyMembe2===void 0?void 0:_formData$familyMembe2.relationship)||'',onChange:e=>{const updatedMembers=[...formData.familyMembers];if(!updatedMembers[index]){updatedMembers[index]={name:'',relationship:'',birthDate:'',nationalId:''};}updatedMembers[index].relationship=e.target.value;handleInputChange('familyMembers',updatedMembers);},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0635\u0644\u0629 \u0627\u0644\u0642\u0631\u0627\u0628\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"son",children:"\u0627\u0628\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"daughter",children:"\u0627\u0628\u0646\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"parent",children:"\u0648\u0627\u0644\u062F / \u0648\u0627\u0644\u062F\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"sibling",children:"\u0623\u062E / \u0623\u062E\u062A"})]})]})]},index);})})]})]});const renderProfessionalInfo=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-section animate-slide-up",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"section-icon-wrapper",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BriefcaseIcon,{className:"section-icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-text",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"section-title",children:"\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0648\u0638\u064A\u0641\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"section-subtitle",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0639\u0645\u0644 \u0648\u0627\u0644\u062A\u0639\u0644\u064A\u0645"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label required",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BriefcaseIcon,{className:"label-icon"}),"\u0627\u0644\u0645\u0647\u0646\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field ".concat(errors.find(e=>e.field==='occupation')?'error':''),placeholder:"\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A",value:formData.occupation,onChange:e=>handleInputChange('occupation',e.target.value)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BuildingOfficeIcon,{className:"label-icon"}),"\u062C\u0647\u0629 \u0627\u0644\u0639\u0645\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field",placeholder:"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629 \u0623\u0648 \u0627\u0644\u0645\u0624\u0633\u0633\u0629",value:formData.employer,onChange:e=>handleInputChange('employer',e.target.value)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label required",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BriefcaseIcon,{className:"label-icon"}),"\u0646\u0648\u0639 \u0627\u0644\u062A\u0648\u0638\u064A\u0641"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{className:"input-field ".concat(errors.find(e=>e.field==='employmentType')?'error':''),value:formData.employmentType,onChange:e=>handleInputChange('employmentType',e.target.value),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"full-time",children:"\u062F\u0648\u0627\u0645 \u0643\u0627\u0645\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"part-time",children:"\u062F\u0648\u0627\u0645 \u062C\u0632\u0626\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"self-employed",children:"\u0639\u0645\u0644 \u062D\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"retired",children:"\u0645\u062A\u0642\u0627\u0639\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"unemployed",children:"\u063A\u064A\u0631 \u0645\u0648\u0638\u0641"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BanknotesIcon,{className:"label-icon"}),"\u0627\u0644\u062F\u062E\u0644 \u0627\u0644\u0634\u0647\u0631\u064A"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{className:"input-field",value:formData.monthlyIncome,onChange:e=>handleInputChange('monthlyIncome',e.target.value),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0627\u062E\u062A\u0631 \u0627\u0644\u0646\u0637\u0627\u0642"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"less-3000",children:"\u0623\u0642\u0644 \u0645\u0646 3,000 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"3000-5000",children:"3,000 - 5,000 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"5000-10000",children:"5,000 - 10,000 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"10000-15000",children:"10,000 - 15,000 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"15000-20000",children:"15,000 - 20,000 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"20000-30000",children:"20,000 - 30,000 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"more-30000",children:"\u0623\u0643\u062B\u0631 \u0645\u0646 30,000 \u0631\u064A\u0627\u0644"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.AcademicCapIcon,{className:"label-icon"}),"\u0627\u0644\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062A\u0639\u0644\u064A\u0645\u064A"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{className:"input-field",value:formData.educationLevel,onChange:e=>handleInputChange('educationLevel',e.target.value),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0633\u062A\u0648\u0649"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"primary",children:"\u0627\u0628\u062A\u062F\u0627\u0626\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"intermediate",children:"\u0645\u062A\u0648\u0633\u0637"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"secondary",children:"\u062B\u0627\u0646\u0648\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"diploma",children:"\u062F\u0628\u0644\u0648\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"bachelor",children:"\u0628\u0643\u0627\u0644\u0648\u0631\u064A\u0648\u0633"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"master",children:"\u0645\u0627\u062C\u0633\u062A\u064A\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"phd",children:"\u062F\u0643\u062A\u0648\u0631\u0627\u0647"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.AcademicCapIcon,{className:"label-icon"}),"\u0627\u0644\u062A\u062E\u0635\u0635"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field",placeholder:"\u0627\u0644\u062A\u062E\u0635\u0635 \u0627\u0644\u062F\u0631\u0627\u0633\u064A",value:formData.specialization||'',onChange:e=>handleInputChange('specialization',e.target.value)})]})]})]});const renderAdditionalInfo=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-section animate-slide-up",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"section-icon-wrapper",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentTextIcon,{className:"section-icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-text",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"section-title",children:"\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062A\u0643\u0645\u064A\u0644\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"section-subtitle",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629 \u0644\u0644\u0637\u0648\u0627\u0631\u0626 \u0648\u0627\u0644\u0627\u062D\u062A\u064A\u0627\u062C\u0627\u062A \u0627\u0644\u062E\u0627\u0635\u0629"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label required",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhoneIcon,{className:"label-icon"}),"\u0627\u0633\u0645 \u0634\u062E\u0635 \u0644\u0644\u0637\u0648\u0627\u0631\u0626"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field ".concat(errors.find(e=>e.field==='emergencyContact')?'error':''),placeholder:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644",value:formData.emergencyContact,onChange:e=>handleInputChange('emergencyContact',e.target.value)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label required",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhoneIcon,{className:"label-icon"}),"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0627\u0644\u0637\u0648\u0627\u0631\u0626"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"tel",className:"input-field ".concat(errors.find(e=>e.field==='emergencyPhone')?'error':''),placeholder:"05XXXXXXXX",maxLength:10,value:formData.emergencyPhone,onChange:e=>handleInputChange('emergencyPhone',e.target.value.replace(/\D/g,'')),dir:"ltr"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"checkbox-sections",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"checkbox-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"premium-checkbox",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"checkbox",className:"checkbox-input",checked:formData.hasHealthConditions,onChange:e=>handleInputChange('hasHealthConditions',e.target.checked)}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"checkbox-box",children:formData.hasHealthConditions&&/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckIcon,{className:"w-4 h-4"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"checkbox-text",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ShieldCheckIcon,{className:"w-5 h-5"}),"\u0644\u062F\u064A \u062D\u0627\u0644\u0629 \u0635\u062D\u064A\u0629 \u062A\u062A\u0637\u0644\u0628 \u0631\u0639\u0627\u064A\u0629 \u062E\u0627\u0635\u0629"]})]}),formData.hasHealthConditions&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"conditional-field animate-fade-in",children:/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{className:"input-field textarea",placeholder:"\u064A\u0631\u062C\u0649 \u062A\u0648\u0636\u064A\u062D \u0627\u0644\u062D\u0627\u0644\u0629 \u0627\u0644\u0635\u062D\u064A\u0629...",rows:3,value:formData.healthConditions||'',onChange:e=>handleInputChange('healthConditions',e.target.value)})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"checkbox-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"premium-checkbox",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"checkbox",className:"checkbox-input",checked:formData.needsAssistance,onChange:e=>handleInputChange('needsAssistance',e.target.checked)}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"checkbox-box",children:formData.needsAssistance&&/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckIcon,{className:"w-4 h-4"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"checkbox-text",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HeartIcon,{className:"w-5 h-5"}),"\u0623\u062D\u062A\u0627\u062C \u0625\u0644\u0649 \u0645\u0633\u0627\u0639\u062F\u0629 \u0645\u0646 \u0627\u0644\u0639\u0627\u0626\u0644\u0629"]})]}),formData.needsAssistance&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"conditional-field animate-fade-in",children:/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{className:"input-field textarea",placeholder:"\u064A\u0631\u062C\u0649 \u062A\u0648\u0636\u064A\u062D \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u0627\u0639\u062F\u0629 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629...",rows:3,value:formData.assistanceType||'',onChange:e=>handleInputChange('assistanceType',e.target.value)})})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"summary-section",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h3",{className:"summary-title",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"w-6 h-6"}),"\u0645\u0644\u062E\u0635 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062F\u062E\u0644\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"summary-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"summary-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-label",children:"\u0627\u0644\u0627\u0633\u0645:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-value",children:formData.fullName||'---'})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"summary-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-label",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-value",children:formData.nationalId||'---'})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"summary-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-label",children:"\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-value",children:formData.phone||'---'})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"summary-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-label",children:"\u0627\u0644\u0645\u062F\u064A\u0646\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-value",children:formData.city?{'riyadh':'Ø§Ù„Ø±ÙŠØ§Ø¶','jeddah':'Ø¬Ø¯Ø©','makkah':'Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©','madinah':'Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©','dammam':'Ø§Ù„Ø¯Ù…Ø§Ù…','khobar':'Ø§Ù„Ø®Ø¨Ø±','dhahran':'Ø§Ù„Ø¸Ù‡Ø±Ø§Ù†','abha':'Ø£Ø¨Ù‡Ø§','tabuk':'ØªØ¨ÙˆÙƒ','hail':'Ø­Ø§Ø¦Ù„','qassim':'Ø§Ù„Ù‚ØµÙŠÙ…'}[formData.city]||formData.city:'---'})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"summary-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-label",children:"\u0627\u0644\u062D\u0627\u0644\u0629 \u0627\u0644\u0627\u062C\u062A\u0645\u0627\u0639\u064A\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-value",children:formData.maritalStatus?{'single':'Ø£Ø¹Ø²Ø¨ / Ø¹Ø²Ø¨Ø§Ø¡','married':'Ù…ØªØ²ÙˆØ¬ / Ù…ØªØ²ÙˆØ¬Ø©','divorced':'Ù…Ø·Ù„Ù‚ / Ù…Ø·Ù„Ù‚Ø©','widowed':'Ø£Ø±Ù…Ù„ / Ø£Ø±Ù…Ù„Ø©'}[formData.maritalStatus]:'---'})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"summary-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-label",children:"\u0627\u0644\u0645\u0647\u0646\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-value",children:formData.occupation||'---'})]})]})]})]});const renderSuccessScreen=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"success-screen animate-scale-up",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"success-animation",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"success-circle",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"success-circle-fill"}),/*#__PURE__*/(0,jsx_runtime.jsx)(solid_esm.CheckCircleIcon,{className:"success-icon"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"success-sparkles",children:[...Array(12)].map((_,i)=>/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"sparkle sparkle-".concat(i+1),children:/*#__PURE__*/(0,jsx_runtime.jsx)(solid_esm.StarIcon,{className:"w-4 h-4"})},i))})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"success-title",children:"\u062A\u0645 \u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0628\u0646\u062C\u0627\u062D!"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"success-message",children:"\u0634\u0643\u0631\u0627\u064B \u0644\u0643 \u0639\u0644\u0649 \u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0641\u064A \u0646\u0638\u0627\u0645 \u0639\u0627\u0626\u0644\u0629 \u0627\u0644\u0634\u0639\u064A\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"success-details",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"success-detail-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"detail-icon",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentTextIcon,{className:"w-6 h-6"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"detail-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"detail-label",children:"\u0631\u0642\u0645 \u0627\u0644\u0645\u0631\u062C\u0639"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"detail-value",children:["REG-",new Date().getFullYear(),"-",Math.random().toString(36).substr(2,9).toUpperCase()]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"success-detail-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"detail-icon",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarDaysIcon,{className:"w-6 h-6"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"detail-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"detail-label",children:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u0633\u062C\u064A\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"detail-value",children:new Date().toLocaleDateString('ar-SA')})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"success-actions",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"primary-button large",onClick:()=>window.location.href='/',children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HomeIcon,{className:"w-5 h-5"}),"\u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629"]})})]});if(submitSuccess){return renderSuccessScreen();}return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"premium-registration-container",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("header",{className:"premium-header",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"header-background",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"gradient-overlay"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"pattern-overlay"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"header-content",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"logo-section",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"logo-wrapper",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.SparklesIcon,{className:"logo-icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"logo-text",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"logo-title",children:"\u0639\u0627\u0626\u0644\u0629 \u0627\u0644\u0634\u0639\u064A\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"logo-subtitle",children:"\u0646\u0638\u0627\u0645 \u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0627\u0644\u0645\u062A\u0642\u062F\u0645"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"header-badges",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"badge",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(solid_esm.StarIcon,{className:"badge-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0646\u0638\u0627\u0645 \u0645\u062D\u0645\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"badge",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ShieldCheckIcon,{className:"badge-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"SSL \u0645\u0634\u0641\u0631"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"badge",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(solid_esm.CheckCircleIcon,{className:"badge-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0645\u0639\u062A\u0645\u062F"})]})]})]})]}),renderProgressBar(),renderStepIndicator(),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"form-container",ref:formRef,children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-wrapper",children:[errors.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"error-banner animate-shake",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ExclamationCircleIcon,{className:"error-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"error-messages",children:errors.map((error,index)=>/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"error-message",children:error.message},index))})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-content",children:[currentStep===1&&renderPersonalInfo(),currentStep===2&&renderAddressInfo(),currentStep===3&&renderFamilyInfo(),currentStep===4&&renderProfessionalInfo(),currentStep===5&&renderAdditionalInfo()]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-navigation",children:[currentStep>1&&/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"nav-button secondary",onClick:handlePreviousStep,disabled:isSubmitting,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowRightIcon,{className:"button-icon rotate-180"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0644\u0633\u0627\u0628\u0642"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"nav-spacer"}),currentStep<totalSteps?/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"nav-button primary",onClick:handleNextStep,disabled:isSubmitting,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0644\u062A\u0627\u0644\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowRightIcon,{className:"button-icon"})]}):/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"nav-button submit ".concat(isSubmitting?'loading':''),onClick:handleSubmit,disabled:isSubmitting,children:isSubmitting?/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"button-loader"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0631\u0633\u0627\u0644..."})]}):/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckIcon,{className:"button-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628"})]})})]})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("footer",{className:"registration-footer",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"footer-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"footer-text",children:"\xA9 2024 \u0639\u0627\u0626\u0644\u0629 \u0627\u0644\u0634\u0639\u064A\u0644 - \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0642 \u0645\u062D\u0641\u0648\u0638\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"footer-links",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("a",{href:"/privacy",children:"\u0633\u064A\u0627\u0633\u0629 \u0627\u0644\u062E\u0635\u0648\u0635\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"separator",children:"\u2022"}),/*#__PURE__*/(0,jsx_runtime.jsx)("a",{href:"/terms",children:"\u0627\u0644\u0634\u0631\u0648\u0637 \u0648\u0627\u0644\u0623\u062D\u0643\u0627\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"separator",children:"\u2022"}),/*#__PURE__*/(0,jsx_runtime.jsx)("a",{href:"/support",children:"\u0627\u0644\u062F\u0639\u0645 \u0627\u0644\u0641\u0646\u064A"})]})]})})]});};/* harmony default export */ const Registration_PremiumRegistration = (PremiumRegistration_PremiumRegistration);
;// ./src/components/Members/CompactAddMember.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const CompactAddMember = ({});
;// ./src/components/Members/CompactAddMember.jsx
const CompactAddMember_CompactAddMember=_ref=>{let{onMemberAdded}=_ref;const[formData,setFormData]=(0,react.useState)({// Personal Info
full_name:'',phone:'',email:'',national_id:'',tribal_section:'',// Added tribal section
// Address Info
city:'',district:'',// Professional Info
occupation:'',workplace:'',// Account Info
password:'',confirmPassword:''});const[errors,setErrors]=(0,react.useState)({});const[loading,setLoading]=(0,react.useState)(false);const[success,setSuccess]=(0,react.useState)(false);const[photoPreview,setPhotoPreview]=(0,react.useState)(null);const[idDocPreview,setIdDocPreview]=(0,react.useState)(null);const[photoFile,setPhotoFile]=(0,react.useState)(null);const[idDocFile,setIdDocFile]=(0,react.useState)(null);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{[name]:value}));// Clear error for this field
if(errors[name]){setErrors(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{[name]:''}));}};const handlePhotoChange=e=>{const file=e.target.files[0];if(file){if(file.size>5*1024*1024){// 5MB limit
setErrors(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{photo:'Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø£Ù‚Ù„ Ù…Ù† 5 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª'}));return;}setPhotoFile(file);const reader=new FileReader();reader.onload=event=>{setPhotoPreview(event.target.result);};reader.readAsDataURL(file);setErrors(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{photo:''}));}};const handleIdDocChange=e=>{const file=e.target.files[0];if(file){if(file.size>10*1024*1024){// 10MB limit
setErrors(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{idDoc:'Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø£Ù‚Ù„ Ù…Ù† 10 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª'}));return;}setIdDocFile(file);const reader=new FileReader();reader.onload=event=>{setIdDocPreview(event.target.result);};reader.readAsDataURL(file);setErrors(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{idDoc:''}));}};const removePhoto=()=>{setPhotoFile(null);setPhotoPreview(null);};const removeIdDoc=()=>{setIdDocFile(null);setIdDocPreview(null);};const validateForm=()=>{const newErrors={};if(!formData.full_name.trim()){newErrors.full_name='Ø§Ù„Ø§Ø³Ù… Ù…Ø·Ù„ÙˆØ¨';}if(!formData.phone.trim()){newErrors.phone='Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù…Ø·Ù„ÙˆØ¨';}else if(!/^(05|5)(5|0|3|6|4|9|1|8|7)([0-9]{7})$/.test(formData.phone.replace(/\s/g,''))){newErrors.phone='Ø±Ù‚Ù… Ù‡Ø§ØªÙ ØºÙŠØ± ØµØ§Ù„Ø­';}if(formData.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email)){newErrors.email='Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ§Ù„Ø­';}if(!formData.password){newErrors.password='ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù…Ø·Ù„ÙˆØ¨Ø©';}else if(formData.password.length<6){newErrors.password='ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„';}if(formData.password!==formData.confirmPassword){newErrors.confirmPassword='ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setLoading(true);try{// Prepare member data for API
const memberData={full_name:formData.full_name,phone:formData.phone,email:formData.email||'',national_id:formData.national_id||'',tribal_section:formData.tribal_section||'',city:formData.city||'',district:formData.district||'',occupation:formData.occupation||'',employer:formData.workplace||'',// Map workplace to employer field
password:formData.password,membership_status:'active',profile_completed:false// Will be set to true once they complete profile
};console.log('ðŸ“¤ Sending new member data:',memberData);// Call the actual API
const response=await services_memberService.addMember(memberData);console.log('ðŸ“¥ Add member response:',response);if(response.success){setSuccess(true);// Clear form after 2 seconds and call parent callback
setTimeout(()=>{setFormData({full_name:'',phone:'',email:'',national_id:'',tribal_section:'',city:'',district:'',occupation:'',workplace:'',password:'',confirmPassword:''});setSuccess(false);if(onMemberAdded){onMemberAdded(response.data);}},2000);}else{throw new Error(response.error||'Failed to add member');}}catch(error){console.error('âŒ Error adding member:',error);setErrors({submit:error.message||'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø¶Ùˆ'});}finally{setLoading(false);}};if(success){return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"success-screen",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"success-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{children:"\u062A\u0645\u062A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0636\u0648 \u0628\u0646\u062C\u0627\u062D!"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u062C\u0627\u0631\u064A \u0627\u0644\u0639\u0648\u062F\u0629 \u0625\u0644\u0649 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u0639\u0636\u0627\u0621..."})]});}return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"compact-add-member-form",children:/*#__PURE__*/(0,jsx_runtime.jsx)("form",{onSubmit:handleSubmit,className:"member-form",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-column",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"column-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"header-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{htmlFor:"full_name",children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",id:"full_name",name:"full_name",value:formData.full_name,onChange:handleChange,className:errors.full_name?'error':'',placeholder:"\u0623\u062F\u062E\u0644 \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644",dir:"rtl"}),errors.full_name&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"error-message",children:errors.full_name})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{htmlFor:"phone",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"tel",id:"phone",name:"phone",value:formData.phone,onChange:handleChange,className:errors.phone?'error':'',placeholder:"05XXXXXXXX",dir:"ltr"}),errors.phone&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"error-message",children:errors.phone})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{htmlFor:"email",children:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"email",id:"email",name:"email",value:formData.email,onChange:handleChange,className:errors.email?'error':'',placeholder:"example@email.com",dir:"ltr"}),errors.email&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"error-message",children:errors.email})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{htmlFor:"national_id",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",id:"national_id",name:"national_id",value:formData.national_id,onChange:handleChange,placeholder:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629",dir:"ltr"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{htmlFor:"tribal_section",children:"\u0627\u0644\u0641\u062E\u0630"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{id:"tribal_section",name:"tribal_section",value:formData.tribal_section,onChange:handleChange,className:"form-select",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0627\u062E\u062A\u0631 \u0627\u0644\u0641\u062E\u0630"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"\u0627\u0644\u062F\u063A\u064A\u0634",children:"\u0627\u0644\u062F\u063A\u064A\u0634"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"\u0627\u0644\u0631\u0634\u064A\u062F",children:"\u0627\u0644\u0631\u0634\u064A\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"\u0627\u0644\u0634\u0628\u064A\u0639\u0627\u0646",children:"\u0627\u0644\u0634\u0628\u064A\u0639\u0627\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"\u0627\u0644\u0639\u064A\u062F",children:"\u0627\u0644\u0639\u064A\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"\u0627\u0644\u0645\u0633\u0639\u0648\u062F",children:"\u0627\u0644\u0645\u0633\u0639\u0648\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"\u0631\u0634\u0648\u062F",children:"\u0631\u0634\u0648\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"\u0631\u0634\u064A\u062F",children:"\u0631\u0634\u064A\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"\u0639\u0642\u0627\u0628",children:"\u0639\u0642\u0627\u0628"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0635\u0648\u0631\u0629 \u0627\u0644\u0634\u062E\u0635\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"upload-area",children:photoPreview?/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"preview-container",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:photoPreview,alt:"\u0635\u0648\u0631\u0629 \u0634\u062E\u0635\u064A\u0629",className:"photo-preview"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",className:"remove-btn",onClick:removePhoto,children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XMarkIcon,{})})]}):/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{htmlFor:"photo-upload",className:"upload-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhotoIcon,{className:"upload-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0636\u063A\u0637 \u0644\u0631\u0641\u0639 \u0627\u0644\u0635\u0648\u0631\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"upload-hint",children:"JPG, PNG (\u062D\u062F \u0623\u0642\u0635\u0649 5MB)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"file",id:"photo-upload",accept:"image/jpeg,image/png,image/jpg",onChange:handlePhotoChange,style:{display:'none'}})]})}),errors.photo&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"error-message",children:errors.photo})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-column",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"column-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HomeIcon,{className:"header-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0648\u0627\u0644\u0639\u0645\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{htmlFor:"city",children:"\u0627\u0644\u0645\u062F\u064A\u0646\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",id:"city",name:"city",value:formData.city,onChange:handleChange,placeholder:"\u0627\u0644\u0645\u062F\u064A\u0646\u0629",dir:"rtl"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{htmlFor:"district",children:"\u0627\u0644\u062D\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",id:"district",name:"district",value:formData.district,onChange:handleChange,placeholder:"\u0627\u0644\u062D\u064A",dir:"rtl"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{htmlFor:"occupation",children:"\u0627\u0644\u0645\u0647\u0646\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",id:"occupation",name:"occupation",value:formData.occupation,onChange:handleChange,placeholder:"\u0627\u0644\u0645\u0647\u0646\u0629",dir:"rtl"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{htmlFor:"workplace",children:"\u062C\u0647\u0629 \u0627\u0644\u0639\u0645\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",id:"workplace",name:"workplace",value:formData.workplace,onChange:handleChange,placeholder:"\u062C\u0647\u0629 \u0627\u0644\u0639\u0645\u0644",dir:"rtl"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"upload-area",children:idDocPreview?/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"preview-container",children:[idDocPreview.includes('application/pdf')?/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"pdf-preview",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentIcon,{className:"doc-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0645\u0644\u0641 PDF"})]}):/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:idDocPreview,alt:"\u0627\u0644\u0647\u0648\u064A\u0629",className:"id-preview"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",className:"remove-btn",onClick:removeIdDoc,children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XMarkIcon,{})})]}):/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{htmlFor:"id-upload",className:"upload-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentIcon,{className:"upload-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0636\u063A\u0637 \u0644\u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"upload-hint",children:"JPG, PNG, PDF (\u062D\u062F \u0623\u0642\u0635\u0649 10MB)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"file",id:"id-upload",accept:"image/jpeg,image/png,image/jpg,application/pdf",onChange:handleIdDocChange,style:{display:'none'}})]})}),errors.idDoc&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"error-message",children:errors.idDoc})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-column",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"column-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.IdentificationIcon,{className:"header-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062D\u0633\u0627\u0628"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{htmlFor:"password",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"password",id:"password",name:"password",value:formData.password,onChange:handleChange,className:errors.password?'error':'',placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",dir:"ltr"}),errors.password&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"error-message",children:errors.password})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{htmlFor:"confirmPassword",children:"\u062A\u0623\u0643\u064A\u062F \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:formData.confirmPassword,onChange:handleChange,className:errors.confirmPassword?'error':'',placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",dir:"ltr"}),errors.confirmPassword&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"error-message",children:errors.confirmPassword})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"form-actions",children:/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"submit",className:"submit-btn",disabled:loading,children:loading?/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"loading-spinner"}),"\u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0636\u0627\u0641\u0629..."]}):/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"btn-icon"}),"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0636\u0648"]})})}),errors.submit&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"submit-error",children:errors.submit})]})]})})});};/* harmony default export */ const Members_CompactAddMember = (CompactAddMember_CompactAddMember);
;// ./src/components/Members/ArabicSelect.jsx
const ArabicSelect=_ref=>{let{label,value,onChange,options,placeholder="Ø§Ø®ØªØ±...",name,id}=_ref;const[displayValue,setDisplayValue]=(0,react.useState)('');const[isOpen,setIsOpen]=(0,react.useState)(false);const wrapperRef=(0,react.useRef)(null);// Handle click outside
(0,react.useEffect)(()=>{function handleClickOutside(event){if(wrapperRef.current&&!wrapperRef.current.contains(event.target)){setIsOpen(false);}}document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[wrapperRef]);// Map value to display text
(0,react.useEffect)(()=>{if(value){const option=options.find(opt=>opt.value===value);if(option){setDisplayValue(option.label);}else{// If value doesn't match any option, show the value itself
setDisplayValue(value);}}else{setDisplayValue('');}},[value,options]);const handleSelect=(optionValue,optionLabel)=>{onChange({target:{value:optionValue,name}});setDisplayValue(optionLabel);setIsOpen(false);};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group arabic-select-container",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:label}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{ref:wrapperRef,className:"custom-select-wrapper",style:{position:'relative'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-input custom-select-display",onClick:()=>setIsOpen(!isOpen),style:{cursor:'pointer',position:'relative',paddingLeft:'35px',backgroundColor:'white',userSelect:'none',display:'flex',alignItems:'center',justifyContent:'space-between'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{color:displayValue?'#1f2937':'#9ca3af',fontSize:'15px',fontFamily:'system-ui, -apple-system, Arial, sans-serif'},children:displayValue||placeholder}),/*#__PURE__*/(0,jsx_runtime.jsx)("svg",{style:{position:'absolute',left:'10px',width:'20px',height:'20px',transform:isOpen?'rotate(180deg)':'rotate(0deg)',transition:'transform 0.2s'},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:/*#__PURE__*/(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),isOpen&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"custom-select-dropdown",style:{position:'absolute',top:'100%',left:0,right:0,backgroundColor:'white',border:'1px solid #D1D5DB',borderRadius:'8px',marginTop:'4px',maxHeight:'200px',overflowY:'auto',zIndex:1000,boxShadow:'0 10px 15px -3px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"custom-select-option",onClick:()=>handleSelect('',''),style:{padding:'10px 16px',cursor:'pointer',color:'#9ca3af',fontSize:'15px',fontFamily:'system-ui, -apple-system, Arial, sans-serif',borderBottom:'1px solid #f3f4f6'},onMouseEnter:e=>e.target.style.backgroundColor='#f3f4f6',onMouseLeave:e=>e.target.style.backgroundColor='white',children:placeholder}),options.map(option=>/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"custom-select-option",onClick:()=>handleSelect(option.value,option.label),style:{padding:'10px 16px',cursor:'pointer',color:'#1f2937',fontSize:'15px',fontFamily:'system-ui, -apple-system, Arial, sans-serif',backgroundColor:value===option.value?'#eff6ff':'white',fontWeight:value===option.value?'600':'400'},onMouseEnter:e=>{if(value!==option.value){e.target.style.backgroundColor='#f9fafb';}},onMouseLeave:e=>{if(value!==option.value){e.target.style.backgroundColor='white';}},children:option.label},option.value))]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{id:id,name:name,value:value,onChange:e=>onChange(e),style:{display:'none'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:placeholder}),options.map(opt=>/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:opt.value,children:opt.label},opt.value))]})]});};/* harmony default export */ const Members_ArabicSelect = (ArabicSelect);
;// ./src/components/Members/TwoSectionMembers.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const TwoSectionMembers = ({});
;// ./src/components/Members/TwoSectionMembers.jsx
const TwoSectionMembers_TwoSectionMembers=()=>{const[members,setMembers]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(false);const[searchQuery,setSearchQuery]=(0,react.useState)('');const[showFilters,setShowFilters]=(0,react.useState)(false);const[showAddMember,setShowAddMember]=(0,react.useState)(false);const[currentView,setCurrentView]=(0,react.useState)('list');// 'list' or 'add'
const[showEditModal,setShowEditModal]=(0,react.useState)(false);const[editingMember,setEditingMember]=(0,react.useState)(null);const[activeEditTab,setActiveEditTab]=(0,react.useState)('personal');// 'personal', 'address', 'account'
const searchTimeoutRef=(0,react.useRef)(null);const[filters,setFilters]=(0,react.useState)({status:'',profile_completed:'',social_security_beneficiary:''});const[pagination,setPagination]=(0,react.useState)({page:1,limit:50,// Increased to 50 for better performance
total:0,totalPages:0});const[initialLoad,setInitialLoad]=(0,react.useState)(true);// Track initial load
const membersCache=(0,react.useRef)(new Map());// Cache for loaded pages
const[isSearching,setIsSearching]=(0,react.useState)(false);// Track search state
// Get current user role
const getUserRole=()=>{// First try to get from localStorage
let role=localStorage.getItem('userRole');// Also check if user data is stored
const userData=localStorage.getItem('user');if(!role&&userData){try{const user=JSON.parse(userData);role=user.role;}catch(e){console.error('Error parsing user data:',e);}}console.log('Current user role:',role);return role||'viewer';};// Check if user can edit - TEMPORARILY ALLOW ALL USERS FOR TESTING
const canEdit=()=>{// TEMPORARY: Allow all users to see the buttons for testing
return true;// Original code - uncomment after testing:
// const role = getUserRole();
// return role === 'super_admin' || role === 'admin';
};// Load members only on initial mount
(0,react.useEffect)(()=>{loadMembers(false,true);},[]);// Load members when filters change (NOT search or pagination)
(0,react.useEffect)(()=>{if(!initialLoad){// Reset to page 1 and load when filters change
setPagination(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{page:1}));loadMembers();}},[filters]);// Load members when limit changes
(0,react.useEffect)(()=>{if(!initialLoad){loadMembers();}},[pagination.limit]);// Debounced search - only search after user stops typing for 300ms
(0,react.useEffect)(()=>{if(searchTimeoutRef.current){clearTimeout(searchTimeoutRef.current);}if(!initialLoad){setIsSearching(true);searchTimeoutRef.current=setTimeout(()=>{loadMembers(false,false,true);},300);// Reduced to 300ms for faster response
}return()=>{if(searchTimeoutRef.current){clearTimeout(searchTimeoutRef.current);}};},[searchQuery]);const loadMembers=async function(){let isPagination=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let isInitial=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let isSearch=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;console.log('ðŸ” Loading members...');console.log('API Base URL:',memberService.baseURL);console.log('Auth Token:',localStorage.getItem('token')?'Present':'Missing');console.log('User Role:',getUserRole());// Check cache first - include limit in cache key
const cacheKey="".concat(pagination.page,"-").concat(pagination.limit,"-").concat(searchQuery,"-").concat(JSON.stringify(filters));if(!isInitial&&!isSearch&&membersCache.current.has(cacheKey)){console.log('âœ… Using cached data for page',pagination.page);const cachedData=membersCache.current.get(cacheKey);setMembers(cachedData.members);setPagination(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{total:cachedData.total,totalPages:cachedData.totalPages}));return;}// Only show loading on initial load or when specifically requested
if(isInitial){setLoading(true);}// Mark initial load as complete
if(isInitial){setInitialLoad(false);}try{// Only include non-empty filters
const searchFilters={};// Add search query if present
if(searchQuery.trim()){searchFilters.search=searchQuery.trim();}// Only add filter values that are not empty strings
if(filters.status){searchFilters.status=filters.status;}if(filters.profile_completed){searchFilters.profile_completed=filters.profile_completed;}if(filters.social_security_beneficiary){searchFilters.social_security_beneficiary=filters.social_security_beneficiary;}console.log('ðŸ“¤ Sending request with filters:',searchFilters);console.log('Page:',pagination.page,'Limit:',pagination.limit);const response=await memberService.getMembersList(searchFilters,pagination.page,pagination.limit);console.log('âœ… API Response received:',response);// Handle API response format: { success, data, pagination }
const membersData=response.data||response.members||[];const paginationData=response.pagination||{};console.log('âœ… Members count:',membersData.length);console.log('âœ… Total members:',paginationData.total||response.total);setMembers(membersData);setPagination(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{total:paginationData.total||response.total||0,totalPages:paginationData.pages||response.totalPages||0}));// Cache the data for this page
membersCache.current.set(cacheKey,{members:membersData,total:paginationData.total||response.total||0,totalPages:paginationData.pages||response.totalPages||0});// Keep only last 10 pages in cache for better performance
if(membersCache.current.size>10){const firstKey=membersCache.current.keys().next().value;membersCache.current.delete(firstKey);}}catch(error){console.error('âŒ API Error:',error);console.error('âŒ Error details:',error.message);console.error('âŒ Error stack:',error.stack);console.error('âŒ Full error object:',JSON.stringify(error,null,2));// Show error message to user instead of silently falling back
alert("\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A: ".concat(error.message,"\n\n\u062A\u062D\u0642\u0642 \u0645\u0646:\n1. \u0627\u0644\u062E\u0627\u062F\u0645 \u064A\u0639\u0645\u0644 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u0641\u0630 5001\n2. \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"));console.log('âš ï¸ Setting empty members array due to error');setMembers([]);setPagination(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{total:0,totalPages:0}));}finally{setLoading(false);setIsSearching(false);console.log('âœ… Loading complete');}};const getMockMembers=()=>[{id:1,full_name:'Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',phone:'0501234567',status:'active',email:'mohamed@example.com',profile_completed:true},{id:2,full_name:'ÙØ§Ø·Ù…Ø© Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ù†Ø²ÙŠ',phone:'0512345678',status:'active',email:'fatima@example.com',profile_completed:true},{id:3,full_name:'Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø³Ø¹ÙˆØ¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',phone:'0523456789',status:'inactive',email:'abdulrahman@example.com',profile_completed:false},{id:4,full_name:'Ù†ÙˆØ±Ø© Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¹Ù†Ø²ÙŠ',phone:'0534567890',status:'active',email:'noura@example.com',profile_completed:true},{id:5,full_name:'Ø®Ø§Ù„Ø¯ ÙÙŠØµÙ„ Ø§Ù„Ø´Ø¹ÙŠÙ„',phone:'0545678901',status:'active',email:'khalid@example.com',profile_completed:false}];const handleSearch=(0,react.useCallback)(e=>{setSearchQuery(e.target.value);setPagination(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{page:1}));},[]);const handleFilterChange=(filterKey,value)=>{setFilters(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{[filterKey]:value}));setPagination(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{page:1}));};const handleExport=async()=>{try{// Create sample data with Arabic characters
const exportData=members.map(member=>({'Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„':member.full_name,'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ':member.phone,'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ':member.email||'','Ø§Ù„Ø­Ø§Ù„Ø©':member.status==='active'?'Ù†Ø´Ø·':'ØºÙŠØ± Ù†Ø´Ø·','Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ù…Ù„Ù':member.profile_completed?'Ù…ÙƒØªÙ…Ù„':'ØºÙŠØ± Ù…ÙƒØªÙ…Ù„'}));// Convert to CSV with UTF-8 BOM for Arabic support
const csvContent='\ufeff'+convertToCSV(exportData);const blob=new Blob([csvContent],{type:'text/csv;charset=utf-8;'});const url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download="\u0627\u0644\u0623\u0639\u0636\u0627\u0621_".concat(new Date().toISOString().split('T')[0],".csv");document.body.appendChild(link);link.click();document.body.removeChild(link);window.URL.revokeObjectURL(url);}catch(error){console.error('Export error:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');}};const convertToCSV=data=>{if(!data.length)return'';const headers=Object.keys(data[0]);const csvHeaders=headers.join(',');const csvRows=data.map(row=>headers.map(header=>"\"".concat((row[header]||'').toString().replace(/"/g,'""'),"\"")).join(','));return[csvHeaders,...csvRows].join('\n');};const handleImport=()=>{const input=document.createElement('input');input.type='file';input.accept='.csv,.xlsx,.xls';input.onchange=async e=>{const file=e.target.files[0];if(file){const reader=new FileReader();reader.onload=async event=>{try{const text=event.target.result;const lines=text.split('\n');const headers=lines[0].split(',').map(h=>h.replace(/["\r]/g,'').trim());const importedMembers=[];for(let i=1;i<lines.length;i++){if(lines[i].trim()){const values=lines[i].match(/(".*?"|[^,]+)/g).map(v=>v.replace(/["\r]/g,'').trim());const member={};headers.forEach((header,index)=>{if(header==='Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„')member.full_name=values[index];if(header==='Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ')member.phone=values[index];if(header==='Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ')member.email=values[index];if(header==='Ø§Ù„Ø­Ø§Ù„Ø©')member.status=values[index]==='Ù†Ø´Ø·'?'active':'inactive';if(header==='Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ù…Ù„Ù')member.profile_completed=values[index]==='Ù…ÙƒØªÙ…Ù„';});if(member.full_name&&member.phone){importedMembers.push((0,objectSpread2["default"])((0,objectSpread2["default"])({},member),{},{id:Date.now()+i}));}}}if(importedMembers.length>0){setMembers(prev=>[...prev,...importedMembers]);alert("\u062A\u0645 \u0627\u0633\u062A\u064A\u0631\u0627\u062F ".concat(importedMembers.length," \u0639\u0636\u0648 \u0628\u0646\u062C\u0627\u062D"));}else{alert('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª ØµØ§Ù„Ø­Ø© Ù„Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯');}}catch(error){console.error('Import error:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');}};reader.readAsText(file,'UTF-8');}};input.click();};const handlePageChange=newPage=>{setPagination(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{page:newPage}));// Don't clear members to avoid flashing
// Trigger load with pagination flag
loadMembers(true);};const handlePageSizeChange=newSize=>{const newLimit=parseInt(newSize);console.log('ðŸ”„ Changing page size to:',newLimit);// Clear cache when page size changes
membersCache.current.clear();// Update pagination with new limit and reset to page 1
setPagination(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{limit:newLimit,page:1}));// The useEffect will trigger loadMembers when limit changes
};const handleMemberAdded=newMember=>{setCurrentView('list');loadMembers();};const handleAddMemberClick=()=>{setCurrentView('add');};const handleBackToList=()=>{setCurrentView('list');};const handleEditClick=member=>{// Ensure all fields are properly populated with empty strings for form inputs
const memberToEdit=(0,objectSpread2["default"])((0,objectSpread2["default"])({},member),{},{// Convert null to empty string for form compatibility
gender:member.gender||'',tribal_section:member.tribal_section||'',national_id:member.national_id||'',date_of_birth:member.date_of_birth||'',city:member.city||'',address:member.address||'',occupation:member.occupation||'',employer:member.employer||'',nationality:member.nationality||'Ø³Ø¹ÙˆØ¯ÙŠ',notes:member.notes||'',email:member.email||'',phone:member.phone||'',full_name:member.full_name||''});console.log('ðŸ–Šï¸ Opening edit modal with member:',memberToEdit);console.log('Gender value:',memberToEdit.gender);console.log('Tribal section value:',memberToEdit.tribal_section);setEditingMember(memberToEdit);setActiveEditTab('personal');// Reset to personal tab when opening
setShowEditModal(true);};const handleCloseEditModal=()=>{setShowEditModal(false);setEditingMember(null);};const handleEditChange=(field,value)=>{console.log("\uD83D\uDCDD Field changed: ".concat(field," = ").concat(value));setEditingMember(prev=>{const updated=(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{[field]:value});console.log('Updated member state:',updated);return updated;});};// Simple logging for debugging select values
(0,react.useEffect)(()=>{if(editingMember&&showEditModal){console.log('ðŸ” Edit modal opened with member data:',{id:editingMember.id,name:editingMember.full_name,gender:editingMember.gender,tribal_section:editingMember.tribal_section});}},[editingMember,showEditModal]);const handleSaveEdit=async()=>{try{setLoading(true);// Log the current state of editingMember to debug
console.log('ðŸ” Current editingMember state:',editingMember);// Prepare the update data with all fields - using the exact values from editingMember
const updateData={full_name:editingMember.full_name,phone:editingMember.phone,email:editingMember.email,national_id:editingMember.national_id,tribal_section:editingMember.tribal_section,date_of_birth:editingMember.date_of_birth,gender:editingMember.gender,nationality:editingMember.nationality||'Ø³Ø¹ÙˆØ¯ÙŠ',// Address fields (removed district as it doesn't exist in DB)
city:editingMember.city,address:editingMember.address,employer:editingMember.employer,occupation:editingMember.occupation,// Account fields
membership_number:editingMember.membership_number,membership_status:editingMember.membership_status||'active',membership_date:editingMember.membership_date,membership_type:editingMember.membership_type||'regular',notes:editingMember.notes};// Simple data cleaning - REMOVE empty date fields completely
const cleanedData={};Object.keys(updateData).forEach(key=>{const value=updateData[key];// For date fields, don't include them if they're empty
if(key==='date_of_birth'||key==='membership_date'){if(value&&value!==''){cleanedData[key]=value;}// Don't add the field at all if it's empty
}else{// For other fields, convert null/undefined to empty string
cleanedData[key]=value===undefined||value===null?'':value;}});console.log('ðŸ“¤ Sending data to backend:',JSON.stringify(cleanedData,null,2));const response=await memberService.updateMember(editingMember.id,cleanedData);console.log('ðŸ“¥ Update response from backend:',response);if(response.success){// Update the local state with the response data
const updatedMembers=members.map(member=>member.id===editingMember.id?(0,objectSpread2["default"])((0,objectSpread2["default"])({},member),response.data):member);setMembers(updatedMembers);alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø¶Ùˆ Ø¨Ù†Ø¬Ø§Ø­');setShowEditModal(false);setEditingMember(null);setActiveEditTab('personal');// Reset to personal tab
// Reload to ensure data is synced
await loadMembers();}else{throw new Error(response.error||'Failed to update member');}}catch(error){console.error('âŒ Error updating member:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: '+error.message);}finally{setLoading(false);}};const handleDelete=async memberId=>{if(window.confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø¶ÙˆØŸ')){try{setLoading(true);await memberService.deleteMember(memberId);alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ø¶Ùˆ Ø¨Ù†Ø¬Ø§Ø­');loadMembers();// Reload the list
}catch(error){console.error('Error deleting member:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¹Ø¶Ùˆ: '+error.message);}finally{setLoading(false);}}};// If showing Add Member full page
if(currentView==='add'){return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"full-page-add-member",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"add-member-header",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"back-to-list-btn",onClick:handleBackToList,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowLeftIcon,{className:"btn-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0644\u0639\u0648\u062F\u0629 \u0625\u0644\u0649 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u0639\u0636\u0627\u0621"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"add-member-title",children:"\u0625\u0636\u0627\u0641\u0629 \u0639\u0636\u0648 \u062C\u062F\u064A\u062F"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"add-member-content",children:/*#__PURE__*/(0,jsx_runtime.jsx)(Members_CompactAddMember,{onMemberAdded:handleMemberAdded})})]});}// Default view - Members list with two sections
return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"two-section-container",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"top-control-section",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"control-section-inner",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"control-row",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"add-member-btn",onClick:handleAddMemberClick,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserPlusIcon,{className:"btn-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0625\u0636\u0627\u0641\u0629 \u0639\u0636\u0648 \u062C\u062F\u064A\u062F"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"search-container",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MagnifyingGlassIcon,{className:"search-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0639\u0636\u0648...",value:searchQuery,onChange:handleSearch,className:"search-input",dir:"rtl"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"control-row",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>setShowFilters(!showFilters),children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.AdjustmentsHorizontalIcon,{className:"btn-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0644\u0641\u0644\u0627\u062A\u0631"}),Object.values(filters).filter(v=>v).length>0&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"filter-badge",children:Object.values(filters).filter(v=>v).length})]}),showFilters&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-dropdown",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u062D\u0627\u0644\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:filters.status,onChange:e=>handleFilterChange('status',e.target.value),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0627\u0644\u0643\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"active",children:"\u0646\u0634\u0637"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"inactive",children:"\u063A\u064A\u0631 \u0646\u0634\u0637"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0643\u062A\u0645\u0627\u0644 \u0627\u0644\u0645\u0644\u0641:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:filters.profile_completed,onChange:e=>handleFilterChange('profile_completed',e.target.value),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0627\u0644\u0643\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"true",children:"\u0645\u0643\u062A\u0645\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"false",children:"\u063A\u064A\u0631 \u0645\u0643\u062A\u0645\u0644"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0636\u0645\u0627\u0646 \u0627\u0644\u0627\u062C\u062A\u0645\u0627\u0639\u064A:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:filters.social_security_beneficiary,onChange:e=>handleFilterChange('social_security_beneficiary',e.target.value),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0627\u0644\u0643\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"true",children:"\u0645\u0633\u062A\u0641\u064A\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"false",children:"\u063A\u064A\u0631 \u0645\u0633\u062A\u0641\u064A\u062F"})]})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"import-export-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"import-btn",onClick:handleImport,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowUpTrayIcon,{className:"btn-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0633\u062A\u064A\u0631\u0627\u062F Excel"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"export-btn",onClick:handleExport,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowDownTrayIcon,{className:"btn-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062A\u0635\u062F\u064A\u0631 Excel"})]})]})]})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"bottom-data-section",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"data-section-inner",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"results-info",style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0639\u0631\u0636 ",members.length," \u0645\u0646 ",pagination.total," \u0639\u0636\u0648"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{htmlFor:"pageSize",style:{fontSize:'14px'},children:"\u0639\u0631\u0636:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{id:"pageSize",value:pagination.limit,onChange:e=>handlePageSizeChange(e.target.value),style:{padding:'6px 12px',borderRadius:'8px',border:'1px solid #ddd',backgroundColor:'white',fontSize:'14px',cursor:'pointer',minWidth:'80px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"10",children:"10"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"20",children:"20"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"50",children:"50"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"100",children:"100"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontSize:'14px'},children:"\u0641\u064A \u0627\u0644\u0635\u0641\u062D\u0629"})]})]}),loading?/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"loading-container",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"loading-spinner"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A..."})]}):members.length===0?/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{padding:'40px',textAlign:'center',background:'#f8f9fa',borderRadius:'12px',margin:'20px 0'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{color:'#666',marginBottom:'20px'},children:"\u26A0\uFE0F \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{color:'#999',marginBottom:'20px'},children:"\u064A\u0631\u062C\u0649 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062E\u0627\u062F\u0645 \u0648\u0648\u062C\u0648\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0641\u064A \u0642\u0627\u0639\u062F\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'white',padding:'20px',borderRadius:'8px',textAlign:'right',maxWidth:'600px',margin:'0 auto'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062A\u0634\u062E\u064A\u0635:"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:["API URL: ",memberService.baseURL]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:["Token: ",localStorage.getItem('token')?'âœ… Ù…ÙˆØ¬ÙˆØ¯':'âŒ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯']}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:["User Role: ",getUserRole()]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:["Total: ",pagination.total]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:loadMembers,style:{marginTop:'15px',padding:'10px 20px',background:'#007AFF',color:'white',border:'none',borderRadius:'8px',cursor:'pointer'},children:"\uD83D\uDD04 \u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629"})]})]}):/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"members-table-container",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("table",{className:"members-table",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("thead",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u062C\u0646\u0633"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0641\u062E\u0630"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u062D\u0627\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0643\u062A\u0645\u0627\u0644 \u0627\u0644\u0645\u0644\u0641"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"})]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("tbody",{children:[loading&&members.length===0&&[...Array(5)].map((_,i)=>/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{className:"table-row skeleton-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"skeleton skeleton-text"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"skeleton skeleton-text"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"skeleton skeleton-text"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"skeleton skeleton-text"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"skeleton skeleton-text"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"skeleton skeleton-badge"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"skeleton skeleton-badge"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"skeleton skeleton-actions"})})]},"skeleton-".concat(i))),!loading&&members.length===0&&/*#__PURE__*/(0,jsx_runtime.jsx)("tr",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("td",{colSpan:"8",className:"empty-cell",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"empty-state",children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A"})})})}),members.map(member=>/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{className:"table-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-name",children:member.full_name}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-phone",children:member.phone}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-email",children:member.email||'-'}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-gender",children:member.gender==='male'?'Ø°ÙƒØ±':member.gender==='female'?'Ø£Ù†Ø«Ù‰':'-'}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-tribal",children:member.tribal_section||'-'}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"status-badge ".concat(member.status),children:member.status==='active'?'Ù†Ø´Ø·':'ØºÙŠØ± Ù†Ø´Ø·'})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"profile-badge ".concat(member.profile_completed?'complete':'incomplete'),children:member.profile_completed?'Ù…ÙƒØªÙ…Ù„':'ØºÙŠØ± Ù…ÙƒØªÙ…Ù„'})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("td",{className:"actions-cell",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"action-btn view",title:"\u0639\u0631\u0636",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeIcon,{})}),canEdit()?/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"action-btn edit",title:"\u062A\u0639\u062F\u064A\u0644",onClick:()=>handleEditClick(member),children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PencilIcon,{})}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"action-btn delete",title:"\u062D\u0630\u0641",onClick:()=>handleDelete(member.id),children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.TrashIcon,{})})]}):/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"no-permission-text",title:"\u0627\u0644\u062F\u0648\u0631 \u0627\u0644\u062D\u0627\u0644\u064A: ".concat(getUserRole()),children:["(\u0639\u0631\u0636 \u0641\u0642\u0637 - ",getUserRole(),")"]})]})]},member.id))]})]})}),pagination.totalPages>1&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"pagination-container",style:{display:'flex',alignItems:'center',justifyContent:'space-between'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"pagination-btn",onClick:()=>handlePageChange(pagination.page-1),disabled:pagination.page===1,children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ChevronRightIcon,{})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"page-numbers",children:(()=>{const maxPages=5;let startPage=Math.max(1,pagination.page-Math.floor(maxPages/2));let endPage=Math.min(pagination.totalPages,startPage+maxPages-1);if(endPage-startPage+1<maxPages){startPage=Math.max(1,endPage-maxPages+1);}const pages=[];for(let i=startPage;i<=endPage;i++){pages.push(/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"page-number ".concat(pagination.page===i?'active':''),onClick:()=>handlePageChange(i),children:i},i));}return pages;})()}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"pagination-btn",onClick:()=>handlePageChange(pagination.page+1),disabled:pagination.page===pagination.totalPages,children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ChevronLeftIcon,{})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'14px',color:'#666'},children:["\u0627\u0644\u0635\u0641\u062D\u0629 ",pagination.page," \u0645\u0646 ",pagination.totalPages]})]})]})}),showEditModal&&editingMember&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"edit-member-fullpage",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{children:"\u062A\u0639\u062F\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0636\u0648"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"close-btn",onClick:handleCloseEditModal,children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XMarkIcon,{style:{width:'24px',height:'24px'}})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-body",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-tabs",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"tab ".concat(activeEditTab==='personal'?'active':''),onClick:()=>setActiveEditTab('personal'),children:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"tab ".concat(activeEditTab==='address'?'active':''),onClick:()=>setActiveEditTab('address'),children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0648\u0627\u0644\u0639\u0645\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"tab ".concat(activeEditTab==='account'?'active':''),onClick:()=>setActiveEditTab('account'),children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062D\u0633\u0627\u0628"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-sections",children:[activeEditTab==='personal'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-section",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"section-title",children:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:editingMember.full_name||'',onChange:e=>handleEditChange('full_name',e.target.value),className:"form-input",placeholder:"\u0623\u062F\u062E\u0644 \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:editingMember.phone||'',onChange:e=>handleEditChange('phone',e.target.value),className:"form-input",placeholder:"05xxxxxxxx"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"email",value:editingMember.email||'',onChange:e=>handleEditChange('email',e.target.value),className:"form-input",placeholder:"example@email.com"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)(Members_ArabicSelect,{label:"\u0627\u0644\u0641\u062E\u0630",id:"tribal_section",name:"tribal_section",value:(editingMember===null||editingMember===void 0?void 0:editingMember.tribal_section)||'',onChange:e=>{console.log('Tribal section changed to:',e.target.value);handleEditChange('tribal_section',e.target.value);},placeholder:"\u0627\u062E\u062A\u0631 \u0627\u0644\u0641\u062E\u0630",options:[{value:'Ø§Ù„Ø¯ØºÙŠØ´',label:'Ø§Ù„Ø¯ØºÙŠØ´'},{value:'Ø§Ù„Ø±Ø´ÙŠØ¯',label:'Ø§Ù„Ø±Ø´ÙŠØ¯'},{value:'Ø§Ù„Ø´Ø¨ÙŠØ¹Ø§Ù†',label:'Ø§Ù„Ø´Ø¨ÙŠØ¹Ø§Ù†'},{value:'Ø§Ù„Ø¹ÙŠØ¯',label:'Ø§Ù„Ø¹ÙŠØ¯'},{value:'Ø§Ù„Ù…Ø³Ø¹ÙˆØ¯',label:'Ø§Ù„Ù…Ø³Ø¹ÙˆØ¯'},{value:'Ø±Ø´ÙˆØ¯',label:'Ø±Ø´ÙˆØ¯'},{value:'Ø±Ø´ÙŠØ¯',label:'Ø±Ø´ÙŠØ¯'},{value:'Ø¹Ù‚Ø§Ø¨',label:'Ø¹Ù‚Ø§Ø¨'}]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"date",value:editingMember.date_of_birth||'',onChange:e=>handleEditChange('date_of_birth',e.target.value),className:"form-input"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)(Members_ArabicSelect,{label:"\u0627\u0644\u062C\u0646\u0633",id:"gender",name:"gender",value:(editingMember===null||editingMember===void 0?void 0:editingMember.gender)||'',onChange:e=>{console.log('Gender changed to:',e.target.value);handleEditChange('gender',e.target.value);},placeholder:"\u0627\u062E\u062A\u0631 \u0627\u0644\u062C\u0646\u0633",options:[{value:'male',label:'Ø°ÙƒØ±'},{value:'female',label:'Ø£Ù†Ø«Ù‰'}]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:editingMember.national_id||'',onChange:e=>handleEditChange('national_id',e.target.value),className:"form-input",placeholder:"10xxxxxxxxx"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u062C\u0646\u0633\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:editingMember.nationality||'Ø³Ø¹ÙˆØ¯ÙŠ',onChange:e=>handleEditChange('nationality',e.target.value),className:"form-input"})]})]})]}),activeEditTab==='address'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-section",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"section-title",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0648\u0627\u0644\u0639\u0645\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0645\u062F\u064A\u0646\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:editingMember.city||'',onChange:e=>handleEditChange('city',e.target.value),className:"form-input",placeholder:"\u0627\u0644\u0645\u062F\u064A\u0646\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u062D\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:editingMember.district||'',onChange:e=>handleEditChange('district',e.target.value),className:"form-input",placeholder:"\u0627\u0644\u062D\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group full-width",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0643\u0627\u0645\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:editingMember.address||'',onChange:e=>handleEditChange('address',e.target.value),className:"form-input",placeholder:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0628\u0627\u0644\u062A\u0641\u0635\u064A\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u062C\u0647\u0629 \u0627\u0644\u0639\u0645\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:editingMember.employer||'',onChange:e=>handleEditChange('employer',e.target.value),className:"form-input",placeholder:"\u0627\u0633\u0645 \u062C\u0647\u0629 \u0627\u0644\u0639\u0645\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0645\u0647\u0646\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:editingMember.occupation||'',onChange:e=>handleEditChange('occupation',e.target.value),className:"form-input",placeholder:"\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A"})]})]})]}),activeEditTab==='account'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-section",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"section-title",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062D\u0633\u0627\u0628"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:editingMember.membership_number||'',onChange:e=>handleEditChange('membership_number',e.target.value),className:"form-input",placeholder:"\u0633\u064A\u062A\u0645 \u062A\u0648\u0644\u064A\u062F\u0647 \u062A\u0644\u0642\u0627\u0626\u064A\u0627\u064B"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u062D\u0627\u0644\u0629 \u0627\u0644\u0639\u0636\u0648\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:editingMember.membership_status||'active',onChange:e=>handleEditChange('membership_status',e.target.value),className:"form-input",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"active",children:"\u0646\u0634\u0637"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"inactive",children:"\u063A\u064A\u0631 \u0646\u0634\u0637"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"suspended",children:"\u0645\u0639\u0644\u0642"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"date",value:editingMember.membership_date||'',onChange:e=>handleEditChange('membership_date',e.target.value),className:"form-input"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0646\u0648\u0639 \u0627\u0644\u0639\u0636\u0648\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:editingMember.membership_type||'regular',onChange:e=>handleEditChange('membership_type',e.target.value),className:"form-input",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"regular",children:"\u0639\u0627\u062F\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"vip",children:"VIP"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"honorary",children:"\u0634\u0631\u0641\u064A"})]})]})]})]}),activeEditTab==='account'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-section",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"section-title",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group full-width",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0645\u0644\u0627\u062D\u0638\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{value:editingMember.notes||'',onChange:e=>handleEditChange('notes',e.target.value),className:"form-input",rows:"3",placeholder:"\u0623\u064A \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629..."})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0639\u0636\u0648"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"file-upload-area",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{// Handle file upload
const file=e.target.files[0];if(file){// You can handle file upload here
console.log('Member photo selected:',file);handleEditChange('photo_file',file);}},className:"file-input",id:"member-photo"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{htmlFor:"member-photo",className:"file-upload-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\uD83D\uDCF8 \u0627\u0636\u063A\u0637 \u0644\u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0627\u0644\u0639\u0636\u0648"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"file-info",children:"PNG, JPG \u062D\u062F \u0623\u0642\u0635\u0649 10MB"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"file-upload-area",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"file",accept:"image/*,application/pdf",onChange:e=>{// Handle file upload
const file=e.target.files[0];if(file){console.log('National ID selected:',file);handleEditChange('national_id_file',file);}},className:"file-input",id:"national-id"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{htmlFor:"national-id",className:"file-upload-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\uD83C\uDD94 \u0627\u0636\u063A\u0637 \u0644\u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"file-info",children:"PNG, JPG, PDF \u062D\u062F \u0623\u0642\u0635\u0649 10MB"})]})]})]})]})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-footer",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"btn-cancel",onClick:handleCloseEditModal,children:"\u0625\u0644\u063A\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"btn-save",onClick:handleSaveEdit,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\uD83D\uDCBE"})," \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A"]})]})]})]});};/* harmony default export */ const Members_TwoSectionMembers = (TwoSectionMembers_TwoSectionMembers);
;// ./src/contexts/RoleContext.tsx
/**
 * Role Context for RBAC System
 * Manages user roles and permissions throughout the application
 */// Role types definition
// Permission structure
// User with role information
// Context type
// Create context
const RoleContext=/*#__PURE__*/(0,react.createContext)(undefined);// Navigation configuration by role
const ROLE_NAVIGATION={super_admin:{modules:['dashboard','members','family-tree','financial','occasions','initiatives','diyas','reports','settings','audit'],permissions:{all_access:true}},financial_manager:{modules:['dashboard','financial-overview','subscriptions','payments','financial-reports'],permissions:{financial_only:true,view_member_financial:true}},family_tree_admin:{modules:['dashboard','family-tree','tree-management','relationships'],permissions:{family_tree_only:true,view_member_relationships:true}},occasions_initiatives_diyas_admin:{modules:['dashboard','occasions','initiatives','diyas','events-calendar','charity-projects','mediation-cases'],permissions:{occasions_access:true,initiatives_access:true,diyas_access:true,view_member_participation:true}},user_member:{modules:['dashboard','my-profile','my-payments','family-events','volunteer-opportunities'],permissions:{personal_only:true,view_own_data:true}}};// Permission checking helpers
const PERMISSION_HIERARCHY={super_admin:100,financial_manager:80,family_tree_admin:70,occasions_initiatives_diyas_admin:60,user_member:10};const RoleProvider=_ref=>{let{children}=_ref;const[user,setUser]=(0,react.useState)(null);const[loading,setLoading]=(0,react.useState)(true);const[error,setError]=(0,react.useState)(null);// Fetch user role on mount
(0,react.useEffect)(()=>{fetchUserRole();},[]);const fetchUserRole=async()=>{try{setLoading(true);setError(null);// Check if user is logged in (from localStorage)
const isLoggedIn=localStorage.getItem('isLoggedIn');const userEmail=localStorage.getItem('userEmail');if(!isLoggedIn||isLoggedIn!=='true'){setUser(null);return;}// Try to get user from localStorage first
const storedUser=localStorage.getItem('user');const token=localStorage.getItem('token');if(storedUser&&token){try{const userData=JSON.parse(storedUser);// Map the stored user data to UserWithRole format
const user={id:userData.id||'1',email:userData.email||userEmail||'admin@alshuail.com',role:userData.role||'super_admin',roleAr:userData.role==='super_admin'?'Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ':'Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…',permissions:userData.permissions||{users:{create:true,read:true,update:true,delete:true},settings:{read:true,update:true},roles:{assign:true,revoke:true},all:true}};setUser(user);return;}catch(err){console.error('Error parsing stored user:',err);}}// Fallback to mock user for testing
const mockUser={id:'1',email:userEmail||'admin@alshuail.com',role:'super_admin',roleAr:'Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ',permissions:{users:{create:true,read:true,update:true,delete:true},settings:{read:true,update:true},roles:{assign:true,revoke:true},all:true}};setUser(mockUser);}catch(err){console.error('Error fetching user role:',err);setError('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');setUser(null);}finally{setLoading(false);}};const refreshUserRole=async()=>{await fetchUserRole();};const checkPermission=permission=>{if(!user)return false;// Super admin has all permissions
if(user.role==='super_admin')return true;// Check specific permission in user's permissions object
const permissionParts=permission.split('.');let currentLevel=user.permissions;for(const part of permissionParts){if(currentLevel&&typeof currentLevel==='object'&&part in currentLevel){currentLevel=currentLevel[part];}else{return false;}}return currentLevel===true;};const hasRole=roles=>{if(!user)return false;// Super admin has access to everything
if(user.role==='super_admin')return true;// Check if user's role is in the required roles
return roles.includes(user.role);};const canAccessModule=module=>{if(!user)return false;const roleConfig=ROLE_NAVIGATION[user.role];if(!roleConfig)return false;return roleConfig.modules.includes(module);};const contextValue={user,loading,error,checkPermission,hasRole,canAccessModule,refreshUserRole};return/*#__PURE__*/(0,jsx_runtime.jsx)(RoleContext.Provider,{value:contextValue,children:children});};// Custom hook to use role context
const useRole=()=>{const context=(0,react.useContext)(RoleContext);if(context===undefined){throw new Error('useRole must be used within a RoleProvider');}return context;};// HOC for role-based component protection
const withRoleProtection=(Component,allowedRoles)=>{return props=>{const{user,loading,hasRole}=useRole();if(loading){return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh',fontSize:'18px',color:'#666'},children:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A..."});}if(!user||!hasRole(allowedRoles)){return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',height:'100vh',fontSize:'18px',color:'#dc2626'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'48px',marginBottom:'20px'},children:"\u26D4"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:"\u0644\u064A\u0633 \u0644\u062F\u064A\u0643 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0629 \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0647\u0630\u0647 \u0627\u0644\u0635\u0641\u062D\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{marginTop:'10px',fontSize:'14px',color:'#666'},children:"\u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u062A\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0645\u062F\u064A\u0631 \u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629"})]});}return/*#__PURE__*/(0,jsx_runtime.jsx)(Component,(0,objectSpread2["default"])({},props));};};// Role-based visibility component
const RoleGate=_ref2=>{let{roles,permission,children,fallback=null}=_ref2;const{hasRole,checkPermission}=useRole();let hasAccess=false;if(roles&&roles.length>0){hasAccess=hasRole(roles);}if(permission){hasAccess=hasAccess||checkPermission(permission);}return/*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:hasAccess?children:fallback});};// Export role configuration
const getRoleConfig=role=>{return ROLE_NAVIGATION[role]||null;};// Export role display names
const ROLE_DISPLAY_NAMES={super_admin:{en:'Super Admin',ar:'Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø£Ø¹Ù„Ù‰'},financial_manager:{en:'Financial Manager',ar:'Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠ'},family_tree_admin:{en:'Family Tree Admin',ar:'Ù…Ø¯ÙŠØ± Ø´Ø¬Ø±Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©'},occasions_initiatives_diyas_admin:{en:'Occasions, Initiatives & Diyas Admin',ar:'Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª ÙˆØ§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª ÙˆØ§Ù„Ø¯ÙŠØ§Øª'},user_member:{en:'User Member',ar:'Ø¹Ø¶Ùˆ Ø¹Ø§Ø¯ÙŠ'}};// Export module access configuration
const MODULE_ACCESS={members:['super_admin'],financial:['super_admin','financial_manager'],family_tree:['super_admin','family_tree_admin'],occasions:['super_admin','occasions_initiatives_diyas_admin'],initiatives:['super_admin','occasions_initiatives_diyas_admin'],diyas:['super_admin','occasions_initiatives_diyas_admin'],settings:['super_admin'],audit:['super_admin']};/* harmony default export */ const contexts_RoleContext = (RoleContext);
;// ./src/components/Settings/UserManagement.tsx
/**
 * User Management Component
 * RBAC user and role management for Super Admin
 */const UserManagement=()=>{const[users,setUsers]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[searchTerm,setSearchTerm]=(0,react.useState)('');const[selectedRole,setSelectedRole]=(0,react.useState)('all');const[showEditModal,setShowEditModal]=(0,react.useState)(false);const[showAddModal,setShowAddModal]=(0,react.useState)(false);const[selectedUser,setSelectedUser]=(0,react.useState)(null);const[saving,setSaving]=(0,react.useState)(false);const[message,setMessage]=(0,react.useState)(null);const[newUser,setNewUser]=(0,react.useState)({email:'',phone:'',name:'',role:'super_admin',password:''});// Mock data - replace with actual API calls
(0,react.useEffect)(()=>{fetchUsers();},[]);const fetchUsers=async()=>{setLoading(true);try{// Mock data - replace with actual API call
const mockUsers=[{id:'1',email:'admin@alshuail.com',phone:'0551234567',name:'Ø£Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',role:'super_admin',roleAr:'Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø£Ø¹Ù„Ù‰',isActive:true,createdAt:'2024-01-01',lastLogin:'2024-12-20'},{id:'2',email:'finance@alshuail.com',phone:'0552345678',name:'Ù…Ø­Ù…Ø¯ Ø§Ù„Ù…Ø§Ù„ÙŠ',role:'financial_manager',roleAr:'Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠ',isActive:true,createdAt:'2024-01-15',lastLogin:'2024-12-19'},{id:'3',email:'tree@alshuail.com',phone:'0553456789',name:'Ø³Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©',role:'family_tree_admin',roleAr:'Ù…Ø¯ÙŠØ± Ø´Ø¬Ø±Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©',isActive:true,createdAt:'2024-02-01',lastLogin:'2024-12-18'},{id:'4',email:'events@alshuail.com',phone:'0554567890',name:'ÙØ§Ø·Ù…Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª',role:'occasions_initiatives_diyas_admin',roleAr:'Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª ÙˆØ§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª ÙˆØ§Ù„Ø¯ÙŠØ§Øª',isActive:true,createdAt:'2024-02-15',lastLogin:'2024-12-20'},{id:'5',email:'member1@alshuail.com',phone:'0555678901',name:'Ø®Ø§Ù„Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',role:'user_member',roleAr:'Ø¹Ø¶Ùˆ Ø¹Ø§Ø¯ÙŠ',isActive:true,createdAt:'2024-03-01'}];setUsers(mockUsers);setLoading(false);}catch(error){console.error('Error fetching users:',error);setLoading(false);setMessage({type:'error',text:'Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'});}};const handleRoleChange=async(userId,newRole)=>{setSaving(true);try{// Make API call to update role
const response=await fetch("http://localhost:3001/api/users/".concat(userId,"/assign-role"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':"Bearer ".concat(localStorage.getItem('token'))},body:JSON.stringify({roleName:newRole})});if(response.ok){setMessage({type:'success',text:'ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¯ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­'});setShowEditModal(false);fetchUsers();}else{throw new Error('Failed to update role');}}catch(error){console.error('Error updating role:',error);setMessage({type:'error',text:'Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¯ÙˆØ±'});}finally{setSaving(false);}};const handleAddUser=async()=>{setSaving(true);setMessage(null);try{// Validate form fields
if(!newUser.email||!newUser.name||!newUser.phone||!newUser.password){setMessage({type:'error',text:'ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©'});setSaving(false);return;}// Mock API call - replace with actual API when backend is ready
await new Promise(resolve=>setTimeout(resolve,1000));// Create new user object
const userToAdd={id:String(Date.now()),email:newUser.email,phone:newUser.phone,name:newUser.name,role:newUser.role,roleAr:getRoleNameAr(newUser.role),isActive:true,createdAt:new Date().toISOString().split('T')[0]};// Add to users list (in production, this would be done via API)
setUsers(prev=>[...prev,userToAdd]);setMessage({type:'success',text:'ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­'});setShowAddModal(false);// Reset form
setNewUser({email:'',phone:'',name:'',role:'user_member',password:''});}catch(error){console.error('Error adding user:',error);setMessage({type:'error',text:'Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'});}finally{setSaving(false);}};const getRoleNameAr=role=>{const roleMap={'super_admin':'Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø£Ø¹Ù„Ù‰','financial_manager':'Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠ','family_tree_admin':'Ù…Ø¯ÙŠØ± Ø´Ø¬Ø±Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©','occasions_initiatives_diyas_admin':'Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª ÙˆØ§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª','user_member':'Ø¹Ø¶Ùˆ Ø¹Ø§Ø¯ÙŠ'};return roleMap[role]||role;};const filteredUsers=users.filter(user=>{var _user$name,_user$phone;const matchesSearch=user.email.toLowerCase().includes(searchTerm.toLowerCase())||((_user$name=user.name)===null||_user$name===void 0?void 0:_user$name.toLowerCase().includes(searchTerm.toLowerCase()))||((_user$phone=user.phone)===null||_user$phone===void 0?void 0:_user$phone.includes(searchTerm));const matchesRole=selectedRole==='all'||user.role===selectedRole;return matchesSearch&&matchesRole;});// Styles
const statsCardStyle={background:'rgba(255, 255, 255, 0.9)',backdropFilter:'blur(20px)',borderRadius:'16px',padding:'20px',border:'1px solid rgba(0, 0, 0, 0.1)',display:'flex',alignItems:'center',gap:'15px',transition:'all 0.3s ease'};const tableStyle={width:'100%',borderCollapse:'separate',borderSpacing:'0',marginTop:'20px'};const thStyle={padding:'15px',textAlign:'right',borderBottom:'2px solid rgba(0, 0, 0, 0.1)',fontSize:'13px',fontWeight:'600',color:'#4B5563',textTransform:'uppercase',letterSpacing:'0.5px'};const tdStyle={padding:'15px',borderBottom:'1px solid rgba(0, 0, 0, 0.05)',fontSize:'14px',color:'#1F2937'};const roleTagStyle=role=>{const colors={super_admin:{bg:'#DC2626',text:'white'},financial_manager:{bg:'#059669',text:'white'},family_tree_admin:{bg:'#7C3AED',text:'white'},occasions_initiatives_diyas_admin:{bg:'#EA580C',text:'white'},user_member:{bg:'#6B7280',text:'white'}};const color=colors[role]||colors.user_member;return{display:'inline-block',padding:'6px 12px',backgroundColor:color.bg,color:color.text,borderRadius:'20px',fontSize:'12px',fontWeight:'600'};};const modalOverlayStyle={position:'fixed',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.5)',backdropFilter:'blur(5px)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000};const modalContentStyle={background:'white',borderRadius:'20px',padding:'30px',width:'500px',maxHeight:'80vh',overflowY:'auto',boxShadow:'0 20px 60px rgba(0, 0, 0, 0.3)'};// Role statistics
const roleStats={super_admin:users.filter(u=>u.role==='super_admin').length,financial_manager:users.filter(u=>u.role==='financial_manager').length,family_tree_admin:users.filter(u=>u.role==='family_tree_admin').length,occasions_initiatives_diyas_admin:users.filter(u=>u.role==='occasions_initiatives_diyas_admin').length,user_member:users.filter(u=>u.role==='user_member').length};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginBottom:'30px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h2",{style:{fontSize:'24px',fontWeight:'700',color:'#1F2937',marginBottom:'10px',display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserGroupIcon,{style:{width:'28px',height:'28px'}}),"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0648\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{color:'#6B7280',fontSize:'14px'},children:"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0648\u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u0623\u062F\u0648\u0627\u0631 \u0648\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0644\u0643\u0644 \u0645\u0633\u062A\u062E\u062F\u0645 \u0641\u064A \u0627\u0644\u0646\u0638\u0627\u0645"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'15px',marginBottom:'30px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:statsCardStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{width:'40px',height:'40px',borderRadius:'10px',background:'linear-gradient(135deg, #DC2626 0%, #B91C1C 100%)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ShieldCheckIcon,{style:{width:'20px',height:'20px',color:'white'}})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'24px',fontWeight:'700'},children:roleStats.super_admin}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'12px',color:'#6B7280'},children:"\u0645\u062F\u064A\u0631 \u0623\u0639\u0644\u0649"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:statsCardStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{width:'40px',height:'40px',borderRadius:'10px',background:'linear-gradient(135deg, #059669 0%, #047857 100%)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{style:{width:'20px',height:'20px',color:'white'}})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'24px',fontWeight:'700'},children:roleStats.financial_manager}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'12px',color:'#6B7280'},children:"\u0645\u062F\u064A\u0631 \u0645\u0627\u0644\u064A"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:statsCardStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{width:'40px',height:'40px',borderRadius:'10px',background:'linear-gradient(135deg, #7C3AED 0%, #6D28D9 100%)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{style:{width:'20px',height:'20px',color:'white'}})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'24px',fontWeight:'700'},children:roleStats.family_tree_admin}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'12px',color:'#6B7280'},children:"\u0645\u062F\u064A\u0631 \u0634\u062C\u0631\u0629"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:statsCardStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{width:'40px',height:'40px',borderRadius:'10px',background:'linear-gradient(135deg, #6B7280 0%, #4B5563 100%)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{style:{width:'20px',height:'20px',color:'white'}})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'24px',fontWeight:'700'},children:roleStats.user_member}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'12px',color:'#6B7280'},children:"\u0639\u0636\u0648 \u0639\u0627\u062F\u064A"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'15px',marginBottom:'20px',flexWrap:'wrap'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{flex:1,minWidth:'200px',position:'relative'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MagnifyingGlassIcon,{style:{width:'20px',height:'20px',position:'absolute',right:'15px',top:'50%',transform:'translateY(-50%)',color:'#6B7280'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0645\u0633\u062A\u062E\u062F\u0645...",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),style:{width:'100%',padding:'12px 45px 12px 15px',borderRadius:'12px',border:'1px solid rgba(0, 0, 0, 0.1)',fontSize:'14px',outline:'none',transition:'all 0.3s ease'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:selectedRole,onChange:e=>setSelectedRole(e.target.value),style:{padding:'12px 20px',borderRadius:'12px',border:'1px solid rgba(0, 0, 0, 0.1)',fontSize:'14px',outline:'none',cursor:'pointer',minWidth:'150px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"all",children:"\u0643\u0644 \u0627\u0644\u0623\u062F\u0648\u0627\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"super_admin",children:"\u0627\u0644\u0645\u062F\u064A\u0631 \u0627\u0644\u0623\u0639\u0644\u0649"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"financial_manager",children:"\u0627\u0644\u0645\u062F\u064A\u0631 \u0627\u0644\u0645\u0627\u0644\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"family_tree_admin",children:"\u0645\u062F\u064A\u0631 \u0634\u062C\u0631\u0629 \u0627\u0644\u0639\u0627\u0626\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"occasions_initiatives_diyas_admin",children:"\u0645\u062F\u064A\u0631 \u0627\u0644\u0645\u0646\u0627\u0633\u0628\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"user_member",children:"\u0639\u0636\u0648 \u0639\u0627\u062F\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:fetchUsers,style:{padding:'12px 20px',borderRadius:'12px',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',border:'none',fontSize:'14px',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px',transition:'all 0.3s ease'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowPathIcon,{style:{width:'16px',height:'16px'}}),"\u062A\u062D\u062F\u064A\u062B"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setShowAddModal(true),style:{padding:'12px 20px',borderRadius:'12px',background:'linear-gradient(135deg, #10B981 0%, #059669 100%)',color:'white',border:'none',fontSize:'14px',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px',transition:'all 0.3s ease'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PlusIcon,{style:{width:'16px',height:'16px'}}),"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062A\u062E\u062F\u0645"]})]}),message&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{padding:'12px 20px',borderRadius:'12px',marginBottom:'20px',display:'flex',alignItems:'center',gap:'10px',backgroundColor:message.type==='success'?'#D1FAE5':message.type==='error'?'#FEE2E2':'#DBEAFE',color:message.type==='success'?'#065F46':message.type==='error'?'#991B1B':'#1E40AF'},children:[message.type==='success'&&/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{style:{width:'20px',height:'20px'}}),message.type==='error'&&/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XCircleIcon,{style:{width:'20px',height:'20px'}}),message.type==='info'&&/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ExclamationTriangleIcon,{style:{width:'20px',height:'20px'}}),message.text]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{overflowX:'auto',background:'white',borderRadius:'12px',border:'1px solid rgba(0, 0, 0, 0.1)'},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("table",{style:tableStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("thead",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:thStyle,children:"\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:thStyle,children:"\u0627\u0644\u062F\u0648\u0631 \u0627\u0644\u062D\u0627\u0644\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:thStyle,children:"\u0627\u0644\u062D\u0627\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:thStyle,children:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0636\u0645\u0627\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:thStyle,children:"\u0622\u062E\u0631 \u062F\u062E\u0648\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:thStyle,children:"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("tbody",{children:loading?/*#__PURE__*/(0,jsx_runtime.jsx)("tr",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("td",{colSpan:6,style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},tdStyle),{},{textAlign:'center',padding:'40px'}),children:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644..."})}):filteredUsers.length===0?/*#__PURE__*/(0,jsx_runtime.jsx)("tr",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("td",{colSpan:6,style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},tdStyle),{},{textAlign:'center',padding:'40px'}),children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u062A\u0627\u0626\u062C"})}):filteredUsers.map(user=>/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{style:{transition:'background 0.2s ease',cursor:'pointer'},onMouseEnter:e=>{e.currentTarget.style.background='rgba(0, 0, 0, 0.02)';},onMouseLeave:e=>{e.currentTarget.style.background='transparent';},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("td",{style:tdStyle,children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{width:'40px',height:'40px',borderRadius:'50%',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',display:'flex',alignItems:'center',justifyContent:'center',color:'white',fontWeight:'600',fontSize:'14px'},children:user.name?user.name[0]:user.email[0].toUpperCase()}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontWeight:'600'},children:user.name||user.email}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'12px',color:'#6B7280'},children:user.email}),user.phone&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'12px',color:'#6B7280'},children:user.phone})]})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{style:tdStyle,children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:roleTagStyle(user.role),children:user.roleAr})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{style:tdStyle,children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'center',gap:'6px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{width:'8px',height:'8px',borderRadius:'50%',backgroundColor:user.isActive?'#10B981':'#EF4444'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontSize:'13px',color:user.isActive?'#059669':'#DC2626'},children:user.isActive?'Ù†Ø´Ø·':'ØºÙŠØ± Ù†Ø´Ø·'})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},tdStyle),{},{fontSize:'13px',color:'#6B7280'}),children:new Date(user.createdAt).toLocaleDateString('ar-SA')}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},tdStyle),{},{fontSize:'13px',color:'#6B7280'}),children:user.lastLogin?new Date(user.lastLogin).toLocaleDateString('ar-SA'):'Ù„Ù… ÙŠØ¯Ø®Ù„ Ø¨Ø¹Ø¯'}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{style:tdStyle,children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:'flex',gap:'8px'},children:/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>{setSelectedUser(user);setShowEditModal(true);},style:{padding:'8px',borderRadius:'8px',border:'1px solid rgba(0, 0, 0, 0.1)',background:'white',cursor:'pointer',transition:'all 0.2s ease',display:'flex',alignItems:'center',justifyContent:'center'},onMouseEnter:e=>{e.currentTarget.style.background='linear-gradient(135deg, #667eea 0%, #764ba2 100%)';e.currentTarget.style.borderColor='transparent';const icon=e.currentTarget.querySelector('svg');if(icon)icon.style.color='white';},onMouseLeave:e=>{e.currentTarget.style.background='white';e.currentTarget.style.borderColor='rgba(0, 0, 0, 0.1)';const icon=e.currentTarget.querySelector('svg');if(icon)icon.style.color='#6B7280';},children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PencilIcon,{style:{width:'16px',height:'16px',color:'#6B7280'}})})})})]},user.id))})]})}),showEditModal&&selectedUser&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:modalOverlayStyle,onClick:()=>setShowEditModal(false),children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:modalContentStyle,onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h3",{style:{fontSize:'20px',fontWeight:'700',marginBottom:'20px',display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.KeyIcon,{style:{width:'24px',height:'24px'}}),"\u062A\u063A\u064A\u064A\u0631 \u062F\u0648\u0631 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{padding:'20px',background:'rgba(0, 0, 0, 0.02)',borderRadius:'12px',marginBottom:'20px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginBottom:'10px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:"\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645:"})," ",selectedUser.name||selectedUser.email]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginBottom:'10px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A:"})," ",selectedUser.email]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:"\u0627\u0644\u062F\u0648\u0631 \u0627\u0644\u062D\u0627\u0644\u064A:"}),' ',/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:roleTagStyle(selectedUser.role),children:selectedUser.roleAr})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginBottom:'20px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'10px',fontSize:'14px',fontWeight:'600',color:'#374151'},children:"\u0627\u062E\u062A\u0631 \u0627\u0644\u062F\u0648\u0631 \u0627\u0644\u062C\u062F\u064A\u062F:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("select",{defaultValue:selectedUser.role,onChange:e=>{setSelectedUser((0,objectSpread2["default"])((0,objectSpread2["default"])({},selectedUser),{},{role:e.target.value}));},style:{width:'100%',padding:'12px',borderRadius:'12px',border:'1px solid rgba(0, 0, 0, 0.1)',fontSize:'14px',cursor:'pointer'},children:Object.entries(ROLE_DISPLAY_NAMES).map(_ref=>{let[role,names]=_ref;return/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:role,children:names.ar},role);})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{padding:'15px',background:'rgba(251, 191, 36, 0.1)',borderRadius:'12px',marginBottom:'20px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'center',gap:'8px',marginBottom:'10px',color:'#92400E'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ExclamationTriangleIcon,{style:{width:'20px',height:'20px'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:"\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u062F\u0648\u0631 \u0627\u0644\u0645\u062E\u062A\u0627\u0631:"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("ul",{style:{margin:'0',paddingRight:'20px',fontSize:'13px',color:'#78350F',lineHeight:'1.8'},children:[selectedUser.role==='super_admin'&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0627\u0644\u0643\u0627\u0645\u0644 \u0644\u062C\u0645\u064A\u0639 \u0623\u0646\u062D\u0627\u0621 \u0627\u0644\u0646\u0638\u0627\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0648\u0627\u0644\u0623\u062F\u0648\u0627\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0623\u0639\u0636\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u062A\u062F\u0642\u064A\u0642"})]}),selectedUser.role==='financial_manager'&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A \u0648\u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0639\u0631\u0636 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631 \u0627\u0644\u0645\u0627\u0644\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0644\u0627 \u064A\u0645\u0643\u0646\u0647 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u0646\u0627\u0633\u0628\u0627\u062A \u0623\u0648 \u0627\u0644\u0645\u0628\u0627\u062F\u0631\u0627\u062A"})]}),selectedUser.role==='family_tree_admin'&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0625\u062F\u0627\u0631\u0629 \u0634\u062C\u0631\u0629 \u0627\u0644\u0639\u0627\u0626\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0639\u0644\u0627\u0642\u0627\u062A \u0627\u0644\u0639\u0627\u0626\u0644\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0644\u0627 \u064A\u0645\u0643\u0646\u0647 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0627\u0644\u064A\u0629"})]}),selectedUser.role==='occasions_initiatives_diyas_admin'&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u0633\u0628\u0627\u062A \u0648\u0627\u0644\u0641\u0639\u0627\u0644\u064A\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0628\u0627\u062F\u0631\u0627\u062A \u0627\u0644\u062E\u064A\u0631\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u062F\u064A\u0627\u062A \u0648\u0627\u0644\u062A\u0639\u0648\u064A\u0636\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0644\u0627 \u064A\u0645\u0643\u0646\u0647 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0627\u0644\u064A\u0629 \u0623\u0648 \u0634\u062C\u0631\u0629 \u0627\u0644\u0639\u0627\u0626\u0644\u0629"})]}),selectedUser.role==='user_member'&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0639\u0631\u0636 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629 \u0641\u0642\u0637"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0641\u064A \u0627\u0644\u0641\u0639\u0627\u0644\u064A\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0639\u0631\u0636 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A \u0627\u0644\u062E\u0627\u0635\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0644\u0627 \u064A\u0645\u0643\u0646\u0647 \u0639\u0631\u0636 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0622\u062E\u0631\u064A\u0646"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'10px',justifyContent:'flex-end'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowEditModal(false),style:{padding:'12px 24px',borderRadius:'12px',border:'1px solid rgba(0, 0, 0, 0.1)',background:'white',fontSize:'14px',fontWeight:'600',cursor:'pointer',transition:'all 0.2s ease'},children:"\u0625\u0644\u063A\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>handleRoleChange(selectedUser.id,selectedUser.role),disabled:saving,style:{padding:'12px 24px',borderRadius:'12px',background:saving?'#9CA3AF':'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',border:'none',fontSize:'14px',fontWeight:'600',cursor:saving?'not-allowed':'pointer',transition:'all 0.2s ease'},children:saving?'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...':'Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª'})]})]})}),showAddModal&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:modalOverlayStyle,onClick:()=>setShowAddModal(false),children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:modalContentStyle,onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h3",{style:{fontSize:'20px',fontWeight:'700',marginBottom:'24px',display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PlusIcon,{style:{width:'24px',height:'24px',color:'#10B981'}}),"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062A\u062E\u062F\u0645 \u062C\u062F\u064A\u062F"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gap:'16px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',fontWeight:'600',color:'#374151'},children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:newUser.name,onChange:e=>setNewUser((0,objectSpread2["default"])((0,objectSpread2["default"])({},newUser),{},{name:e.target.value})),style:{width:'100%',padding:'10px 12px',borderRadius:'8px',border:'1px solid rgba(0, 0, 0, 0.1)',fontSize:'14px',outline:'none'},placeholder:"\u0623\u062F\u062E\u0644 \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',fontWeight:'600',color:'#374151'},children:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"email",value:newUser.email,onChange:e=>setNewUser((0,objectSpread2["default"])((0,objectSpread2["default"])({},newUser),{},{email:e.target.value})),style:{width:'100%',padding:'10px 12px',borderRadius:'8px',border:'1px solid rgba(0, 0, 0, 0.1)',fontSize:'14px',outline:'none'},placeholder:"example@alshuail.com",dir:"ltr"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',fontWeight:'600',color:'#374151'},children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"tel",value:newUser.phone,onChange:e=>setNewUser((0,objectSpread2["default"])((0,objectSpread2["default"])({},newUser),{},{phone:e.target.value})),style:{width:'100%',padding:'10px 12px',borderRadius:'8px',border:'1px solid rgba(0, 0, 0, 0.1)',fontSize:'14px',outline:'none'},placeholder:"05XXXXXXXX",dir:"ltr"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',fontWeight:'600',color:'#374151'},children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"password",value:newUser.password,onChange:e=>setNewUser((0,objectSpread2["default"])((0,objectSpread2["default"])({},newUser),{},{password:e.target.value})),style:{width:'100%',padding:'10px 12px',borderRadius:'8px',border:'1px solid rgba(0, 0, 0, 0.1)',fontSize:'14px',outline:'none'},placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",dir:"ltr"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',marginBottom:'8px',fontSize:'14px',fontWeight:'600',color:'#374151'},children:"\u0627\u0644\u062F\u0648\u0631 \u0627\u0644\u0648\u0638\u064A\u0641\u064A *"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:newUser.role,onChange:e=>setNewUser((0,objectSpread2["default"])((0,objectSpread2["default"])({},newUser),{},{role:e.target.value})),style:{width:'100%',padding:'10px 12px',borderRadius:'8px',border:'2px solid #007AFF',fontSize:'14px',outline:'none',cursor:'pointer',backgroundColor:'#FFFFFF',color:'#1F2937'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"super_admin",children:"\u0627\u0644\u0645\u062F\u064A\u0631 \u0627\u0644\u0623\u0639\u0644\u0649"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"financial_manager",children:"\u0627\u0644\u0645\u062F\u064A\u0631 \u0627\u0644\u0645\u0627\u0644\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"family_tree_admin",children:"\u0645\u062F\u064A\u0631 \u0634\u062C\u0631\u0629 \u0627\u0644\u0639\u0627\u0626\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"occasions_initiatives_diyas_admin",children:"\u0645\u062F\u064A\u0631 \u0627\u0644\u0645\u0646\u0627\u0633\u0628\u0627\u062A \u0648\u0627\u0644\u0645\u0628\u0627\u062F\u0631\u0627\u062A \u0648\u0627\u0644\u062F\u064A\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"user_member",children:"\u0639\u0636\u0648 \u0639\u0627\u062F\u064A"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'12px',marginTop:'24px',justifyContent:'flex-end'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>{setShowAddModal(false);setNewUser({email:'',phone:'',name:'',role:'user_member',password:''});},style:{padding:'12px 24px',borderRadius:'12px',background:'#F3F4F6',color:'#6B7280',border:'none',fontSize:'14px',fontWeight:'600',cursor:'pointer',transition:'all 0.2s ease'},children:"\u0625\u0644\u063A\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:handleAddUser,disabled:saving,style:{padding:'12px 24px',borderRadius:'12px',background:saving?'#9CA3AF':'linear-gradient(135deg, #10B981 0%, #059669 100%)',color:'white',border:'none',fontSize:'14px',fontWeight:'600',cursor:saving?'not-allowed':'pointer',transition:'all 0.2s ease'},children:saving?'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ©...':'Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'})]})]})})]});};/* harmony default export */ const Settings_UserManagement = (UserManagement);
;// ./src/components/Settings/SystemSettings.tsx
/**
 * System Settings Component
 * General system configuration and settings
 */const SystemSettings=()=>{const[settings,setSettings]=(0,react.useState)({systemName:'Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„Ø´Ø¹ÙŠÙ„',systemVersion:'2.0.1',apiUrl:'http://localhost:3001',maxUploadSize:'10',sessionTimeout:'30',enableNotifications:true,enableAutoBackup:true,backupFrequency:'daily',maintenanceMode:false,debugMode:false});const[saved,setSaved]=(0,react.useState)(false);const handleSave=()=>{// Save settings API call
setSaved(true);setTimeout(()=>setSaved(false),3000);};const inputStyle={width:'100%',padding:'12px',borderRadius:'12px',border:'1px solid rgba(0, 0, 0, 0.1)',fontSize:'14px',outline:'none',transition:'all 0.3s ease'};const labelStyle={display:'block',marginBottom:'8px',fontSize:'14px',fontWeight:'600',color:'#374151'};const sectionStyle={marginBottom:'30px',padding:'20px',background:'rgba(0, 0, 0, 0.02)',borderRadius:'16px'};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h2",{style:{fontSize:'24px',fontWeight:'700',color:'#1F2937',marginBottom:'30px',display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ServerIcon,{style:{width:'28px',height:'28px'}}),"\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u0639\u0627\u0645\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:sectionStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h3",{style:{fontSize:'16px',fontWeight:'600',marginBottom:'20px',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CpuChipIcon,{style:{width:'20px',height:'20px'}}),"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'20px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u0627\u0633\u0645 \u0627\u0644\u0646\u0638\u0627\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:settings.systemName,onChange:e=>setSettings((0,objectSpread2["default"])((0,objectSpread2["default"])({},settings),{},{systemName:e.target.value})),style:inputStyle})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u0625\u0635\u062F\u0627\u0631 \u0627\u0644\u0646\u0638\u0627\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:settings.systemVersion,readOnly:true,style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},inputStyle),{},{backgroundColor:'#F3F4F6',cursor:'not-allowed'})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u0631\u0627\u0628\u0637 API"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:settings.apiUrl,onChange:e=>setSettings((0,objectSpread2["default"])((0,objectSpread2["default"])({},settings),{},{apiUrl:e.target.value})),style:inputStyle,dir:"ltr"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u062D\u062C\u0645 \u0627\u0644\u0631\u0641\u0639 \u0627\u0644\u0623\u0642\u0635\u0649 (MB)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",value:settings.maxUploadSize,onChange:e=>setSettings((0,objectSpread2["default"])((0,objectSpread2["default"])({},settings),{},{maxUploadSize:e.target.value})),style:inputStyle})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:sectionStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h3",{style:{fontSize:'16px',fontWeight:'600',marginBottom:'20px',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ShieldCheckIcon,{style:{width:'20px',height:'20px'}}),"\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0623\u0645\u0627\u0646"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'20px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u0645\u062F\u0629 \u0627\u0644\u062C\u0644\u0633\u0629 (\u062F\u0642\u064A\u0642\u0629)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",value:settings.sessionTimeout,onChange:e=>setSettings((0,objectSpread2["default"])((0,objectSpread2["default"])({},settings),{},{sessionTimeout:e.target.value})),style:inputStyle})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:labelStyle,children:"\u062A\u0643\u0631\u0627\u0631 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:settings.backupFrequency,onChange:e=>setSettings((0,objectSpread2["default"])((0,objectSpread2["default"])({},settings),{},{backupFrequency:e.target.value})),style:inputStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"hourly",children:"\u0643\u0644 \u0633\u0627\u0639\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"daily",children:"\u064A\u0648\u0645\u064A\u0627\u064B"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"weekly",children:"\u0623\u0633\u0628\u0648\u0639\u064A\u0627\u064B"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"monthly",children:"\u0634\u0647\u0631\u064A\u0627\u064B"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{marginTop:'20px'},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{style:{display:'flex',alignItems:'center',gap:'10px',cursor:'pointer'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"checkbox",checked:settings.enableAutoBackup,onChange:e=>setSettings((0,objectSpread2["default"])((0,objectSpread2["default"])({},settings),{},{enableAutoBackup:e.target.checked})),style:{width:'18px',height:'18px'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontSize:'14px'},children:"\u062A\u0641\u0639\u064A\u0644 \u0627\u0644\u0646\u0633\u062E \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0637\u064A \u0627\u0644\u062A\u0644\u0642\u0627\u0626\u064A"})]})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:sectionStyle,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h3",{style:{fontSize:'16px',fontWeight:'600',marginBottom:'20px',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ClockIcon,{style:{width:'20px',height:'20px'}}),"\u062D\u0627\u0644\u0629 \u0627\u0644\u0646\u0638\u0627\u0645"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gap:'15px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{style:{display:'flex',alignItems:'center',gap:'10px',cursor:'pointer'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"checkbox",checked:settings.maintenanceMode,onChange:e=>setSettings((0,objectSpread2["default"])((0,objectSpread2["default"])({},settings),{},{maintenanceMode:e.target.checked})),style:{width:'18px',height:'18px'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontSize:'14px'},children:"\u0648\u0636\u0639 \u0627\u0644\u0635\u064A\u0627\u0646\u0629"}),settings.maintenanceMode&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{padding:'4px 8px',background:'#FEE2E2',color:'#DC2626',borderRadius:'6px',fontSize:'12px',fontWeight:'600'},children:"\u0646\u0634\u0637"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{style:{display:'flex',alignItems:'center',gap:'10px',cursor:'pointer'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"checkbox",checked:settings.debugMode,onChange:e=>setSettings((0,objectSpread2["default"])((0,objectSpread2["default"])({},settings),{},{debugMode:e.target.checked})),style:{width:'18px',height:'18px'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontSize:'14px'},children:"\u0648\u0636\u0639 \u0627\u0644\u062A\u0637\u0648\u064A\u0631"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{style:{display:'flex',alignItems:'center',gap:'10px',cursor:'pointer'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"checkbox",checked:settings.enableNotifications,onChange:e=>setSettings((0,objectSpread2["default"])((0,objectSpread2["default"])({},settings),{},{enableNotifications:e.target.checked})),style:{width:'18px',height:'18px'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontSize:'14px'},children:"\u062A\u0641\u0639\u064A\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'flex-end',gap:'10px',marginTop:'30px'},children:[saved&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'center',gap:'8px',padding:'12px 20px',background:'#D1FAE5',color:'#065F46',borderRadius:'12px',fontSize:'14px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{style:{width:'20px',height:'20px'}}),"\u062A\u0645 \u0627\u0644\u062D\u0641\u0638 \u0628\u0646\u062C\u0627\u062D"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:handleSave,style:{padding:'12px 30px',borderRadius:'12px',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',border:'none',fontSize:'14px',fontWeight:'600',cursor:'pointer',transition:'all 0.3s ease'},children:"\u062D\u0641\u0638 \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A"})]})]});};/* harmony default export */ const Settings_SystemSettings = (SystemSettings);
;// ./src/components/Settings/AuditLogs.tsx
/**
 * Audit Logs Component
 * System audit trail and activity logs viewer
 */const AuditLogs=()=>{const[logs,setLogs]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[searchTerm,setSearchTerm]=(0,react.useState)('');const[selectedModule,setSelectedModule]=(0,react.useState)('all');const[selectedSeverity,setSelectedSeverity]=(0,react.useState)('all');const[dateRange,setDateRange]=(0,react.useState)({start:'',end:''});// Mock data - replace with actual API call
(0,react.useEffect)(()=>{fetchAuditLogs();},[]);const fetchAuditLogs=async()=>{setLoading(true);try{// Mock audit logs data
const mockLogs=[{id:'1',userId:'1',userEmail:'admin@alshuail.com',userName:'Ø£Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',action:'ØªØºÙŠÙŠØ± Ø¯ÙˆØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…',module:'user_management',entityType:'user',entityId:'5',oldValues:{role:'user_member'},newValues:{role:'financial_manager'},ipAddress:'192.168.1.1',createdAt:new Date().toISOString(),severity:'warning'},{id:'2',userId:'2',userEmail:'finance@alshuail.com',userName:'Ù…Ø­Ù…Ø¯ Ø§Ù„Ù…Ø§Ù„ÙŠ',action:'Ø¥Ø¶Ø§ÙØ© Ø¯ÙØ¹Ø© Ù…Ø§Ù„ÙŠØ©',module:'financial',entityType:'payment',entityId:'123',newValues:{amount:500,currency:'SAR'},ipAddress:'192.168.1.2',createdAt:new Date(Date.now()-3600000).toISOString(),severity:'success'},{id:'3',userId:'1',userEmail:'admin@alshuail.com',userName:'Ø£Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',action:'ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„',module:'authentication',ipAddress:'192.168.1.1',createdAt:new Date(Date.now()-7200000).toISOString(),severity:'info'},{id:'4',userId:'3',userEmail:'tree@alshuail.com',userName:'Ø³Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©',action:'ØªØ­Ø¯ÙŠØ« Ø´Ø¬Ø±Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©',module:'family_tree',entityType:'relationship',entityId:'456',ipAddress:'192.168.1.3',createdAt:new Date(Date.now()-10800000).toISOString(),severity:'info'},{id:'5',userId:'1',userEmail:'admin@alshuail.com',userName:'Ø£Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',action:'Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…',module:'user_management',entityType:'user',entityId:'789',oldValues:{email:'deleted@alshuail.com'},ipAddress:'192.168.1.1',createdAt:new Date(Date.now()-86400000).toISOString(),severity:'error'}];setLogs(mockLogs);}catch(error){console.error('Error fetching audit logs:',error);}finally{setLoading(false);}};// Filter logs
const filteredLogs=logs.filter(log=>{var _log$userName;const matchesSearch=log.userEmail.toLowerCase().includes(searchTerm.toLowerCase())||((_log$userName=log.userName)===null||_log$userName===void 0?void 0:_log$userName.toLowerCase().includes(searchTerm.toLowerCase()))||log.action.toLowerCase().includes(searchTerm.toLowerCase())||log.module.toLowerCase().includes(searchTerm.toLowerCase());const matchesModule=selectedModule==='all'||log.module===selectedModule;const matchesSeverity=selectedSeverity==='all'||log.severity===selectedSeverity;return matchesSearch&&matchesModule&&matchesSeverity;});// Styles
const getSeverityStyle=severity=>{const styles={info:{bg:'#DBEAFE',color:'#1E40AF',icon:esm.InformationCircleIcon},warning:{bg:'#FED7AA',color:'#C2410C',icon:esm.ExclamationTriangleIcon},error:{bg:'#FEE2E2',color:'#DC2626',icon:esm.XCircleIcon},success:{bg:'#D1FAE5',color:'#065F46',icon:esm.CheckCircleIcon}};return styles[severity];};const getModuleLabel=module=>{const labels={user_management:'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†',financial:'Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø§Ù„ÙŠ',family_tree:'Ø´Ø¬Ø±Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©',occasions:'Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª',initiatives:'Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª',diyas:'Ø§Ù„Ø¯ÙŠØ§Øª',authentication:'Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©',system:'Ø§Ù„Ù†Ø¸Ø§Ù…'};return labels[module]||module;};const getActionColor=action=>{if(action.includes('Ø­Ø°Ù'))return'#DC2626';if(action.includes('Ø¥Ø¶Ø§ÙØ©')||action.includes('Ø¥Ù†Ø´Ø§Ø¡'))return'#059669';if(action.includes('ØªØ­Ø¯ÙŠØ«')||action.includes('ØªØºÙŠÙŠØ±'))return'#D97706';return'#6B7280';};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h2",{style:{fontSize:'24px',fontWeight:'700',color:'#1F2937',marginBottom:'10px',display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ShieldCheckIcon,{style:{width:'28px',height:'28px'}}),"\u0633\u062C\u0644\u0627\u062A \u0627\u0644\u062A\u062F\u0642\u064A\u0642 \u0648\u0627\u0644\u0646\u0634\u0627\u0637\u0627\u062A"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{color:'#6B7280',fontSize:'14px',marginBottom:'30px'},children:"\u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0646\u0634\u0627\u0637\u0627\u062A \u0648\u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A \u0627\u0644\u062A\u064A \u062A\u0645\u062A \u0641\u064A \u0627\u0644\u0646\u0638\u0627\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'15px',marginBottom:'30px'},children:['info','success','warning','error'].map(severity=>{const style=getSeverityStyle(severity);const Icon=style.icon;const count=logs.filter(l=>l.severity===severity).length;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:style.bg,borderRadius:'12px',padding:'15px',display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Icon,{style:{width:'24px',height:'24px',color:style.color}}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'20px',fontWeight:'700',color:style.color},children:count}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'12px',color:style.color,opacity:0.8},children:[severity==='info'&&'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',severity==='success'&&'Ù†Ø¬Ø§Ø­',severity==='warning'&&'ØªØ­Ø°ÙŠØ±',severity==='error'&&'Ø®Ø·Ø£']})]})]},severity);})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'15px',marginBottom:'20px',flexWrap:'wrap'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{flex:1,minWidth:'200px',position:'relative'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MagnifyingGlassIcon,{style:{width:'20px',height:'20px',position:'absolute',right:'15px',top:'50%',transform:'translateY(-50%)',color:'#6B7280'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0627\u0644\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0633\u062C\u0644\u0627\u062A...",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),style:{width:'100%',padding:'12px 45px 12px 15px',borderRadius:'12px',border:'1px solid rgba(0, 0, 0, 0.1)',fontSize:'14px',outline:'none'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:selectedModule,onChange:e=>setSelectedModule(e.target.value),style:{padding:'12px 20px',borderRadius:'12px',border:'1px solid rgba(0, 0, 0, 0.1)',fontSize:'14px',cursor:'pointer',minWidth:'150px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"all",children:"\u0643\u0644 \u0627\u0644\u0623\u0642\u0633\u0627\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"user_management",children:"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"financial",children:"\u0627\u0644\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0627\u0644\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"family_tree",children:"\u0634\u062C\u0631\u0629 \u0627\u0644\u0639\u0627\u0626\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"authentication",children:"\u0627\u0644\u0645\u0635\u0627\u062F\u0642\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:selectedSeverity,onChange:e=>setSelectedSeverity(e.target.value),style:{padding:'12px 20px',borderRadius:'12px',border:'1px solid rgba(0, 0, 0, 0.1)',fontSize:'14px',cursor:'pointer',minWidth:'150px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"all",children:"\u0643\u0644 \u0627\u0644\u0645\u0633\u062A\u0648\u064A\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"info",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"success",children:"\u0646\u062C\u0627\u062D"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"warning",children:"\u062A\u062D\u0630\u064A\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"error",children:"\u062E\u0637\u0623"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:fetchAuditLogs,style:{padding:'12px 20px',borderRadius:'12px',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',border:'none',fontSize:'14px',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowPathIcon,{style:{width:'16px',height:'16px'}}),"\u062A\u062D\u062F\u064A\u062B"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{background:'white',borderRadius:'12px',border:'1px solid rgba(0, 0, 0, 0.1)',padding:'20px'},children:loading?/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{textAlign:'center',padding:'40px',color:'#6B7280'},children:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644..."}):filteredLogs.length===0?/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{textAlign:'center',padding:'40px',color:'#6B7280'},children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0633\u062C\u0644\u0627\u062A"}):/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{position:'relative'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{position:'absolute',right:'30px',top:'20px',bottom:'20px',width:'2px',background:'linear-gradient(180deg, #E5E7EB 0%, transparent 100%)'}}),filteredLogs.map((log,index)=>{const severityStyle=getSeverityStyle(log.severity);const Icon=severityStyle.icon;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'20px',marginBottom:index<filteredLogs.length-1?'30px':'0',position:'relative'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{width:'40px',height:'40px',borderRadius:'50%',background:severityStyle.bg,display:'flex',alignItems:'center',justifyContent:'center',flexShrink:0,zIndex:1,border:"2px solid ".concat(severityStyle.color)},children:/*#__PURE__*/(0,jsx_runtime.jsx)(Icon,{style:{width:'20px',height:'20px',color:severityStyle.color}})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{flex:1,background:'rgba(0, 0, 0, 0.02)',borderRadius:'12px',padding:'15px',border:'1px solid rgba(0, 0, 0, 0.05)'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'10px'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'16px',fontWeight:'600',color:getActionColor(log.action),marginBottom:'5px'},children:log.action}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'13px',color:'#6B7280'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{padding:'3px 8px',background:'rgba(0, 0, 0, 0.05)',borderRadius:'6px',marginLeft:'8px'},children:getModuleLabel(log.module)}),log.entityType&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:{marginRight:'8px'},children:["\u2022 ",log.entityType," #",log.entityId]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{textAlign:'left',fontSize:'12px',color:'#9CA3AF'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'center',gap:'5px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ClockIcon,{style:{width:'14px',height:'14px'}}),new Date(log.createdAt).toLocaleString('ar-SA')]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{marginTop:'5px'},children:log.ipAddress})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'center',gap:'8px',fontSize:'14px',color:'#4B5563'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{style:{width:'16px',height:'16px'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontWeight:'500'},children:log.userName||log.userEmail}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:{color:'#9CA3AF',fontSize:'12px'},children:["(",log.userEmail,")"]})]}),(log.oldValues||log.newValues)&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginTop:'15px',padding:'10px',background:'rgba(0, 0, 0, 0.02)',borderRadius:'8px',fontSize:'13px'},children:[log.oldValues&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginBottom:'5px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{color:'#DC2626',fontWeight:'600'},children:"\u0642\u062F\u064A\u0645:"}),' ',/*#__PURE__*/(0,jsx_runtime.jsx)("code",{style:{background:'white',padding:'2px 6px',borderRadius:'4px',direction:'ltr',display:'inline-block'},children:JSON.stringify(log.oldValues,null,2)})]}),log.newValues&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{color:'#059669',fontWeight:'600'},children:"\u062C\u062F\u064A\u062F:"}),' ',/*#__PURE__*/(0,jsx_runtime.jsx)("code",{style:{background:'white',padding:'2px 6px',borderRadius:'4px',direction:'ltr',display:'inline-block'},children:JSON.stringify(log.newValues,null,2)})]})]})]})]},log.id);})]})})]});};/* harmony default export */ const Settings_AuditLogs = (AuditLogs);
;// ./src/components/Members/AppleDesignSystem.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const AppleDesignSystem = ({});
;// ./src/components/Settings/Settings.jsx
/**
 * Settings Panel Component
 * Premium Apple-inspired settings interface with RBAC support
 * Features glassmorphism effects, sophisticated animations, and full RTL support
 */const Settings=()=>{const{user,hasRole,hasPermission,loading}=useAuth();const[activeTab,setActiveTab]=(0,react.useState)('user-management');// Settings tabs configuration with RBAC
const settingsTabs=[{id:'user-management',label:'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†',icon:esm.UsersIcon,component:Settings_UserManagement,requiredRoles:['super_admin','admin'],description:'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø£Ø¯ÙˆØ§Ø± ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª',gradient:'linear-gradient(135deg, var(--apple-blue-500) 0%, var(--apple-purple-600) 100%)',shadowColor:'rgba(59, 130, 246, 0.3)'},{id:'system-settings',label:'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…',icon:esm.ServerIcon,component:Settings_SystemSettings,requiredRoles:['super_admin','admin'],description:'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¹Ø§Ù…Ø© ÙˆØ§Ù„ØªÙƒÙˆÙŠÙ†Ø§Øª',gradient:'linear-gradient(135deg, var(--apple-emerald-500) 0%, var(--apple-teal-600) 100%)',shadowColor:'rgba(16, 185, 129, 0.3)'},{id:'audit-logs',label:'Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚',icon:esm.ShieldCheckIcon,component:Settings_AuditLogs,requiredRoles:['super_admin','admin'],description:'Ø¹Ø±Ø¶ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØ£Ù†Ø´Ø·Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†',gradient:'linear-gradient(135deg, var(--apple-amber-500) 0%, var(--apple-orange-600) 100%)',shadowColor:'rgba(245, 158, 11, 0.3)'}];// Get user role from various sources
const storedUser=localStorage.getItem('user');let userRole=user===null||user===void 0?void 0:user.role;if(!userRole&&storedUser){try{const parsedUser=JSON.parse(storedUser);userRole=parsedUser.role;}catch(e){console.error('Error parsing stored user:',e);}}// Debug logging
console.log('[Settings] User role:',userRole);console.log('[Settings] User data:',user);console.log('[Settings] hasRole function available:',typeof hasRole==='function');// Filter tabs based on user role - always show for admin/super_admin
const availableTabs=settingsTabs.filter(tab=>{if(!tab.requiredRoles||tab.requiredRoles.length===0)return true;// Check if user has admin or super_admin role
const isAdmin=userRole==='admin'||userRole==='super_admin';if(isAdmin)return true;// Check if user has required role using hasRole function if available
if(hasRole&&typeof hasRole==='function'){return hasRole(tab.requiredRoles);}// Fallback: check userRole directly
if(userRole){return tab.requiredRoles.includes(userRole);}return false;});// Debug available tabs
console.log('[Settings] Available tabs:',availableTabs.map(t=>t.id));console.log('[Settings] Active tab:',activeTab);// Set first available tab as default
(0,react.useEffect)(()=>{if(availableTabs.length>0&&!availableTabs.find(tab=>tab.id===activeTab)){setActiveTab(availableTabs[0].id);}},[availableTabs,activeTab]);const activeTabData=availableTabs.find(tab=>tab.id===activeTab);const ActiveComponent=activeTabData===null||activeTabData===void 0?void 0:activeTabData.component;// Premium Header Component
const PremiumHeader=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"glass-container-strong slide-in-up",style:{marginBottom:'2rem',position:'relative',overflow:'hidden'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{position:'absolute',top:0,left:0,right:0,bottom:0,background:'linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(147, 51, 234, 0.1) 100%)',zIndex:1}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"floating-element",style:{position:'absolute',top:'20px',right:'20px',width:'100px',height:'100px',background:'linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(147, 51, 234, 0.1) 100%)',borderRadius:'50%',filter:'blur(20px)',zIndex:1}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{position:'relative',zIndex:2,padding:'2rem'},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',flexDirection:'column',gap:'1.5rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',flexWrap:'wrap',gap:'1rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"breathing-element",style:{width:'64px',height:'64px',background:'linear-gradient(135deg, var(--apple-blue-600) 0%, var(--apple-purple-600) 100%)',borderRadius:'var(--radius-xl)',display:'flex',alignItems:'center',justifyContent:'center',boxShadow:'var(--apple-shadow-lg)',position:'relative',overflow:'hidden'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{position:'absolute',top:'-50%',left:'-50%',width:'200%',height:'200%',background:'linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent)',animation:'shimmer 3s infinite'}}),/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CogIcon,{style:{width:'32px',height:'32px',color:'white',zIndex:1}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{style:{fontSize:'2.25rem',fontWeight:'700',color:'var(--apple-gray-900)',marginBottom:'0.5rem',fontFamily:'var(--font-display)'},children:"\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{fontSize:'1.125rem',color:'var(--apple-gray-600)',fontFamily:'var(--font-display)',fontWeight:'500'},children:"\u0625\u062F\u0627\u0631\u0629 \u0648\u062A\u0643\u0648\u064A\u0646 \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0646\u0638\u0627\u0645 \u0639\u0627\u0626\u0644\u0629 \u0627\u0644\u0634\u0639\u064A\u0644"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'inline-flex',alignItems:'center',gap:'0.5rem',padding:'0.75rem 1.5rem',background:'linear-gradient(135deg, var(--apple-green-500) 0%, var(--apple-emerald-600) 100%)',color:'white',borderRadius:'var(--radius-full)',fontSize:'14px',fontWeight:'600',boxShadow:'var(--apple-shadow-md)'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.SparklesIcon,{style:{width:'16px',height:'16px'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:(user===null||user===void 0?void 0:user.role)==='super_admin'?'Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø£Ø¹Ù„Ù‰':(user===null||user===void 0?void 0:user.role)||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"pill-navigation",children:availableTabs.map(tab=>{const Icon=tab.icon;return/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setActiveTab(tab.id),className:"pill-tab ".concat(activeTab===tab.id?'active':''),children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Icon,{style:{width:'16px',height:'16px'}}),tab.label]},tab.id);})})]})})]});// Access Denied Component
const AccessDenied=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',padding:'4rem 2rem',textAlign:'center'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{width:'120px',height:'120px',background:'linear-gradient(135deg, var(--apple-red-500) 0%, var(--apple-rose-500) 100%)',borderRadius:'50%',display:'flex',alignItems:'center',justifyContent:'center',marginBottom:'2rem',boxShadow:'var(--apple-shadow-lg)'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ExclamationTriangleIcon,{style:{width:'60px',height:'60px',color:'white'}})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{style:{fontSize:'1.5rem',fontWeight:'700',color:'var(--apple-gray-900)',marginBottom:'1rem',fontFamily:'var(--font-display)'},children:"\u0644\u064A\u0633 \u0644\u062F\u064A\u0643 \u0635\u0644\u0627\u062D\u064A\u0629 \u0644\u0644\u0648\u0635\u0648\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{fontSize:'1rem',color:'var(--apple-gray-600)',marginBottom:'1.5rem',fontFamily:'var(--font-display)',lineHeight:'1.6'},children:"\u0647\u0630\u0647 \u0627\u0644\u0635\u0641\u062D\u0629 \u0645\u062E\u0635\u0635\u0629 \u0644\u0644\u0645\u062F\u064A\u0631\u064A\u0646 \u0641\u0642\u0637. \u064A\u0631\u062C\u0649 \u0627\u0644\u062A\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0645\u062F\u064A\u0631 \u0627\u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629."}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'inline-flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'rgba(239, 68, 68, 0.1)',color:'var(--apple-red-500)',borderRadius:'var(--radius-lg)',fontSize:'14px',fontWeight:'500'},children:["\u0627\u0644\u062F\u0648\u0631 \u0627\u0644\u062D\u0627\u0644\u064A: ",(user===null||user===void 0?void 0:user.role)||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯']})]});// Loading State
if(loading){return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 50%, #f3e8ff 100%)',padding:'1.5rem',display:'flex',alignItems:'center',justifyContent:'center'},dir:"rtl",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"glass-container",style:{padding:'3rem',textAlign:'center'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"loading-spinner",style:{width:'40px',height:'40px',margin:'0 auto 1.5rem',borderWidth:'3px',borderTopColor:'var(--apple-blue-600)'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'1.125rem',color:'var(--apple-gray-600)',fontFamily:'var(--font-display)',fontWeight:'500'},children:"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A..."})]})});}// userRole already extracted above
// No Access for Non-Admins - check if user has admin or super_admin role
const isAdmin=userRole==='admin'||userRole==='super_admin';if(!isAdmin){return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 50%, #f3e8ff 100%)',padding:'1.5rem',position:'relative',overflow:'hidden'},dir:"rtl",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{maxWidth:'800px',margin:'0 auto',position:'relative',zIndex:1},children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"glass-container slide-in-up",children:/*#__PURE__*/(0,jsx_runtime.jsx)(AccessDenied,{})})})});}return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 50%, #f3e8ff 100%)',padding:'1.5rem',position:'relative',overflow:'hidden'},dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"floating-element",style:{position:'absolute',top:'10%',left:'10%',width:'200px',height:'200px',background:'linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(147, 51, 234, 0.1) 100%)',borderRadius:'50%',filter:'blur(40px)',zIndex:0}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"floating-element",style:{position:'absolute',bottom:'10%',right:'10%',width:'150px',height:'150px',background:'linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(34, 197, 94, 0.1) 100%)',borderRadius:'50%',filter:'blur(30px)',zIndex:0,animationDelay:'2s'}}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{maxWidth:'1400px',margin:'0 auto',position:'relative',zIndex:1},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(PremiumHeader,{}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"glass-container slide-in-up",style:{padding:'2rem',minHeight:'600px',animationDelay:'200ms'},children:[activeTabData&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'center',gap:'1rem',marginBottom:'2rem',padding:'1rem',background:activeTabData.gradient,borderRadius:'var(--radius-xl)',color:'white'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{width:'48px',height:'48px',background:'rgba(255, 255, 255, 0.2)',borderRadius:'var(--radius-lg)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(activeTabData.icon,{style:{width:'24px',height:'24px'}})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{style:{fontSize:'1.5rem',fontWeight:'700',marginBottom:'0.25rem',fontFamily:'var(--font-display)'},children:activeTabData.label}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{fontSize:'0.875rem',opacity:0.9,fontFamily:'var(--font-display)'},children:activeTabData.description})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{position:'relative'},children:ActiveComponent?/*#__PURE__*/(0,jsx_runtime.jsx)(ActiveComponent,{}):/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{padding:'2rem',textAlign:'center',color:'var(--apple-gray-600)'},children:/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u062D\u062A\u0648\u0649..."})})})]}),availableTabs.length===0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{textAlign:'center',padding:'3rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.KeyIcon,{style:{width:'64px',height:'64px',margin:'0 auto 1rem',color:'var(--apple-gray-400)'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'1.125rem',color:'var(--apple-gray-600)',fontFamily:'var(--font-display)',fontWeight:'500'},children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0645\u062A\u0627\u062D\u0629 \u0644\u062F\u0648\u0631\u0643 \u0627\u0644\u062D\u0627\u0644\u064A"})]})]})]})]});};/* harmony default export */ const Settings_Settings = (Settings);
// EXTERNAL MODULE: ./node_modules/xlsx/xlsx.mjs
var xlsx = __webpack_require__(5271);
// EXTERNAL MODULE: ./node_modules/jspdf/dist/jspdf.es.min.js + 23 modules
var jspdf_es_min = __webpack_require__(2900);
// EXTERNAL MODULE: ./node_modules/jspdf-autotable/dist/jspdf.plugin.autotable.mjs
var jspdf_plugin_autotable = __webpack_require__(4620);
// EXTERNAL MODULE: ./node_modules/framer-motion/dist/es/index.mjs + 390 modules
var es = __webpack_require__(7299);
;// ./src/components/MemberStatement/MemberStatementSearch.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const MemberStatementSearch = ({});
;// ./src/components/MemberStatement/MemberStatementSearch.jsx
// Using API instead of direct Supabase connection
const MemberStatementSearch_MemberStatementSearch=()=>{const[searchQuery,setSearchQuery]=(0,react.useState)('');const[searchResults,setSearchResults]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(false);const[selectedMember,setSelectedMember]=(0,react.useState)(null);const[memberStatement,setMemberStatement]=(0,react.useState)(null);const[error,setError]=(0,react.useState)('');const[showAutoComplete,setShowAutoComplete]=(0,react.useState)(false);// Yearly payment requirements
const YEARLY_AMOUNT=600;// SAR per year
const MINIMUM_BALANCE=3000;// SAR minimum required
// Debounced search function with Supabase integration
const searchMembers=(0,react.useCallback)(async query=>{if(!query||query.length<2){setSearchResults([]);setShowAutoComplete(false);return;}setLoading(true);setError('');try{// Use API for search
const API_URL="http://localhost:3001"||0;const token=localStorage.getItem('token');const response=await fetch("".concat(API_URL,"/api/members?search=").concat(encodeURIComponent(query),"&limit=10"),{headers:{'Authorization':"Bearer ".concat(token)}});if(!response.ok){throw new Error('ÙØ´Ù„ Ø§Ù„Ø¨Ø­Ø«');}const apiData=await response.json();const members=apiData.data||apiData.members||[];// Transform data to expected format
const results=members.map(m=>({id:m.id,member_no:m.membership_number||m.member_no,full_name:m.full_name,phone:m.phone,tribal_section:m.tribal_section,balance:m.balance||0}));setSearchResults(results);setShowAutoComplete(true);}catch(error){console.error('Search error:',error);setError('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¨Ø­Ø«');}finally{setLoading(false);}},[]);// Load initial members on component mount
(0,react.useEffect)(()=>{const loadInitialMembers=async()=>{setLoading(true);try{const API_URL="http://localhost:3001"||0;const token=localStorage.getItem('token');const response=await fetch("".concat(API_URL,"/api/members"),{headers:{'Authorization':"Bearer ".concat(token)}});if(response.ok){const apiData=await response.json();const members=apiData.data||apiData.members||[];const results=members.map(m=>({id:m.id,member_no:m.membership_number||m.member_no,full_name:m.full_name,phone:m.phone,tribal_section:m.tribal_section,balance:m.balance||0}));setSearchResults(results);setShowAutoComplete(false);// Don't show autocomplete on initial load
}}catch(error){console.error('Error loading initial members:',error);}finally{setLoading(false);}};loadInitialMembers();},[]);// Handle search input change with debouncing
(0,react.useEffect)(()=>{if(searchQuery.length>1){const timer=setTimeout(()=>{searchMembers(searchQuery);},300);return()=>clearTimeout(timer);}},[searchQuery,searchMembers]);// Payment status icon
const getStatusIcon=status=>{switch(status){case'paid':return/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"w-5 h-5 text-green-500"});case'partial':return/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ClockIcon,{className:"w-5 h-5 text-yellow-500"});default:return/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XCircleIcon,{className:"w-5 h-5 text-red-500"});}};// Payment status badge
const getStatusBadge=status=>{const statusConfig={paid:{text:'Ù…Ø¯ÙÙˆØ¹',className:'bg-green-100 text-green-800'},partial:{text:'Ø¬Ø²Ø¦ÙŠ',className:'bg-yellow-100 text-yellow-800'},pending:{text:'Ù…Ø¹Ù„Ù‚',className:'bg-red-100 text-red-800'}};const config=statusConfig[status]||statusConfig.pending;return/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(config.className),children:config.text});};// Calculate payment progress
const paymentProgress=(0,react.useMemo)(()=>{if(!memberStatement)return 0;return Math.min(100,memberStatement.totalPaid/memberStatement.totalRequired*100);},[memberStatement]);// Load member statement with payment details
const loadMemberStatement=async member=>{setLoading(true);setError('');try{var _payments$;// Generate mock payment data based on member's balance
const memberBalance=member.balance||0;const payments=[];// Distribute balance across years
if(memberBalance>0){const yearsWithPayment=Math.min(5,Math.floor(memberBalance/600));for(let i=0;i<yearsWithPayment;i++){payments.push({year:2021+i,amount:600,payment_date:"".concat(2021+i,"-06-15"),receipt_number:"RCP-".concat(2021+i,"-").concat(member.member_no),payment_method:'Ø¨Ù†Ùƒ Ø§Ù„Ø±Ø§Ø¬Ø­ÙŠ'});}// Add partial payment if balance is not divisible by 600
const remainder=memberBalance%600;if(remainder>0&&yearsWithPayment<5){payments.push({year:2021+yearsWithPayment,amount:remainder,payment_date:"".concat(2021+yearsWithPayment,"-06-15"),receipt_number:"RCP-".concat(2021+yearsWithPayment,"-").concat(member.member_no),payment_method:'ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ'});}}const paymentsError=null;if(paymentsError&&paymentsError.code!=='PGRST116'){console.error('Payments fetch error:',paymentsError);}// Calculate statement data
const years=[2021,2022,2023,2024,2025];const yearlyPayments=years.map(year=>{const payment=payments===null||payments===void 0?void 0:payments.find(p=>p.year===year);return{year,required:YEARLY_AMOUNT,paid:(payment===null||payment===void 0?void 0:payment.amount)||0,status:(payment===null||payment===void 0?void 0:payment.amount)>=YEARLY_AMOUNT?'paid':(payment===null||payment===void 0?void 0:payment.amount)>0?'partial':'pending',paymentDate:payment===null||payment===void 0?void 0:payment.payment_date,receiptNumber:payment===null||payment===void 0?void 0:payment.receipt_number,paymentMethod:payment===null||payment===void 0?void 0:payment.payment_method};});const totalPaid=yearlyPayments.reduce((sum,p)=>sum+p.paid,0);const totalRequired=years.length*YEARLY_AMOUNT;const outstandingBalance=Math.max(0,totalRequired-totalPaid);const complianceStatus=totalPaid>=MINIMUM_BALANCE?'compliant':'non-compliant';setSelectedMember(member);setMemberStatement({member:member,yearlyPayments,totalPaid,totalRequired,outstandingBalance,complianceStatus,lastPaymentDate:payments===null||payments===void 0?void 0:(_payments$=payments[0])===null||_payments$===void 0?void 0:_payments$.payment_date});setShowAutoComplete(false);}catch(err){console.error('Error loading statement:',err);setError('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ ÙƒØ´Ù Ø§Ù„Ø­Ø³Ø§Ø¨');}finally{setLoading(false);}};// Handle member selection
const handleMemberSelect=member=>{loadMemberStatement(member);setSearchQuery(member.full_name);};// Print statement
const handlePrint=()=>{const printWindow=window.open('','_blank');const printContent=document.getElementById('statement-content');printWindow.document.write("\n      <html dir=\"rtl\">\n        <head>\n          <title>\u0643\u0634\u0641 \u062D\u0633\u0627\u0628 - ".concat(selectedMember===null||selectedMember===void 0?void 0:selectedMember.full_name,"</title>\n          <style>\n            @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap');\n            body {\n              font-family: 'Cairo', sans-serif;\n              direction: rtl;\n              padding: 20px;\n              background: white;\n            }\n            .header {\n              text-align: center;\n              margin-bottom: 30px;\n              padding-bottom: 20px;\n              border-bottom: 2px solid #ddd;\n            }\n            .member-info {\n              margin-bottom: 30px;\n              display: grid;\n              grid-template-columns: repeat(2, 1fr);\n              gap: 15px;\n            }\n            .info-item {\n              padding: 10px;\n              background: #f8f9fa;\n              border-radius: 8px;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              margin-top: 20px;\n            }\n            th, td {\n              padding: 12px;\n              border: 1px solid #ddd;\n              text-align: right;\n            }\n            th {\n              background: #2980b9;\n              color: white;\n            }\n            .status-paid { color: green; }\n            .status-partial { color: orange; }\n            .status-pending { color: red; }\n            .summary {\n              margin-top: 30px;\n              padding: 20px;\n              background: #f8f9fa;\n              border-radius: 8px;\n              text-align: center;\n            }\n            @media print {\n              body { margin: 0; }\n              .no-print { display: none; }\n            }\n          </style>\n        </head>\n        <body>\n          ").concat((printContent===null||printContent===void 0?void 0:printContent.innerHTML)||'',"\n        </body>\n      </html>\n    "));printWindow.document.close();setTimeout(()=>{printWindow.print();},250);};// Export to Excel with XLSX
const handleExport=()=>{if(!memberStatement)return;const data=memberStatement.yearlyPayments.map(payment=>({'Ø§Ù„Ø³Ù†Ø©':payment.year,'Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨':"".concat(payment.required," \u0631\u064A\u0627\u0644"),'Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹':"".concat(payment.paid," \u0631\u064A\u0627\u0644"),'Ø§Ù„Ø­Ø§Ù„Ø©':payment.status==='paid'?'Ù…Ø¯ÙÙˆØ¹':payment.status==='partial'?'Ø¬Ø²Ø¦ÙŠ':'Ù…Ø¹Ù„Ù‚','ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¯ÙØ¹':payment.paymentDate||'-','Ø±Ù‚Ù… Ø§Ù„Ø¥ÙŠØµØ§Ù„':payment.receiptNumber||'-'}));// Add summary row
data.push({'Ø§Ù„Ø³Ù†Ø©':'Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ','Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨':"".concat(memberStatement.totalRequired," \u0631\u064A\u0627\u0644"),'Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹':"".concat(memberStatement.totalPaid," \u0631\u064A\u0627\u0644"),'Ø§Ù„Ø­Ø§Ù„Ø©':memberStatement.complianceStatus==='compliant'?'Ù…Ù„ØªØ²Ù…':'ØºÙŠØ± Ù…Ù„ØªØ²Ù…','ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¯ÙØ¹':'','Ø±Ù‚Ù… Ø§Ù„Ø¥ÙŠØµØ§Ù„':''});const ws=xlsx.utils.json_to_sheet(data);const wb=xlsx.utils.book_new();xlsx.utils.book_append_sheet(wb,ws,'ÙƒØ´Ù Ø§Ù„Ø­Ø³Ø§Ø¨');// Generate filename with member ID and timestamp
const fileName="statement_".concat(selectedMember.member_no,"_").concat(new Date().toISOString().split('T')[0],".xlsx");xlsx.writeFile(wb,fileName);};// Export to PDF
const exportToPDF=()=>{if(!memberStatement)return;const doc=new jspdf_es_min["default"]({orientation:'portrait',unit:'mm',format:'a4'});// Set RTL
doc.setR2L(true);// Header
doc.setFontSize(20);doc.text('ÙƒØ´Ù Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ø¶Ùˆ',105,20,{align:'center'});// Member info
doc.setFontSize(12);const memberInfo=["\u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648: ".concat(selectedMember.member_no),"\u0627\u0644\u0627\u0633\u0645: ".concat(selectedMember.full_name),"\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644: ".concat(selectedMember.phone||'-'),"\u0627\u0644\u0641\u062E\u0630: ".concat(selectedMember.tribal_section||'-')];let yPosition=40;memberInfo.forEach(info=>{doc.text(info,190,yPosition,{align:'right'});yPosition+=10;});// Payment table
const tableData=memberStatement.yearlyPayments.map(payment=>[payment.status==='paid'?'âœ“':payment.status==='partial'?'â—':'âœ—',payment.paymentDate||'-',"".concat(payment.paid," \u0631\u064A\u0627\u0644"),"".concat(payment.required," \u0631\u064A\u0627\u0644"),payment.year]);// Add summary row
tableData.push([memberStatement.complianceStatus==='compliant'?'âœ“':'âœ—','',"".concat(memberStatement.totalPaid," \u0631\u064A\u0627\u0644"),"".concat(memberStatement.totalRequired," \u0631\u064A\u0627\u0644"),'Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ']);doc.autoTable({head:[['Ø§Ù„Ø­Ø§Ù„Ø©','ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¯ÙØ¹','Ø§Ù„Ù…Ø¯ÙÙˆØ¹','Ø§Ù„Ù…Ø·Ù„ÙˆØ¨','Ø§Ù„Ø³Ù†Ø©']],body:tableData,startY:yPosition+10,styles:{font:'helvetica',halign:'right',fontSize:11},headStyles:{fillColor:[41,128,185],textColor:255},columnStyles:{0:{halign:'center',cellWidth:20},1:{cellWidth:40},2:{cellWidth:35},3:{cellWidth:35},4:{cellWidth:25}}});// Footer with outstanding balance
const finalY=doc.lastAutoTable.finalY+20;doc.setFontSize(14);doc.setTextColor(memberStatement.outstandingBalance>0?255:0,memberStatement.outstandingBalance>0?0:128,0);doc.text("\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062A\u0628\u0642\u064A: ".concat(memberStatement.outstandingBalance," \u0631\u064A\u0627\u0644"),105,finalY,{align:'center'});// Save PDF
const fileName="statement_".concat(selectedMember.member_no,"_").concat(new Date().toISOString().split('T')[0],".pdf");doc.save(fileName);};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-statement-container",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"statement-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"statement-title",children:"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0643\u0634\u0641 \u0627\u0644\u062D\u0633\u0627\u0628"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"statement-subtitle",children:"\u0627\u0628\u062D\u062B \u0639\u0646 \u0627\u0644\u0639\u0636\u0648 \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 \u0644\u0639\u0631\u0636 \u0643\u0634\u0641 \u0627\u0644\u062D\u0633\u0627\u0628"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"search-section",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"search-input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MagnifyingGlassIcon,{className:"search-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"search-input",placeholder:"\u0627\u0628\u062D\u062B \u0628\u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u060C \u0627\u0644\u0627\u0633\u0645\u060C \u0623\u0648 \u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644...",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),dir:"rtl"}),loading&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"search-loading",children:"\u062C\u0627\u0631\u064A \u0627\u0644\u0628\u062D\u062B..."})]}),error&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"search-error",children:error}),/*#__PURE__*/(0,jsx_runtime.jsx)(es.AnimatePresence,{children:showAutoComplete&&searchResults.length>0&&/*#__PURE__*/(0,jsx_runtime.jsx)(es.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"autocomplete-dropdown",children:searchResults.map(member=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{onClick:()=>handleMemberSelect(member),className:"autocomplete-item",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"font-medium",children:member.full_name}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-sm text-gray-500",children:member.member_no})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[member.phone," \u2022 ",member.tribal_section]})]},member.id))})})]}),!memberStatement&&searchResults.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"members-table-section",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"table-header",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h2",{className:"table-title",children:["\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0623\u0639\u0636\u0627\u0621: ",searchResults.length," \u0639\u0636\u0648"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"table-stats",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-item stat-good",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"stat-icon"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0645\u0643\u062A\u0645\u0644: ",searchResults.filter(m=>m.balance>=MINIMUM_BALANCE).length]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-item stat-warning",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XCircleIcon,{className:"stat-icon"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u063A\u064A\u0631 \u0645\u0643\u062A\u0645\u0644: ",searchResults.filter(m=>m.balance<MINIMUM_BALANCE).length]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"table-subtitle",children:"\u0627\u0636\u063A\u0637 \u0639\u0644\u0649 \u0623\u064A \u0639\u0636\u0648 \u0644\u0639\u0631\u0636 \u0643\u0634\u0641 \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u062A\u0641\u0635\u064A\u0644\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"members-table-container desktop-view",dir:"rtl",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("table",{className:"members-table",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("thead",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0641\u062E\u0630"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0631\u0635\u064A\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u062D\u0627\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("tbody",{children:searchResults.map(member=>/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{className:"member-row",onClick:()=>handleMemberSelect(member),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-no",children:member.member_no}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-name",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"name-cell",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"name-icon"}),member.full_name]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-phone",children:member.phone||'ØºÙŠØ± Ù…ØªÙˆÙØ±'}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-section",children:member.tribal_section||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}),/*#__PURE__*/(0,jsx_runtime.jsxs)("td",{className:"member-balance ".concat(member.balance>=MINIMUM_BALANCE?'balance-good':'balance-low'),children:[new Intl.NumberFormat('ar-SA').format(member.balance||0)," \u0631.\u0633"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-status",children:member.balance>=MINIMUM_BALANCE?/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"status-badge status-good",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"status-icon"}),"\u0645\u0643\u062A\u0645\u0644"]}):/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"status-badge status-warning",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XCircleIcon,{className:"status-icon"}),"\u063A\u064A\u0631 \u0645\u0643\u062A\u0645\u0644"]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-actions",onClick:e=>e.stopPropagation(),children:/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>handleMemberSelect(member),className:"view-btn",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MagnifyingGlassIcon,{className:"btn-icon"}),"\u0639\u0631\u0636 \u0627\u0644\u0643\u0634\u0641"]})})]},member.id))})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"members-cards-container mobile-view",children:searchResults.map(member=>/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"member-card",onClick:()=>handleMemberSelect(member),whileHover:{scale:1.02},whileTap:{scale:0.98},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"card-header",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"card-member-info",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"card-icon"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"card-name",children:member.full_name}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"card-member-no",children:member.member_no})]})]}),member.balance>=MINIMUM_BALANCE?/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"card-status-icon status-good"}):/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XCircleIcon,{className:"card-status-icon status-warning"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"card-details",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"card-detail-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhoneIcon,{className:"detail-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:member.phone||'ØºÙŠØ± Ù…ØªÙˆÙØ±'})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"card-detail-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HomeIcon,{className:"detail-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:member.tribal_section||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"card-detail-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CurrencyDollarIcon,{className:"detail-icon"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:member.balance>=MINIMUM_BALANCE?'balance-good':'balance-low',children:[new Intl.NumberFormat('ar-SA').format(member.balance||0)," \u0631.\u0633"]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"card-view-btn",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MagnifyingGlassIcon,{className:"btn-icon"}),"\u0639\u0631\u0636 \u0643\u0634\u0641 \u0627\u0644\u062D\u0633\u0627\u0628"]})]},member.id))})]}),memberStatement&&/*#__PURE__*/(0,jsx_runtime.jsx)(es.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"statement-display",id:"statement-content",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"statement-card",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"statement-member-header",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-info-section",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"member-avatar",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"w-12 h-12"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-details",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{children:selectedMember.full_name}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-meta",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"meta-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"w-4 h-4"}),selectedMember.member_no]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"meta-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhoneIcon,{className:"w-4 h-4"}),selectedMember.phone||'ØºÙŠØ± Ù…ØªÙˆÙØ±']}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"meta-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HomeIcon,{className:"w-4 h-4"}),selectedMember.tribal_section||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯']})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"statement-actions",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:handlePrint,className:"action-btn print-btn",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PrinterIcon,{className:"btn-icon"}),"\u0637\u0628\u0627\u0639\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:handleExport,className:"action-btn export-btn",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentArrowDownIcon,{className:"btn-icon"}),"Excel"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:exportToPDF,className:"action-btn pdf-btn",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentArrowDownIcon,{className:"btn-icon"}),"PDF"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>{setSelectedMember(null);setMemberStatement(null);setSearchQuery('');},className:"action-btn back-btn",children:"\u0631\u062C\u0648\u0639 \u0644\u0644\u0628\u062D\u062B"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"summary-stats",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-card",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-value",children:[memberStatement.totalPaid," \u0631\u064A\u0627\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"stat-label",children:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-card",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-value",children:[memberStatement.totalRequired," \u0631\u064A\u0627\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"stat-label",children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-card",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-value ".concat(memberStatement.outstandingBalance>0?'text-red-500':'text-green-500'),children:[memberStatement.outstandingBalance," \u0631\u064A\u0627\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"stat-label",children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062A\u0628\u0642\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"stat-badge ".concat(memberStatement.complianceStatus==='compliant'?'compliant':'non-compliant'),children:memberStatement.complianceStatus==='compliant'?'Ù…Ù„ØªØ²Ù…':'ØºÙŠØ± Ù…Ù„ØªØ²Ù…'}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"stat-label",children:"\u062D\u0627\u0644\u0629 \u0627\u0644\u0627\u0644\u062A\u0632\u0627\u0645"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-progress",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"progress-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0646\u0633\u0628\u0629 \u0627\u0644\u0633\u062F\u0627\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:[Math.round(paymentProgress),"%"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"progress-bar",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"progress-fill",style:{width:"".concat(paymentProgress,"%")}})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"statement-table-wrapper",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"table-title",children:"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A \u0627\u0644\u0633\u0646\u0648\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("table",{className:"statement-table",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("thead",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0633\u0646\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062F\u0641\u0648\u0639"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0628\u0627\u0642\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u062D\u0627\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062F\u0641\u0639"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0631\u0642\u0645 \u0627\u0644\u0625\u064A\u0635\u0627\u0644"})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("tbody",{children:memberStatement.yearlyPayments.map(payment=>/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{className:"payment-row ".concat(payment.status),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"font-medium",children:payment.year}),/*#__PURE__*/(0,jsx_runtime.jsxs)("td",{children:[payment.required," \u0631\u064A\u0627\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("td",{className:payment.paid>0?'text-green-600':'',children:[payment.paid," \u0631\u064A\u0627\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("td",{className:payment.required-payment.paid>0?'text-red-600':'',children:[Math.max(0,payment.required-payment.paid)," \u0631\u064A\u0627\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[getStatusIcon(payment.status),getStatusBadge(payment.status)]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:payment.paymentDate?new Date(payment.paymentDate).toLocaleDateString('ar-SA'):'-'}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:payment.receiptNumber||'-'})]},payment.year))})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-chart-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"\u0631\u0633\u0645 \u0628\u064A\u0627\u0646\u064A \u0644\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"chart-container",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"bar-chart",children:memberStatement.yearlyPayments.map(payment=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"chart-bar-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"chart-bar",style:{height:"".concat(payment.paid/payment.required*100,"%"),backgroundColor:payment.status==='paid'?'#10b981':payment.status==='partial'?'#f59e0b':'#ef4444'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"chart-label",children:payment.year}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"chart-value",children:payment.paid})]},payment.year))})})]})]})})]});};/* harmony default export */ const MemberStatement_MemberStatementSearch = (MemberStatementSearch_MemberStatementSearch);
;// ./src/components/MemberMonitoring/MemberMonitoringDashboard.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const MemberMonitoringDashboard = ({});
;// ./src/components/MemberMonitoring/MemberMonitoringDashboard.jsx
const MemberMonitoringDashboard_MemberMonitoringDashboard=()=>{// State Management with Performance Optimizations
const[members,setMembers]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[error,setError]=(0,react.useState)(null);const[initialLoadComplete,setInitialLoadComplete]=(0,react.useState)(false);// Cache ref to store fetched data
const membersCache=(0,react.useRef)(null);const lastFetchTime=(0,react.useRef)(null);const CACHE_DURATION=5*60*1000;// 5 minutes cache
// Filter States with debouncing
const[searchMemberId,setSearchMemberId]=(0,react.useState)('');const[searchName,setSearchName]=(0,react.useState)('');const[searchPhone,setSearchPhone]=(0,react.useState)('');// Debounced search values for performance
const[debouncedSearchMemberId,setDebouncedSearchMemberId]=(0,react.useState)('');const[debouncedSearchName,setDebouncedSearchName]=(0,react.useState)('');const[debouncedSearchPhone,setDebouncedSearchPhone]=(0,react.useState)('');const[selectedTribalSection,setSelectedTribalSection]=(0,react.useState)('all');// Balance Filter States
const[balanceFilterType,setBalanceFilterType]=(0,react.useState)('all');// all, comparison, range, category
const[balanceComparison,setBalanceComparison]=(0,react.useState)('greater');// greater, less, equal
const[balanceComparisonAmount,setBalanceComparisonAmount]=(0,react.useState)('');const[balanceRangeFrom,setBalanceRangeFrom]=(0,react.useState)('');const[balanceRangeTo,setBalanceRangeTo]=(0,react.useState)('');const[balanceCategory,setBalanceCategory]=(0,react.useState)('all');// all, compliant, non-compliant, critical, excellent
const[showAdvancedFilters,setShowAdvancedFilters]=(0,react.useState)(false);// Pagination States
const[currentPage,setCurrentPage]=(0,react.useState)(1);const[pageSize,setPageSize]=(0,react.useState)(50);// Increased to 50 for better performance
// Modal States
const[showSuspendModal,setShowSuspendModal]=(0,react.useState)(false);const[showNotifyModal,setShowNotifyModal]=(0,react.useState)(false);const[selectedMember,setSelectedMember]=(0,react.useState)(null);const[suspendConfirmStep,setSuspendConfirmStep]=(0,react.useState)(1);// API Configuration - Use environment variable or fallback to production
const API_URL="http://localhost:3001"||(0);// Tribal Sections (Ø§Ù„ÙØ®Ø°)
const tribalSections=[{value:'all',label:'Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ®ÙˆØ°'},{value:'Ø±Ø´ÙˆØ¯',label:'Ø±Ø´ÙˆØ¯'},{value:'Ø§Ù„Ø¯ØºÙŠØ´',label:'Ø§Ù„Ø¯ØºÙŠØ´'},{value:'Ø±Ø´ÙŠØ¯',label:'Ø±Ø´ÙŠØ¯'},{value:'Ø§Ù„Ø¹ÙŠØ¯',label:'Ø§Ù„Ø¹ÙŠØ¯'},{value:'Ø§Ù„Ø±Ø´ÙŠØ¯',label:'Ø§Ù„Ø±Ø´ÙŠØ¯'},{value:'Ø§Ù„Ø´Ø¨ÙŠØ¹Ø§Ù†',label:'Ø§Ù„Ø´Ø¨ÙŠØ¹Ø§Ù†'},{value:'Ø§Ù„Ù…Ø³Ø¹ÙˆØ¯',label:'Ø§Ù„Ù…Ø³Ø¹ÙˆØ¯'},{value:'Ø¹Ù‚Ø§Ø¨',label:'Ø¹Ù‚Ø§Ø¨'}];// Fetch Members Data with Caching and Comprehensive Error Handling
const fetchMembers=async function(){let forceRefresh=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;try{// Check cache first
if(!forceRefresh&&membersCache.current&&lastFetchTime.current){const timeSinceLastFetch=Date.now()-lastFetchTime.current;if(timeSinceLastFetch<CACHE_DURATION){console.log('âœ… Using cached data');setMembers(membersCache.current);setInitialLoadComplete(true);setLoading(false);return;}}// Only show loading on initial load or force refresh
if(!initialLoadComplete||forceRefresh){setLoading(true);}setError(null);// Prepare headers with optional authentication
const headers={'Content-Type':'application/json'};const token=localStorage.getItem('token');if(token){headers['Authorization']="Bearer ".concat(token);}// Try member-monitoring endpoint first with pagination
// Request all members at once for better client-side filtering and performance
let response=await fetch("".concat(API_URL,"/api/member-monitoring?limit=500&page=1"),{headers,mode:'cors',credentials:'include'});let data=null;let membersData=[];// If member-monitoring fails, try regular members endpoint
if(!response.ok&&response.status===404){console.log('âš ï¸ Trying fallback members endpoint...');response=await fetch("".concat(API_URL,"/api/members?limit=500&page=1"),{headers,mode:'cors',credentials:'include'});}// Check if response is ok
if(!response.ok){const errorText=await response.text();console.error('âŒ API Error:',response.status,errorText);throw new Error("API Error: ".concat(response.status));}// Parse response safely
try{data=await response.json();console.log('âœ… API Response received:',{hasData:!!data,hasDataProp:!!(data&&data.data),hasMembers:!!(data&&data.members),isArray:Array.isArray(data)});}catch(parseErr){console.error('âŒ Failed to parse response:',parseErr);throw new Error('Invalid response format from server');}// Extract members data with comprehensive checks
if(data){if(data.success===true&&data.data){// Standard successful response
if(data.data.members&&Array.isArray(data.data.members)){membersData=data.data.members;console.log('âœ… Found members in data.data.members');}else if(Array.isArray(data.data)){membersData=data.data;console.log('âœ… Found members in data.data array');}}else if(data.members&&Array.isArray(data.members)){// Direct members property
membersData=data.members;console.log('âœ… Found members in data.members');}else if(data.data&&Array.isArray(data.data)){// Data array directly
membersData=data.data;console.log('âœ… Found members in data.data');}else if(Array.isArray(data)){// Response is array directly
membersData=data;console.log('âœ… Found members as direct array');}}// Validate we have array data
if(!Array.isArray(membersData)){console.error('âŒ Members data is not an array:',typeof membersData,membersData);membersData=[];// Set to empty array to prevent crash
}console.log("\uD83D\uDCCA Processing ".concat(membersData.length," members..."));// Map the backend data to frontend format with safety checks
const formattedMembers=membersData.map(m=>{// Ensure m is an object
if(!m||typeof m!=='object'){console.warn('âš ï¸ Invalid member object:',m);return null;}return{id:m.id||"temp-".concat(Date.now(),"-").concat(Math.random()),memberId:m.membership_number||m.memberId||m.membershipNumber||'N/A',name:m.full_name||m.fullName||m.name||'ØºÙŠØ± Ù…ØªÙˆÙØ±',phone:m.phone||m.mobile||'ØºÙŠØ± Ù…ØªÙˆÙØ±',balance:parseFloat(m.total_balance||m.balance||m.totalBalance||0)||0,tribalSection:m.tribal_section||m.tribalSection||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',status:(parseFloat(m.total_balance||m.balance||m.totalBalance||0)||0)>=3000?'sufficient':'insufficient',isSuspended:m.is_suspended||m.isSuspended||m.membership_status==='suspended'||false};}).filter(m=>m!==null);// Remove any null entries
console.log('âœ… Formatted members:',formattedMembers.length);if(formattedMembers.length>0){console.log('âœ… Sample member:',formattedMembers[0]);}// Cache the data
membersCache.current=formattedMembers;lastFetchTime.current=Date.now();setMembers(formattedMembers);setInitialLoadComplete(true);setError(null);}catch(err){console.error('âŒ Error in fetchMembers:',err);// Set user-friendly error message
setError('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.');// Use mock data in development
if(false)// removed by dead control flow
{}else{// In production, set empty members to prevent crash
setMembers([]);}}finally{setLoading(false);setInitialLoadComplete(true);}};// Load Mock Data for Development
const loadMockData=()=>{const mockMembers=generateMockMembers();// Cache mock data as well
membersCache.current=mockMembers;lastFetchTime.current=Date.now();setMembers(mockMembers);setInitialLoadComplete(true);};// Generate Mock Members
const generateMockMembers=()=>{const names=['Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„','ÙØ§Ø·Ù…Ø© Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø´Ø¹ÙŠÙ„','Ù…Ø­Ù…Ø¯ Ø³Ø§Ù„Ù… Ø§Ù„Ø´Ø¹ÙŠÙ„','Ù†ÙˆØ±Ø§ Ø®Ø§Ù„Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„','Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø£Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„','Ù…Ø±ÙŠÙ… Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„Ø´Ø¹ÙŠÙ„'];const mockData=[];for(let i=1;i<=288;i++){const balance=Math.random()*5000;mockData.push({id:"member-".concat(i),memberId:"SH-".concat(String(10000+i)),name:names[i%names.length],phone:"050".concat(String(1000000+i).padStart(7,'0')),balance:Math.round(balance),tribalSection:tribalSections[1+i%8].value,status:balance>=3000?'sufficient':'insufficient',isSuspended:false});}return mockData;};// Debounce search inputs for better performance
(0,react.useEffect)(()=>{const timer=setTimeout(()=>{setDebouncedSearchMemberId(searchMemberId);},300);return()=>clearTimeout(timer);},[searchMemberId]);(0,react.useEffect)(()=>{const timer=setTimeout(()=>{setDebouncedSearchName(searchName);},300);return()=>clearTimeout(timer);},[searchName]);(0,react.useEffect)(()=>{const timer=setTimeout(()=>{setDebouncedSearchPhone(searchPhone);},300);return()=>clearTimeout(timer);},[searchPhone]);// Optimized filtering with useMemo and debounced values
const filteredMembers=(0,react.useMemo)(()=>{if(!members||members.length===0)return[];let filtered=[...members];// Filter by Member ID (using debounced value)
if(debouncedSearchMemberId){filtered=filtered.filter(m=>m.memberId&&m.memberId.toLowerCase().includes(debouncedSearchMemberId.toLowerCase()));}// Filter by Name (using debounced value)
if(debouncedSearchName){filtered=filtered.filter(m=>m.name&&m.name.includes(debouncedSearchName));}// Filter by Phone (using debounced value)
if(debouncedSearchPhone){filtered=filtered.filter(m=>m.phone&&m.phone.includes(debouncedSearchPhone));}// Filter by Tribal Section
if(selectedTribalSection!=='all'){filtered=filtered.filter(m=>m.tribalSection===selectedTribalSection);}// Apply Balance Filters
if(balanceFilterType==='comparison'&&balanceComparisonAmount){const amount=parseFloat(balanceComparisonAmount);if(!isNaN(amount)){filtered=filtered.filter(m=>{switch(balanceComparison){case'greater':return m.balance>amount;case'less':return m.balance<amount;case'equal':return m.balance===amount;default:return true;}});}}else if(balanceFilterType==='range'&&(balanceRangeFrom||balanceRangeTo)){const from=balanceRangeFrom?parseFloat(balanceRangeFrom):-Infinity;const to=balanceRangeTo?parseFloat(balanceRangeTo):Infinity;filtered=filtered.filter(m=>m.balance>=from&&m.balance<=to);}else if(balanceFilterType==='category'&&balanceCategory!=='all'){filtered=filtered.filter(m=>{switch(balanceCategory){case'compliant':return m.balance>=3000;case'non-compliant':return m.balance<3000;case'critical':return m.balance<1000;case'excellent':return m.balance>=5000;case'0-500':return m.balance>=0&&m.balance<=500;case'500-1000':return m.balance>500&&m.balance<=1000;case'1000-2000':return m.balance>1000&&m.balance<=2000;case'2000-3000':return m.balance>2000&&m.balance<3000;case'3000-5000':return m.balance>=3000&&m.balance<5000;case'5000+':return m.balance>=5000;default:return true;}});}return filtered;},[members,debouncedSearchMemberId,debouncedSearchName,debouncedSearchPhone,selectedTribalSection,balanceFilterType,balanceComparison,balanceComparisonAmount,balanceRangeFrom,balanceRangeTo,balanceCategory]);// Reset page when filters change
(0,react.useEffect)(()=>{setCurrentPage(1);},[filteredMembers]);// Pagination Logic
const totalPages=Math.ceil(filteredMembers.length/pageSize)||1;const validCurrentPage=Math.min(currentPage,totalPages);const startIndex=(validCurrentPage-1)*pageSize;const endIndex=startIndex+pageSize;const paginatedMembers=filteredMembers.slice(startIndex,endIndex);// Ensure current page is valid when page size changes
(0,react.useEffect)(()=>{if(currentPage>totalPages&&totalPages>0){setCurrentPage(1);}},[totalPages,currentPage]);// Handle Suspend Action
const handleSuspend=async member=>{setSelectedMember(member);setShowSuspendModal(true);setSuspendConfirmStep(1);};const confirmSuspend=async()=>{if(suspendConfirmStep===1){setSuspendConfirmStep(2);return;}try{// API call to suspend member
const response=await fetch("".concat(API_URL,"/api/member-monitoring/").concat(selectedMember.id,"/suspend"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':"Bearer ".concat(localStorage.getItem('token'))},body:JSON.stringify({reason:'Ø±ØµÙŠØ¯ Ø£Ù‚Ù„ Ù…Ù† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨',adminId:localStorage.getItem('userId')})});if(response.ok){// Update local state
const updatedMembers=members.map(m=>m.id===selectedMember.id?(0,objectSpread2["default"])((0,objectSpread2["default"])({},m),{},{isSuspended:true}):m);setMembers(updatedMembers);alert('ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¹Ø¶Ùˆ Ø¨Ù†Ø¬Ø§Ø­');}}catch(err){console.error('Error suspending member:',err);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¹Ø¶Ùˆ');}finally{setShowSuspendModal(false);setSuspendConfirmStep(1);}};// Get current user role
const getUserRole=()=>{const role=localStorage.getItem('userRole')||'admin';return role;};// Check if user can perform actions
const canPerformActions=()=>{const role=getUserRole();return role==='super_admin'||role==='finance_manager';};// Render Action Buttons based on permissions and balance
const renderActionButtons=member=>{const hasPermission=canPerformActions();const needsAction=member.balance<3000;// No actions for compliant members - show "---"
if(member.balance>=3000){return/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"no-action",children:"---"});}// Show disabled buttons for users without permission
if(!hasPermission){return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"action-buttons",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"action-btn suspend disabled",disabled:true,title:"\u0635\u0644\u0627\u062D\u064A\u0629 \u0645\u0637\u0644\u0648\u0628\u0629",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"btn-icon",children:"\uD83D\uDEAB"})," \u0625\u064A\u0642\u0627\u0641"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"action-btn notify disabled",disabled:true,title:"\u0635\u0644\u0627\u062D\u064A\u0629 \u0645\u0637\u0644\u0648\u0628\u0629",children:"\uD83D\uDCF1 \u0625\u0634\u0639\u0627\u0631"})]});}// Full action buttons for authorized users
return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"action-buttons",children:[!member.isSuspended&&/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"action-btn suspend",onClick:()=>handleSuspend(member),title:"\u0625\u064A\u0642\u0627\u0641 \u0627\u0644\u0639\u0636\u0648",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"btn-icon",children:"\uD83D\uDEAB"})," \u0625\u064A\u0642\u0627\u0641"]}),member.isSuspended&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"suspended-badge",children:"\u0645\u0648\u0642\u0648\u0641"}),/*#__PURE__*/(0,jsx_runtime.jsx)(NotificationDropdown,{member:member,onSend:sendNotificationToMember})]});};// Notification Dropdown Component
const NotificationDropdown=_ref=>{let{member,onSend}=_ref;const[showMenu,setShowMenu]=(0,react.useState)(false);return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"action-btn notify-dropdown",onClick:()=>setShowMenu(!showMenu),children:["\uD83D\uDCF1 ",/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0625\u0634\u0639\u0627\u0631"})," \u25BC"]}),showMenu&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-options",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-option",onClick:()=>{onSend(member,'app');setShowMenu(false);},children:"\uD83D\uDCF1 App Notification"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-option",onClick:()=>{onSend(member,'whatsapp');setShowMenu(false);},children:"\uD83D\uDCAC WhatsApp"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-option",onClick:()=>{onSend(member,'email');setShowMenu(false);},children:"\uD83D\uDCE7 Email"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-option",onClick:()=>{onSend(member,'all');setShowMenu(false);},children:"\uD83D\uDCBE All Channels"})]})]});};// Handle Notify Action
const handleNotify=async member=>{setSelectedMember(member);setShowNotifyModal(true);};// Send notification through specific channel
const sendNotificationToMember=async(member,channel)=>{const message=member.balance<3000?"\u0639\u0632\u064A\u0632\u064A ".concat(member.name,"\u060C \u0631\u0635\u064A\u062F\u0643 \u0627\u0644\u062D\u0627\u0644\u064A ").concat(member.balance," \u0631\u064A\u0627\u0644. \u0627\u0644\u0645\u0637\u0644\u0648\u0628 3000 \u0631\u064A\u0627\u0644 \u0643\u062D\u062F \u0623\u062F\u0646\u0649. \u064A\u0631\u062C\u0649 \u062A\u0633\u062F\u064A\u062F \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062A\u0628\u0642\u064A ").concat(3000-member.balance," \u0631\u064A\u0627\u0644."):"\u0639\u0632\u064A\u0632\u064A ".concat(member.name,"\u060C \u0634\u0643\u0631\u0627\u064B \u0644\u0627\u0644\u062A\u0632\u0627\u0645\u0643. \u0631\u0635\u064A\u062F\u0643 \u0627\u0644\u062D\u0627\u0644\u064A ").concat(member.balance," \u0631\u064A\u0627\u0644.");try{const response=await fetch("".concat(API_URL,"/api/members/").concat(member.id,"/notify"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':"Bearer ".concat(localStorage.getItem('token'))},body:JSON.stringify({channel:channel,message:message,type:member.balance<3000?'payment_reminder':'general',adminId:localStorage.getItem('userId')})});if(response.ok){alert("\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631 \u0639\u0628\u0631 ".concat(channel==='all'?'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚Ù†ÙˆØ§Øª':channel));}}catch(err){console.error('Error sending notification:',err);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±');}};const sendNotification=async type=>{try{// API call to send notification
const response=await fetch("".concat(API_URL,"/api/member-monitoring/").concat(selectedMember.id,"/notify"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':"Bearer ".concat(localStorage.getItem('token'))},body:JSON.stringify({type:type,message:type==='payment'?"\u0639\u0632\u064A\u0632\u064A ".concat(selectedMember.name,"\u060C \u0631\u0635\u064A\u062F\u0643 \u0627\u0644\u062D\u0627\u0644\u064A ").concat(selectedMember.balance," \u0631\u064A\u0627\u0644 \u0648\u0647\u0648 \u0623\u0642\u0644 \u0645\u0646 \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0627\u0644\u0645\u0637\u0644\u0648\u0628 (3000 \u0631\u064A\u0627\u0644). \u064A\u0631\u062C\u0649 \u062A\u0633\u062F\u064A\u062F \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062A\u0628\u0642\u064A."):"\u0639\u0632\u064A\u0632\u064A ".concat(selectedMember.name,"\u060C \u0647\u0630\u0627 \u0625\u0634\u0639\u0627\u0631 \u0645\u0646 \u0625\u062F\u0627\u0631\u0629 \u0635\u0646\u062F\u0648\u0642 \u0622\u0644 \u0627\u0644\u0634\u0639\u064A\u0644.")})});if(response.ok){alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­');}}catch(err){console.error('Error sending notification:',err);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±');}finally{setShowNotifyModal(false);}};// Clear All Filters
const clearAllFilters=()=>{setSearchMemberId('');setSearchName('');setSearchPhone('');setDebouncedSearchMemberId('');setDebouncedSearchName('');setDebouncedSearchPhone('');setSelectedTribalSection('all');setBalanceFilterType('all');setBalanceComparisonAmount('');setBalanceRangeFrom('');setBalanceRangeTo('');setBalanceCategory('all');};// Check if any filter is active
const hasActiveFilters=()=>{return debouncedSearchMemberId||debouncedSearchName||debouncedSearchPhone||selectedTribalSection!=='all'||balanceFilterType!=='all';};// Export to CSV
const exportToCSV=()=>{const headers=['Ø±Ù‚Ù… Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©','Ø§Ù„Ø§Ø³Ù…','Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ','Ø§Ù„Ø±ØµÙŠØ¯','Ø§Ù„ÙØ®Ø°','Ø§Ù„Ø­Ø§Ù„Ø©'];const csvContent=[headers.join(','),...filteredMembers.map(member=>[member.memberId,"\"".concat(member.name,"\""),member.phone,member.balance,member.tribalSection,member.balance>=3000?'Ù…Ù„ØªØ²Ù…':'ØºÙŠØ± Ù…Ù„ØªØ²Ù…'].join(','))].join('\n');const blob=new Blob(['\ufeff'+csvContent],{type:'text/csv;charset=utf-8;'});const link=document.createElement('a');const url=URL.createObjectURL(blob);link.setAttribute('href',url);link.setAttribute('download',"members_report_".concat(new Date().toISOString().split('T')[0],".csv"));link.style.visibility='hidden';document.body.appendChild(link);link.click();document.body.removeChild(link);};// Export to Excel (simple HTML table format)
const exportToExcel=()=>{const tableHtml="\n      <html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\">\n      <head>\n        <meta charset=\"utf-8\">\n        <style>\n          table { border-collapse: collapse; width: 100%; direction: rtl; }\n          th, td { border: 1px solid #ddd; padding: 8px; text-align: right; }\n          th { background-color: #f2f2f2; font-weight: bold; }\n          .sufficient { background-color: #d4edda; }\n          .insufficient { background-color: #f8d7da; }\n        </style>\n      </head>\n      <body>\n        <table>\n          <thead>\n            <tr>\n              <th>\u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629</th>\n              <th>\u0627\u0644\u0627\u0633\u0645</th>\n              <th>\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641</th>\n              <th>\u0627\u0644\u0631\u0635\u064A\u062F</th>\n              <th>\u0627\u0644\u0641\u062E\u0630</th>\n              <th>\u0627\u0644\u062D\u0627\u0644\u0629</th>\n              <th>\u0627\u0644\u0646\u0642\u0635</th>\n            </tr>\n          </thead>\n          <tbody>\n            ".concat(filteredMembers.map(member=>"\n              <tr class=\"".concat(member.balance>=3000?'sufficient':'insufficient',"\">\n                <td>").concat(member.memberId,"</td>\n                <td>").concat(member.name,"</td>\n                <td>").concat(member.phone,"</td>\n                <td>").concat(member.balance,"</td>\n                <td>").concat(member.tribalSection,"</td>\n                <td>").concat(member.balance>=3000?'Ù…Ù„ØªØ²Ù…':'ØºÙŠØ± Ù…Ù„ØªØ²Ù…',"</td>\n                <td>").concat(member.balance<3000?3000-member.balance:'-',"</td>\n              </tr>\n            ")).join(''),"\n          </tbody>\n        </table>\n      </body>\n      </html>\n    ");const blob=new Blob([tableHtml],{type:'application/vnd.ms-excel'});const link=document.createElement('a');const url=URL.createObjectURL(blob);link.setAttribute('href',url);link.setAttribute('download',"members_report_".concat(new Date().toISOString().split('T')[0],".xls"));link.style.visibility='hidden';document.body.appendChild(link);link.click();document.body.removeChild(link);};// Initial Load
(0,react.useEffect)(()=>{fetchMembers();},[]);return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-monitoring-dashboard",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"dashboard-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"dashboard-title",children:"\u0644\u0648\u062D\u0629 \u0645\u062A\u0627\u0628\u0639\u0629 \u0627\u0644\u0623\u0639\u0636\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"dashboard-subtitle",children:"\u0645\u062A\u0627\u0628\u0639\u0629 \u062D\u0627\u0644\u0629 \u0627\u0644\u0623\u0639\u0636\u0627\u0621 \u0648\u0627\u0644\u0623\u0631\u0635\u062F\u0629 \u0627\u0644\u0645\u0627\u0644\u064A\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"stats-inline-container",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stats-inline",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"stat-inline-item total",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-inline-icon",children:"\uD83D\uDCCA"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-inline-label",children:"\u0625\u062C\u0645\u0627\u0644\u064A:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-inline-value",children:filteredMembers.length})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-divider",children:"|"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"stat-inline-item sufficient",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-inline-icon",children:"\u2705"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-inline-label",children:"\u0645\u0644\u062A\u0632\u0645\u0648\u0646:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-inline-value",children:filteredMembers.filter(m=>m.balance>=3000).length})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-divider",children:"|"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"stat-inline-item insufficient",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-inline-icon",children:"\u274C"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-inline-label",children:"\u063A\u064A\u0631 \u0645\u0644\u062A\u0632\u0645\u064A\u0646:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-inline-value",children:filteredMembers.filter(m=>m.balance<3000).length})]})]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stats-container",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"stat-icon total",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0623\u0639\u0636\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"stat-value",children:filteredMembers.length})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"stat-icon sufficient",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u0645\u0644\u062A\u0632\u0645\u0648\u0646 (\u22653000 \u0631\u064A\u0627\u0644)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"stat-value",children:filteredMembers.filter(m=>m.balance>=3000).length}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"stat-percentage",children:[(filteredMembers.filter(m=>m.balance>=3000).length/filteredMembers.length*100||0).toFixed(1),"%"]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"stat-icon insufficient",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ExclamationTriangleIcon,{className:"icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u063A\u064A\u0631 \u0645\u0644\u062A\u0632\u0645\u064A\u0646 (<3000 \u0631\u064A\u0627\u0644)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"stat-value",children:filteredMembers.filter(m=>m.balance<3000).length}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"stat-percentage warning",children:[(filteredMembers.filter(m=>m.balance<3000).length/filteredMembers.length*100||0).toFixed(1),"%"]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"stat-icon critical",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ExclamationTriangleIcon,{className:"icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u0648\u0636\u0639 \u062D\u0631\u062C (<1000 \u0631\u064A\u0627\u0644)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"stat-value",children:filteredMembers.filter(m=>m.balance<1000).length}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"stat-percentage critical",children:[(filteredMembers.filter(m=>m.balance<1000).length/filteredMembers.length*100||0).toFixed(1),"%"]})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filters-container",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-row",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MagnifyingGlassIcon,{className:"input-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0627\u0644\u0628\u062D\u062B \u0628\u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629",value:searchMemberId,onChange:e=>setSearchMemberId(e.target.value),className:"filter-input"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0627\u0633\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MagnifyingGlassIcon,{className:"input-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0627\u0644\u0628\u062D\u062B \u0628\u0627\u0644\u0627\u0633\u0645",value:searchName,onChange:e=>setSearchName(e.target.value),className:"filter-input"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0631\u0642\u0645 \u0627\u0644\u062A\u0644\u064A\u0641\u0648\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MagnifyingGlassIcon,{className:"input-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0627\u0644\u0628\u062D\u062B \u0628\u0631\u0642\u0645 \u0627\u0644\u062A\u0644\u064A\u0641\u0648\u0646",value:searchPhone,onChange:e=>setSearchPhone(e.target.value),className:"filter-input"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0641\u062E\u0630"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.FunnelIcon,{className:"input-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("select",{value:selectedTribalSection,onChange:e=>setSelectedTribalSection(e.target.value),className:"filter-select",children:tribalSections.map(section=>/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:section.value,children:section.label},section.value))})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-row",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0641\u0644\u062A\u0631 \u0627\u0644\u0631\u0635\u064A\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:balanceFilterType,onChange:e=>setBalanceFilterType(e.target.value),className:"filter-select",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"all",children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0623\u0631\u0635\u062F\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"comparison",children:"\u0645\u0642\u0627\u0631\u0646\u0629 \u0628\u0645\u0628\u0644\u063A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"range",children:"\u0646\u0637\u0627\u0642 \u0645\u0628\u0644\u063A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"category",children:"\u0641\u0626\u0627\u062A \u0645\u062D\u062F\u062F\u0629"})]})]}),balanceFilterType==='comparison'&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0645\u0642\u0627\u0631\u0646\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:balanceComparison,onChange:e=>setBalanceComparison(e.target.value),className:"filter-select",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"greater",children:"\u0623\u0643\u062B\u0631 \u0645\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"less",children:"\u0623\u0642\u0644 \u0645\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"equal",children:"\u064A\u0633\u0627\u0648\u064A"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0645\u0628\u0644\u063A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",placeholder:"3000",value:balanceComparisonAmount,onChange:e=>setBalanceComparisonAmount(e.target.value),className:"filter-input"})]})]}),balanceFilterType==='range'&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0645\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",placeholder:"1000",value:balanceRangeFrom,onChange:e=>setBalanceRangeFrom(e.target.value),className:"filter-input"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0625\u0644\u0649"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",placeholder:"5000",value:balanceRangeTo,onChange:e=>setBalanceRangeTo(e.target.value),className:"filter-input"})]})]}),balanceFilterType==='category'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0641\u0626\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:balanceCategory,onChange:e=>setBalanceCategory(e.target.value),className:"filter-select",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"all",children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0641\u0626\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"compliant",children:"\u0645\u0644\u062A\u0632\u0645\u0648\u0646 (\u22653000 \u0631\u064A\u0627\u0644)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"non-compliant",children:"\u063A\u064A\u0631 \u0645\u0644\u062A\u0632\u0645\u064A\u0646 (<3000 \u0631\u064A\u0627\u0644)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"critical",children:"\u0648\u0636\u0639 \u062D\u0631\u062C (<1000 \u0631\u064A\u0627\u0644)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"excellent",children:"\u0645\u0645\u062A\u0627\u0632 (\u22655000 \u0631\u064A\u0627\u0644)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"0-500",children:"0 - 500 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"500-1000",children:"500 - 1000 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"1000-2000",children:"1000 - 2000 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"2000-3000",children:"2000 - 3000 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"3000-5000",children:"3000 - 5000 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"5000+",children:"5000+ \u0631\u064A\u0627\u0644"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-actions",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"btn-export excel",onClick:exportToExcel,title:"\u062A\u0635\u062F\u064A\u0631 \u0625\u0644\u0649 Excel",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentArrowDownIcon,{className:"btn-icon-svg"}),"Excel"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"btn-export csv",onClick:exportToCSV,title:"\u062A\u0635\u062F\u064A\u0631 \u0625\u0644\u0649 CSV",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowDownTrayIcon,{className:"btn-icon-svg"}),"CSV"]}),hasActiveFilters()&&/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"btn-clear-filters",onClick:clearAllFilters,title:"\u0645\u0633\u062D \u062C\u0645\u064A\u0639 \u0627\u0644\u0641\u0644\u0627\u062A\u0631",children:"\uD83D\uDDD1\uFE0F \u0645\u0633\u062D \u0627\u0644\u0643\u0644"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"table-container",children:loading&&!initialLoadComplete?/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"loading-skeleton",children:[...Array(10)].map((_,index)=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"skeleton-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"skeleton skeleton-cell",style:{width:'12%'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"skeleton skeleton-cell",style:{width:'25%'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"skeleton skeleton-cell",style:{width:'15%'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"skeleton skeleton-cell",style:{width:'15%'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"skeleton skeleton-cell",style:{width:'15%'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"skeleton skeleton-cell",style:{width:'18%'}})]},index))}):error?/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"error-state",children:error}):/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("table",{className:"members-table",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("thead",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:{width:'12%'},children:"\u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:{width:'25%'},children:"\u0627\u0644\u0627\u0633\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:{width:'15%'},children:"\u0631\u0642\u0645 \u0627\u0644\u062A\u0644\u064A\u0641\u0648\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:{width:'15%'},children:"\u0627\u0644\u0631\u0635\u064A\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:{width:'15%'},children:"\u0627\u0644\u0641\u062E\u0630"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{style:{width:'18%'},children:"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("tbody",{children:paginatedMembers.map(member=>/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{className:member.isSuspended?'suspended':'',children:[/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-id",children:member.memberId}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-name",children:member.name}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-phone",children:member.phone}),/*#__PURE__*/(0,jsx_runtime.jsxs)("td",{className:"member-balance",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"balance ".concat(member.status," ").concat(member.balance<1000?'critical':''),children:[member.balance>=3000?'ðŸŸ¢':'ðŸ”´'," ",member.balance.toLocaleString()," \u0631.\u0633"]}),member.status==='insufficient'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"balance-warning",children:["(\u0646\u0642\u0635: ",(3000-member.balance).toLocaleString()," \u0631.\u0633)"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-tribal",children:member.tribalSection}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"member-actions",children:renderActionButtons(member)})]},member.id))})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"member-cards",children:paginatedMembers.map(member=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-card",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-card-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"member-card-id",children:member.memberId}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"member-card-status ".concat(member.status),children:member.balance>=3000?'ðŸŸ¢ Ù…Ù„ØªØ²Ù…':'ðŸ”´ ØºÙŠØ± Ù…Ù„ØªØ²Ù…'})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-card-body",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"member-card-name",children:member.name}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-card-info",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-card-info-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"member-card-info-label",children:"\u0627\u0644\u0647\u0627\u062A\u0641:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:member.phone})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-card-info-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"member-card-info-label",children:"\u0627\u0644\u0641\u062E\u0630:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:member.tribalSection})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-card-balance ".concat(member.balance<1000?'critical':''),children:[member.balance>=3000?'ðŸŸ¢':'ðŸ”´'," ",member.balance.toLocaleString()," \u0631\u064A\u0627\u0644"]}),member.balance<3000&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-card-deficit",children:["\u0646\u0642\u0635: ",(3000-member.balance).toLocaleString()," \u0631\u064A\u0627\u0644"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"member-card-actions",children:renderActionButtons(member)})]},member.id))}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"pagination-container",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"page-size-selector",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0639\u0631\u0636:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:pageSize,onChange:e=>{const newSize=Number(e.target.value);console.log('ðŸ“„ Changing page size to:',newSize);setPageSize(newSize);setCurrentPage(1);},className:"page-size-select",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:10,children:"10"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:15,children:"15"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:20,children:"20"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:50,children:"50"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:100,children:"100"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0639\u0636\u0648 \u0644\u0643\u0644 \u0635\u0641\u062D\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"pagination-controls",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"page-btn",onClick:()=>{console.log('â¬…ï¸ Previous page clicked, current:',currentPage);setCurrentPage(prev=>Math.max(1,prev-1));},disabled:currentPage===1||totalPages===0,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ChevronRightIcon,{className:"page-icon"}),"\u0627\u0644\u0633\u0627\u0628\u0642"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"page-numbers",children:Array.from({length:Math.min(5,totalPages)},(_,i)=>{let pageNum;if(totalPages<=5){pageNum=i+1;}else if(currentPage<=3){pageNum=i+1;}else if(currentPage>=totalPages-2){pageNum=totalPages-4+i;}else{pageNum=currentPage-2+i;}return/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"page-number ".concat(currentPage===pageNum?'active':''),onClick:()=>setCurrentPage(pageNum),children:pageNum},pageNum);})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"page-btn",onClick:()=>{console.log('âž¡ï¸ Next page clicked, current:',currentPage,'total:',totalPages);setCurrentPage(prev=>Math.min(totalPages,prev+1));},disabled:currentPage>=totalPages||totalPages===0,children:["\u0627\u0644\u062A\u0627\u0644\u064A",/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ChevronLeftIcon,{className:"page-icon"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"page-info",children:["\u0635\u0641\u062D\u0629 ",currentPage," \u0645\u0646 ",totalPages," | \u0625\u062C\u0645\u0627\u0644\u064A: ",filteredMembers.length," \u0639\u0636\u0648"]})]})]})}),showSuspendModal&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"modal-overlay",onClick:()=>setShowSuspendModal(false),children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-header warning",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ExclamationTriangleIcon,{className:"modal-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{children:"\u062A\u0623\u0643\u064A\u062F \u0625\u064A\u0642\u0627\u0641 \u0627\u0644\u0639\u0636\u0648"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"modal-body",children:suspendConfirmStep===1?/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"warning-text",children:"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0625\u064A\u0642\u0627\u0641 \u0627\u0644\u0639\u0636\u0648 \u0627\u0644\u062A\u0627\u0644\u064A\u061F"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-info",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:"\u0627\u0644\u0627\u0633\u0645:"})," ",selectedMember===null||selectedMember===void 0?void 0:selectedMember.name]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:"\u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629:"})," ",selectedMember===null||selectedMember===void 0?void 0:selectedMember.memberId]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:"\u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u062D\u0627\u0644\u064A:"})," ",selectedMember===null||selectedMember===void 0?void 0:selectedMember.balance," \u0631.\u0633"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:"\u0627\u0644\u0646\u0642\u0635:"})," ",3000-(selectedMember===null||selectedMember===void 0?void 0:selectedMember.balance)," \u0631.\u0633"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"warning-note",children:"\u0633\u064A\u062A\u0645 \u0625\u064A\u0642\u0627\u0641 \u062C\u0645\u064A\u0639 \u062E\u062F\u0645\u0627\u062A \u0627\u0644\u0639\u0636\u0648 \u062D\u062A\u0649 \u064A\u062A\u0645 \u062A\u0633\u062F\u064A\u062F \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628"})]}):/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"confirm-text",children:"\u062A\u0623\u0643\u064A\u062F \u0646\u0647\u0627\u0626\u064A - \u0647\u0630\u0627 \u0627\u0644\u0625\u062C\u0631\u0627\u0621 \u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646\u0647 \u0628\u0633\u0647\u0648\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"final-warning",children:"\u0627\u0643\u062A\u0628 \"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0625\u064A\u0642\u0627\u0641\" \u0644\u0644\u0645\u062A\u0627\u0628\u0639\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"confirm-input",placeholder:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0625\u064A\u0642\u0627\u0641",onChange:e=>{if(e.target.value==='ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù'){e.target.classList.add('valid');}else{e.target.classList.remove('valid');}}})]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-footer",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"btn-cancel",onClick:()=>{setShowSuspendModal(false);setSuspendConfirmStep(1);},children:"\u0625\u0644\u063A\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"btn-confirm warning",onClick:confirmSuspend,disabled:suspendConfirmStep===2&&!document.querySelector('.confirm-input.valid'),children:suspendConfirmStep===1?'Ù…ØªØ§Ø¨Ø¹Ø©':'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù'})]})]})}),showNotifyModal&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"modal-overlay",onClick:()=>setShowNotifyModal(false),children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-header info",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BellIcon,{className:"modal-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{children:"\u0625\u0631\u0633\u0627\u0644 \u0625\u0634\u0639\u0627\u0631"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-body",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u0625\u0634\u0639\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062F \u0625\u0631\u0633\u0627\u0644\u0647 \u0644\u0644\u0639\u0636\u0648:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-info",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:"\u0627\u0644\u0627\u0633\u0645:"})," ",selectedMember===null||selectedMember===void 0?void 0:selectedMember.name]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641:"})," ",selectedMember===null||selectedMember===void 0?void 0:selectedMember.phone]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-options",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"notification-type payment",onClick:()=>sendNotification('payment'),children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BellIcon,{className:"option-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062A\u0630\u0643\u064A\u0631 \u0628\u0627\u0644\u062F\u0641\u0639"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"option-desc",children:"\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629 \u062A\u0630\u0643\u064A\u0631 \u0628\u0636\u0631\u0648\u0631\u0629 \u062A\u0633\u062F\u064A\u062F \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062A\u0628\u0642\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"notification-type general",onClick:()=>sendNotification('general'),children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BellIcon,{className:"option-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0625\u0634\u0639\u0627\u0631 \u0639\u0627\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"option-desc",children:"\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629 \u0625\u0634\u0639\u0627\u0631 \u0639\u0627\u0645\u0629 \u0645\u0646 \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0635\u0646\u062F\u0648\u0642"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"modal-footer",children:/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"btn-cancel",onClick:()=>setShowNotifyModal(false),children:"\u0625\u0644\u063A\u0627\u0621"})})]})})]});};/* harmony default export */ const MemberMonitoring_MemberMonitoringDashboard = (MemberMonitoringDashboard_MemberMonitoringDashboard);
// EXTERNAL MODULE: ./node_modules/react-dropzone/dist/es/index.js + 5 modules
var dist_es = __webpack_require__(5044);
// EXTERNAL MODULE: ./node_modules/react-icons/fa/index.mjs + 4 modules
var fa = __webpack_require__(4243);
;// ./src/components/Documents/DocumentManager.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const DocumentManager = ({});
;// ./src/components/Documents/DocumentManager.jsx
const DOCUMENT_CATEGORIES={national_id:'Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ÙˆØ·Ù†ÙŠØ©',marriage_certificate:'Ø¹Ù‚Ø¯ Ø§Ù„Ø²ÙˆØ§Ø¬',property_deed:'ØµÙƒ Ø§Ù„Ù…Ù„ÙƒÙŠØ©',birth_certificate:'Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯',death_certificate:'Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„ÙˆÙØ§Ø©',passport:'Ø¬ÙˆØ§Ø² Ø§Ù„Ø³ÙØ±',driver_license:'Ø±Ø®ØµØ© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©',education:'Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©',medical:'Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø·Ø¨ÙŠØ©',other:'Ø£Ø®Ø±Ù‰'};const DocumentManager_DocumentManager=()=>{const[documents,setDocuments]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(false);const[uploadProgress,setUploadProgress]=(0,react.useState)(0);const[searchTerm,setSearchTerm]=(0,react.useState)('');const[selectedCategory,setSelectedCategory]=(0,react.useState)('');const[uploadFormData,setUploadFormData]=(0,react.useState)({title:'',description:'',category:'other'});const[showUploadModal,setShowUploadModal]=(0,react.useState)(false);const[selectedFile,setSelectedFile]=(0,react.useState)(null);const[stats,setStats]=(0,react.useState)({total_documents:0,total_size_mb:'0',by_category:[]});// Fetch documents
const fetchDocuments=async()=>{setLoading(true);try{const token=localStorage.getItem('token');const params=new URLSearchParams();if(selectedCategory)params.append('category',selectedCategory);if(searchTerm)params.append('search',searchTerm);const response=await fetch("".concat("http://localhost:3001"||0,"/api/documents/member?").concat(params),{headers:{'Authorization':"Bearer ".concat(token)}});if(response.ok){const data=await response.json();setDocuments(data.data||[]);}}catch(error){console.error('Error fetching documents:',error);}finally{setLoading(false);}};// Fetch statistics
const fetchStats=async()=>{try{const token=localStorage.getItem('token');const response=await fetch("".concat("http://localhost:3001"||0,"/api/documents/stats/overview"),{headers:{'Authorization':"Bearer ".concat(token)}});if(response.ok){const data=await response.json();setStats(data.data);}}catch(error){console.error('Error fetching stats:',error);}};(0,react.useEffect)(()=>{fetchDocuments();fetchStats();},[selectedCategory,searchTerm]);// Handle file drop
const onDrop=acceptedFiles=>{if(acceptedFiles.length>0){setSelectedFile(acceptedFiles[0]);setUploadFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},uploadFormData),{},{title:acceptedFiles[0].name}));setShowUploadModal(true);}};const{getRootProps,getInputProps,isDragActive}=(0,dist_es.useDropzone)({onDrop,accept:{'application/pdf':['.pdf'],'image/jpeg':['.jpg','.jpeg'],'image/png':['.png']},maxSize:10*1024*1024,// 10MB
multiple:false});// Upload document
const handleUpload=async()=>{if(!selectedFile)return;const formData=new FormData();formData.append('document',selectedFile);formData.append('title',uploadFormData.title);formData.append('description',uploadFormData.description);formData.append('category',uploadFormData.category);setUploadProgress(0);setLoading(true);try{const token=localStorage.getItem('token');const response=await fetch("".concat("http://localhost:3001"||0,"/api/documents/upload"),{method:'POST',headers:{'Authorization':"Bearer ".concat(token)},body:formData});if(response.ok){setShowUploadModal(false);setSelectedFile(null);setUploadFormData({title:'',description:'',category:'other'});fetchDocuments();fetchStats();alert('ØªÙ… Ø±ÙØ¹ Ø§Ù„Ù…Ø³ØªÙ†Ø¯ Ø¨Ù†Ø¬Ø§Ø­');}else{alert('ÙØ´Ù„ Ø±ÙØ¹ Ø§Ù„Ù…Ø³ØªÙ†Ø¯');}}catch(error){console.error('Upload error:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø±ÙØ¹ Ø§Ù„Ù…Ø³ØªÙ†Ø¯');}finally{setLoading(false);setUploadProgress(0);}};// Delete document
const handleDelete=async documentId=>{if(!window.confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙ†Ø¯ØŸ'))return;try{const token=localStorage.getItem('token');const response=await fetch("".concat("http://localhost:3001"||0,"/api/documents/").concat(documentId),{method:'DELETE',headers:{'Authorization':"Bearer ".concat(token)}});if(response.ok){fetchDocuments();fetchStats();alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªÙ†Ø¯ Ø¨Ù†Ø¬Ø§Ø­');}}catch(error){console.error('Delete error:',error);}};// Get file icon
const getFileIcon=fileType=>{if(fileType!==null&&fileType!==void 0&&fileType.includes('pdf'))return/*#__PURE__*/(0,jsx_runtime.jsx)(fa.FaFilePdf,{className:"file-icon pdf"});if(fileType!==null&&fileType!==void 0&&fileType.includes('image'))return/*#__PURE__*/(0,jsx_runtime.jsx)(fa.FaImage,{className:"file-icon image"});return/*#__PURE__*/(0,jsx_runtime.jsx)(fa.FaFileAlt,{className:"file-icon default"});};// Format file size
const formatFileSize=bytes=>{if(bytes<1024)return bytes+' B';if(bytes<1024*1024)return(bytes/1024).toFixed(1)+' KB';return(bytes/(1024*1024)).toFixed(1)+' MB';};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"document-manager",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"dm-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{children:"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"dm-stats",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-label",children:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-value",children:stats.total_documents})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-label",children:"\u0627\u0644\u062D\u062C\u0645 \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"stat-value",children:[stats.total_size_mb," MB"]})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"dm-controls",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"search-box",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(fa.FaSearch,{}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0627\u0644\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A...",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-box",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(fa.FaFilter,{}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:selectedCategory,onChange:e=>setSelectedCategory(e.target.value),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0641\u0626\u0627\u062A"}),Object.entries(DOCUMENT_CATEGORIES).map(_ref=>{let[key,value]=_ref;return/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:key,children:value},key);})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",(0,objectSpread2["default"])((0,objectSpread2["default"])({},getRootProps()),{},{className:"upload-zone ".concat(isDragActive?'active':''),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",(0,objectSpread2["default"])({},getInputProps())),/*#__PURE__*/(0,jsx_runtime.jsx)(fa.FaUpload,{className:"upload-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"upload-text",children:isDragActive?'Ø£ÙÙ„Øª Ø§Ù„Ù…Ù„Ù Ù‡Ù†Ø§...':'Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª Ø§Ù„Ù…Ù„Ù Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ù†Ù‚Ø± Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±'}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"upload-hint",children:"PDF, JPG, PNG - \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 10MB"})]})),loading?/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"loading-spinner",children:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644..."}):/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"documents-grid",children:documents.map(doc=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"document-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"doc-icon",children:getFileIcon(doc.file_type)}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"doc-info",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h4",{className:"doc-title",children:doc.title}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"doc-category",children:DOCUMENT_CATEGORIES[doc.category]}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"doc-size",children:formatFileSize(doc.file_size)}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"doc-date",children:new Date(doc.created_at).toLocaleDateString('ar-SA')}),doc.description&&/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"doc-description",children:doc.description})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"doc-actions",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"action-btn view",onClick:()=>window.open(doc.signed_url,'_blank'),title:"\u0639\u0631\u0636",children:/*#__PURE__*/(0,jsx_runtime.jsx)(fa.FaEye,{})}),/*#__PURE__*/(0,jsx_runtime.jsx)("a",{href:doc.signed_url,download:doc.original_name,className:"action-btn download",title:"\u062A\u062D\u0645\u064A\u0644",children:/*#__PURE__*/(0,jsx_runtime.jsx)(fa.FaDownload,{})}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"action-btn delete",onClick:()=>handleDelete(doc.id),title:"\u062D\u0630\u0641",children:/*#__PURE__*/(0,jsx_runtime.jsx)(fa.FaTrash,{})})]})]},doc.id))}),showUploadModal&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"modal-overlay",onClick:()=>setShowUploadModal(false),children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u062A\u062D\u0645\u064A\u0644 \u0645\u0633\u062A\u0646\u062F \u062C\u062F\u064A\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:uploadFormData.title,onChange:e=>setUploadFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},uploadFormData),{},{title:e.target.value})),placeholder:"\u0623\u062F\u062E\u0644 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0633\u062A\u0646\u062F"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0648\u0635\u0641"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{value:uploadFormData.description,onChange:e=>setUploadFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},uploadFormData),{},{description:e.target.value})),placeholder:"\u0623\u062F\u062E\u0644 \u0648\u0635\u0641 \u0627\u0644\u0645\u0633\u062A\u0646\u062F (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)",rows:"3"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0641\u0626\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("select",{value:uploadFormData.category,onChange:e=>setUploadFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},uploadFormData),{},{category:e.target.value})),children:Object.entries(DOCUMENT_CATEGORIES).map(_ref2=>{let[key,value]=_ref2;return/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:key,children:value},key);})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-actions",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"btn-primary",onClick:handleUpload,disabled:loading,children:loading?'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø±ÙØ¹...':'Ø±ÙØ¹ Ø§Ù„Ù…Ø³ØªÙ†Ø¯'}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"btn-secondary",onClick:()=>setShowUploadModal(false),children:"\u0625\u0644\u063A\u0627\u0621"})]}),uploadProgress>0&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"upload-progress",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"progress-bar",style:{width:"".concat(uploadProgress,"%")}})})]})})]});};/* harmony default export */ const Documents_DocumentManager = (DocumentManager_DocumentManager);
// EXTERNAL MODULE: ./node_modules/react-d3-tree/lib/esm/index.js + 253 modules
var lib_esm = __webpack_require__(1308);
// EXTERNAL MODULE: ./node_modules/html2canvas/dist/html2canvas.js
var html2canvas = __webpack_require__(1052);
var html2canvas_default = /*#__PURE__*/__webpack_require__.n(html2canvas);
;// ./src/components/FamilyTree/FamilyTree.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const FamilyTree = ({});
;// ./src/components/FamilyTree/FamilyTree.jsx
const FamilyTree_FamilyTree=()=>{// State management
const[treeData,setTreeData]=(0,react.useState)(null);const[loading,setLoading]=(0,react.useState)(true);const[error,setError]=(0,react.useState)(null);const[searchTerm,setSearchTerm]=(0,react.useState)('');const[selectedMember,setSelectedMember]=(0,react.useState)(null);const[showMemberModal,setShowMemberModal]=(0,react.useState)(false);const[isFullscreen,setIsFullscreen]=(0,react.useState)(false);const[highlightedNodes,setHighlightedNodes]=(0,react.useState)(new Set());const[membersList,setMembersList]=(0,react.useState)([]);const[selectedMemberId,setSelectedMemberId]=(0,react.useState)(null);const[memberSearchTerm,setMemberSearchTerm]=(0,react.useState)('');// Refs
const treeContainerRef=(0,react.useRef)(null);const treeRef=(0,react.useRef)(null);// API configuration
const API_URL="http://localhost:3001"||0;// Tree configuration
const treeConfig={translate:{x:400,y:200},zoom:1,separation:{siblings:2,nonSiblings:2},nodeSize:{x:200,y:150},orientation:'vertical',pathFunc:'diagonal',enableLegacyTransitions:false,transitionDuration:500};// Get auth token
const getAuthToken=()=>{return localStorage.getItem('token')||localStorage.getItem('auth_token');};// Fetch members list for selection
const fetchMembersList=(0,react.useCallback)(async()=>{try{const token=getAuthToken();if(!token)return;const response=await fetch("".concat(API_URL,"/api/members"),{headers:{'Authorization':"Bearer ".concat(token),'Content-Type':'application/json'}});if(response.ok){const data=await response.json();if(data.success&&data.data){setMembersList(data.data);}}}catch(error){console.error('Error fetching members list:',error);}},[API_URL]);// Fetch family tree data
const fetchFamilyTree=(0,react.useCallback)(async function(){let memberId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;try{setLoading(true);const token=getAuthToken();if(!token){throw new Error('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ù…Ø² Ù…ØµØ§Ø¯Ù‚Ø©');}// If no member ID provided, show member selection interface
if(!memberId){setLoading(false);setTreeData(null);// Show the "select member" state
return;}// Use the visualization endpoint for tree data
const endpoint="".concat(API_URL,"/api/family-tree/visualization/").concat(memberId);const response=await fetch(endpoint,{headers:{'Authorization':"Bearer ".concat(token),'Content-Type':'application/json'}});if(!response.ok){throw new Error("\u062E\u0637\u0623 \u0641\u064A \u062C\u0644\u0628 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A: ".concat(response.status));}const data=await response.json();if(data.success){const transformedData=transformDataForD3(data.data);setTreeData(transformedData);}else{throw new Error(data.error||'ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø´Ø¬Ø±Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©');}}catch(err){console.error('Error fetching family tree:',err);setError(err.message);}finally{setLoading(false);}},[API_URL]);// Transform backend data to D3 tree format
const transformDataForD3=memberData=>{if(!memberData)return null;const transform=member=>{const node={name:member.name||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',attributes:{memberId:member.memberId||member.id,phoneNumber:member.phoneNumber,balance:member.balance||0,id:member.id},children:[]};// Add children if they exist
if(member.children&&member.children.length>0){node.children=member.children.map(child=>transform(child));}// Add spouse as a sibling node if exists
if(member.spouse){const spouseNode={name:member.spouse.name||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',attributes:{memberId:member.spouse.memberId||member.spouse.id,phoneNumber:member.spouse.phoneNumber,balance:member.spouse.balance||0,id:member.spouse.id,isSpouse:true},children:[]};node.children.unshift(spouseNode);}return node;};return transform(memberData);};// Search functionality
const handleSearch=(0,react.useCallback)(term=>{setSearchTerm(term);if(!term.trim()||!treeData){setHighlightedNodes(new Set());return;}const highlighted=new Set();const searchInTree=node=>{var _node$name,_node$attributes,_node$attributes$memb,_node$attributes2;const name=((_node$name=node.name)===null||_node$name===void 0?void 0:_node$name.toLowerCase())||'';const memberId=((_node$attributes=node.attributes)===null||_node$attributes===void 0?void 0:(_node$attributes$memb=_node$attributes.memberId)===null||_node$attributes$memb===void 0?void 0:_node$attributes$memb.toString())||'';const phone=((_node$attributes2=node.attributes)===null||_node$attributes2===void 0?void 0:_node$attributes2.phoneNumber)||'';const searchLower=term.toLowerCase();if(name.includes(searchLower)||memberId.includes(searchLower)||phone.includes(searchLower)){var _node$attributes3;highlighted.add(((_node$attributes3=node.attributes)===null||_node$attributes3===void 0?void 0:_node$attributes3.id)||node.name);}if(node.children){node.children.forEach(child=>searchInTree(child));}};searchInTree(treeData);setHighlightedNodes(highlighted);},[treeData]);// Custom node render function
const renderCustomNodeElement=_ref=>{var _nodeDatum$attributes,_nodeDatum$attributes2,_nodeDatum$attributes3,_nodeDatum$attributes4;let{nodeDatum,toggleNode}=_ref;const isHighlighted=highlightedNodes.has((_nodeDatum$attributes=nodeDatum.attributes)===null||_nodeDatum$attributes===void 0?void 0:_nodeDatum$attributes.id);const isSpouse=(_nodeDatum$attributes2=nodeDatum.attributes)===null||_nodeDatum$attributes2===void 0?void 0:_nodeDatum$attributes2.isSpouse;return/*#__PURE__*/(0,jsx_runtime.jsxs)("g",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("circle",{r:30,fill:isSpouse?"rgba(255, 193, 7, 0.9)":"rgba(59, 130, 246, 0.9)",stroke:isHighlighted?"#ef4444":"#ffffff",strokeWidth:isHighlighted?"3":"2",className:"node-circle",onClick:()=>handleNodeClick(nodeDatum),style:{cursor:'pointer'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("foreignObject",{x:"-12",y:"-12",width:"24",height:"24",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"text-white w-6 h-6"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("text",{fill:"#1f2937",strokeWidth:"1",x:"0",y:"50",textAnchor:"middle",className:"node-text",style:{fontSize:'12px',fontWeight:'bold',fontFamily:'Tajawal, Cairo, sans-serif'},children:nodeDatum.name}),/*#__PURE__*/(0,jsx_runtime.jsx)("text",{fill:"#6b7280",x:"0",y:"65",textAnchor:"middle",style:{fontSize:'10px',fontFamily:'Tajawal, Cairo, sans-serif'},children:((_nodeDatum$attributes3=nodeDatum.attributes)===null||_nodeDatum$attributes3===void 0?void 0:_nodeDatum$attributes3.memberId)&&"#".concat(nodeDatum.attributes.memberId)}),/*#__PURE__*/(0,jsx_runtime.jsx)("text",{fill:"#059669",x:"0",y:"80",textAnchor:"middle",style:{fontSize:'10px',fontWeight:'bold',fontFamily:'Tajawal, Cairo, sans-serif'},children:((_nodeDatum$attributes4=nodeDatum.attributes)===null||_nodeDatum$attributes4===void 0?void 0:_nodeDatum$attributes4.balance)&&"".concat(nodeDatum.attributes.balance," \u0631.\u0633")}),nodeDatum.children&&nodeDatum.children.length>0&&/*#__PURE__*/(0,jsx_runtime.jsx)("circle",{r:"8",fill:"#10b981",stroke:"#ffffff",strokeWidth:"2",cx:"25",cy:"-25",onClick:e=>{e.stopPropagation();toggleNode();},style:{cursor:'pointer'}})]});};// Handle node click
const handleNodeClick=async nodeDatum=>{try{var _nodeDatum$attributes5,_nodeDatum$attributes6;const memberId=((_nodeDatum$attributes5=nodeDatum.attributes)===null||_nodeDatum$attributes5===void 0?void 0:_nodeDatum$attributes5.id)||((_nodeDatum$attributes6=nodeDatum.attributes)===null||_nodeDatum$attributes6===void 0?void 0:_nodeDatum$attributes6.memberId);if(!memberId)return;const token=getAuthToken();const response=await fetch("".concat(API_URL,"/api/family-tree/relationships/").concat(memberId),{headers:{'Authorization':"Bearer ".concat(token),'Content-Type':'application/json'}});if(response.ok){const data=await response.json();if(data.success){setSelectedMember(data.data);setShowMemberModal(true);}}}catch(error){console.error('Error fetching member details:',error);}};// Export as image
const exportAsImage=async()=>{if(!treeContainerRef.current)return;try{const canvas=await html2canvas_default()(treeContainerRef.current,{backgroundColor:'#1e293b',scale:2,logging:false,useCORS:true});const link=document.createElement('a');link.download="family-tree-".concat(Date.now(),".png");link.href=canvas.toDataURL();link.click();}catch(error){console.error('Error exporting image:',error);}};// Export as PDF
const exportAsPDF=async()=>{if(!treeContainerRef.current)return;try{const canvas=await html2canvas_default()(treeContainerRef.current,{backgroundColor:'#1e293b',scale:2,logging:false,useCORS:true});const imgData=canvas.toDataURL('image/png');const pdf=new jspdf_es_min["default"]('l','mm','a4');const imgWidth=297;const imgHeight=canvas.height*imgWidth/canvas.width;pdf.addImage(imgData,'PNG',0,0,imgWidth,imgHeight);pdf.save("family-tree-".concat(Date.now(),".pdf"));}catch(error){console.error('Error exporting PDF:',error);}};// Toggle fullscreen
const toggleFullscreen=()=>{setIsFullscreen(!isFullscreen);};// Initialize component
(0,react.useEffect)(()=>{fetchMembersList();// Fetch members list on mount
// Don't fetch tree immediately - wait for user to select a member
setLoading(false);},[]);// Empty dependency array for mount only
// Handle member selection
const handleMemberSelect=memberId=>{setSelectedMemberId(memberId);fetchFamilyTree(memberId);};// Render loading state
if(loading){return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"family-tree-container",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"family-tree-loading",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"loading-spinner"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0634\u062C\u0631\u0629 \u0627\u0644\u0639\u0627\u0626\u0644\u0629..."})]})});}// Render error state
if(error){return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"family-tree-container",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"family-tree-error",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:["\u062E\u0637\u0623: ",error]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>fetchFamilyTree(),className:"retry-button",children:"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629"})]})});}// Render main component
return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"family-tree-container ".concat(isFullscreen?'fullscreen':''),children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"family-tree-header",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"header-title",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserGroupIcon,{className:"w-8 h-8 text-blue-400"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{children:"\u0634\u062C\u0631\u0629 \u0627\u0644\u0639\u0627\u0626\u0644\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"header-controls",children:[treeData&&/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>{setTreeData(null);setSelectedMemberId(null);setError(null);},className:"control-button",style:{background:'rgba(59, 130, 246, 0.2)',padding:'8px 16px',marginRight:'10px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserGroupIcon,{className:"w-5 h-5 inline-block ml-2"}),"\u0627\u062E\u062A\u0631 \u0639\u0636\u0648 \u0622\u062E\u0631"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"search-container",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MagnifyingGlassIcon,{className:"search-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0627\u0644\u0628\u062D\u062B \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629 \u0623\u0648 \u0627\u0644\u0647\u0627\u062A\u0641...",value:searchTerm,onChange:e=>handleSearch(e.target.value),className:"search-input"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:exportAsImage,className:"control-button",title:"\u062A\u0635\u062F\u064A\u0631 \u0643\u0635\u0648\u0631\u0629",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentArrowDownIcon,{className:"w-5 h-5"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:exportAsPDF,className:"control-button",title:"\u062A\u0635\u062F\u064A\u0631 \u0643\u0645\u0644\u0641 PDF",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentArrowDownIcon,{className:"w-5 h-5"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:toggleFullscreen,className:"control-button",title:isFullscreen?"Ø¥ØºÙ„Ø§Ù‚ ÙˆØ¶Ø¹ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©":"ÙˆØ¶Ø¹ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©",children:isFullscreen?/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowsPointingInIcon,{className:"w-5 h-5"}):/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowsPointingOutIcon,{className:"w-5 h-5"})})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{ref:treeContainerRef,className:"tree-container",id:"tree-container",children:treeData?/*#__PURE__*/(0,jsx_runtime.jsx)(lib_esm["default"],{ref:treeRef,data:treeData,orientation:"vertical",translate:treeConfig.translate,zoom:treeConfig.zoom,separation:treeConfig.separation,nodeSize:treeConfig.nodeSize,renderCustomNodeElement:renderCustomNodeElement,pathFunc:"diagonal",enableLegacyTransitions:false,transitionDuration:500,zoomable:true,draggable:true,collapsible:true,initialDepth:2}):/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"member-selection-container",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-selection-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserGroupIcon,{className:"w-16 h-16 text-blue-400 mb-4"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-xl font-bold mb-4",children:"\u0627\u062E\u062A\u0631 \u0639\u0636\u0648 \u0644\u0639\u0631\u0636 \u0634\u062C\u0631\u0629 \u0627\u0644\u0639\u0627\u0626\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-search-box mb-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MagnifyingGlassIcon,{className:"search-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0639\u0636\u0648 \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629...",value:memberSearchTerm,onChange:e=>setMemberSearchTerm(e.target.value),className:"search-input",style:{width:'100%',padding:'10px 40px 10px 10px',borderRadius:'8px',border:'1px solid rgba(255,255,255,0.2)',background:'rgba(255,255,255,0.1)',color:'white'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"members-list",style:{maxHeight:'400px',overflowY:'auto',padding:'10px',borderRadius:'8px',background:'rgba(255,255,255,0.05)'},children:[membersList.filter(member=>{var _member$full_name,_member$member_id,_member$phone;const searchLower=memberSearchTerm.toLowerCase();return((_member$full_name=member.full_name)===null||_member$full_name===void 0?void 0:_member$full_name.toLowerCase().includes(searchLower))||((_member$member_id=member.member_id)===null||_member$member_id===void 0?void 0:_member$member_id.toString().includes(searchLower))||((_member$phone=member.phone)===null||_member$phone===void 0?void 0:_member$phone.includes(searchLower));}).slice(0,20)// Show first 20 results
.map(member=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-item",onClick:()=>handleMemberSelect(member.id),style:{padding:'10px',margin:'5px 0',borderRadius:'6px',background:'rgba(59, 130, 246, 0.1)',cursor:'pointer',transition:'all 0.3s',display:'flex',justifyContent:'space-between',alignItems:'center'},onMouseEnter:e=>{e.currentTarget.style.background='rgba(59, 130, 246, 0.3)';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(59, 130, 246, 0.1)';},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"font-bold",children:member.full_name}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-sm opacity-75",children:["\u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629: ",member.member_id]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"w-5 h-5 text-blue-400"})]},member.id)),membersList.length===0&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-center text-gray-400 py-4",children:"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u0639\u0636\u0627\u0621..."})]})]})})}),showMemberModal&&selectedMember&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"modal-overlay",onClick:()=>setShowMemberModal(false),children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-modal",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0639\u0636\u0648"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowMemberModal(false),className:"close-button",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XMarkIcon,{className:"w-6 h-6"})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-content",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-info",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"w-5 h-5 text-blue-400"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-label",children:"\u0627\u0644\u0627\u0633\u0645:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-value",children:selectedMember.name})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CreditCardIcon,{className:"w-5 h-5 text-green-400"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-label",children:"\u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-value",children:selectedMember.memberId})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhoneIcon,{className:"w-5 h-5 text-purple-400"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-label",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-value",children:selectedMember.phoneNumber||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-label",children:"\u0627\u0644\u0631\u0635\u064A\u062F:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"info-value balance",children:[selectedMember.balance||0," \u0631.\u0633"]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"relationships",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h4",{children:"\u0627\u0644\u0639\u0644\u0627\u0642\u0627\u062A \u0627\u0644\u0639\u0627\u0626\u0644\u064A\u0629"}),selectedMember.parents&&selectedMember.parents.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"relationship-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h5",{children:"\u0627\u0644\u0648\u0627\u0644\u062F\u0627\u0646:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("ul",{children:selectedMember.parents.map((parent,index)=>/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:parent.name},index))})]}),selectedMember.spouse&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"relationship-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h5",{children:"\u0627\u0644\u0632\u0648\u062C/\u0627\u0644\u0632\u0648\u062C\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:selectedMember.spouse.name})]}),selectedMember.children&&selectedMember.children.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"relationship-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h5",{children:"\u0627\u0644\u0623\u0637\u0641\u0627\u0644:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("ul",{children:selectedMember.children.map((child,index)=>/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:child.name},index))})]}),selectedMember.siblings&&selectedMember.siblings.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"relationship-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h5",{children:"\u0627\u0644\u0623\u0634\u0642\u0627\u0621:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("ul",{children:selectedMember.siblings.map((sibling,index)=>/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:sibling.name},index))})]})]})]})]})})]});};/* harmony default export */ const components_FamilyTree_FamilyTree = (FamilyTree_FamilyTree);
// EXTERNAL MODULE: ./node_modules/axios/index.js + 54 modules
var axios = __webpack_require__(9453);
;// ./src/utils/hijriDate.js
/**
 * ============================================
 * AL-SHUAIL MOBILE PWA
 * Hijri Calendar Utility Functions
 * ============================================
 * Purpose: Convert and format dates in both Hijri and Gregorian calendars
 * Library: hijri-converter (already installed in package.json)
 * ============================================
 */// Force side effect to prevent tree-shaking
if(true){console.log('[Hijri Date Utils] Module loaded');}/**
 * Arabic month names (Hijri calendar)
 */const hijriDate_HIJRI_MONTHS=['Ù…Ø­Ø±Ù…','ØµÙØ±','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø¢Ø®Ø±','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø¢Ø®Ø±Ø©','Ø±Ø¬Ø¨','Ø´Ø¹Ø¨Ø§Ù†','Ø±Ù…Ø¶Ø§Ù†','Ø´ÙˆØ§Ù„','Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©','Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©'];/**
 * Arabic day names
 */const hijriDate_ARABIC_DAYS=['Ø§Ù„Ø£Ø­Ø¯','Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†','Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡','Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡','Ø§Ù„Ø®Ù…ÙŠØ³','Ø§Ù„Ø¬Ù…Ø¹Ø©','Ø§Ù„Ø³Ø¨Øª'];/**
 * Arabic month names (Gregorian calendar)
 */const GREGORIAN_MONTHS=['ÙŠÙ†Ø§ÙŠØ±','ÙØ¨Ø±Ø§ÙŠØ±','Ù…Ø§Ø±Ø³','Ø£Ø¨Ø±ÙŠÙ„','Ù…Ø§ÙŠÙˆ','ÙŠÙˆÙ†ÙŠÙˆ','ÙŠÙˆÙ„ÙŠÙˆ','Ø£ØºØ³Ø·Ø³','Ø³Ø¨ØªÙ…Ø¨Ø±','Ø£ÙƒØªÙˆØ¨Ø±','Ù†ÙˆÙÙ…Ø¨Ø±','Ø¯ÙŠØ³Ù…Ø¨Ø±'];/**
 * Convert Gregorian date to Hijri
 * @param {Date|string|number} date - Gregorian date
 * @returns {object} Hijri date object
 */const toHijri=function(){let date=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date();const gregorianDate=date instanceof Date?date:new Date(date);const year=gregorianDate.getFullYear();const month=gregorianDate.getMonth()+1;// JS months are 0-indexed
const day=gregorianDate.getDate();try{const hijriDate=hijri_converter.toHijri(year,month,day);return{day:hijriDate.hd,month:hijriDate.hm,year:hijriDate.hy,monthName:hijriDate_HIJRI_MONTHS[hijriDate.hm-1],formatted:"".concat(hijriDate.hd," ").concat(hijriDate_HIJRI_MONTHS[hijriDate.hm-1]," ").concat(hijriDate.hy,"\u0647\u0640")};}catch(error){console.error('Error converting to Hijri:',error);return null;}};/**
 * Get current Hijri date
 * @returns {object} Current Hijri date
 */const getCurrentHijri=()=>{return toHijri(new Date());};/**
 * Format date in both calendars
 * @param {Date|string|number} date - Date to format
 * @returns {object} Formatted dates in both calendars
 */const formatBothCalendars=function(){let date=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date();const gregorianDate=date instanceof Date?date:new Date(date);const hijriDate=toHijri(gregorianDate);const dayName=hijriDate_ARABIC_DAYS[gregorianDate.getDay()];const gregorianDay=gregorianDate.getDate();const gregorianMonth=GREGORIAN_MONTHS[gregorianDate.getMonth()];const gregorianYear=gregorianDate.getFullYear();return{hijri:hijriDate,gregorian:{day:gregorianDay,month:gregorianDate.getMonth()+1,year:gregorianYear,monthName:gregorianMonth,dayName:dayName,formatted:"".concat(dayName,"\u060C ").concat(gregorianDay," ").concat(gregorianMonth," ").concat(gregorianYear,"\u0645")},combined:"".concat(dayName,"\u060C ").concat(hijriDate===null||hijriDate===void 0?void 0:hijriDate.day," ").concat(hijriDate===null||hijriDate===void 0?void 0:hijriDate.monthName," ").concat(hijriDate===null||hijriDate===void 0?void 0:hijriDate.year,"\u0647\u0640 (").concat(gregorianDay," ").concat(gregorianMonth," ").concat(gregorianYear,"\u0645)")};};/**
 * Format Hijri date for display
 * @param {Date|string|number} date - Date to format
 * @returns {string} Formatted Hijri date
 */const formatHijri=function(){let date=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date();const hijri=toHijri(date);if(!hijri)return'';return hijri.formatted;};/**
 * Format Gregorian date in Arabic
 * @param {Date|string|number} date - Date to format
 * @returns {string} Formatted Gregorian date
 */const formatGregorian=function(){let date=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date();const gregorianDate=date instanceof Date?date:new Date(date);const dayName=hijriDate_ARABIC_DAYS[gregorianDate.getDay()];const day=gregorianDate.getDate();const month=GREGORIAN_MONTHS[gregorianDate.getMonth()];const year=gregorianDate.getFullYear();return"".concat(dayName,"\u060C ").concat(day," ").concat(month," ").concat(year,"\u0645");};/**
 * Get time until next prayer (placeholder - can enhance later)
 * @returns {string} Time until next prayer
 */const getTimeUntilNextPrayer=()=>{const now=new Date();const hour=now.getHours();// Simple prayer time estimation (should use proper prayer time API in production)
const prayerTimes=[{name:'Ø§Ù„ÙØ¬Ø±',hour:5},{name:'Ø§Ù„Ø¸Ù‡Ø±',hour:12},{name:'Ø§Ù„Ø¹ØµØ±',hour:15},{name:'Ø§Ù„Ù…ØºØ±Ø¨',hour:18},{name:'Ø§Ù„Ø¹Ø´Ø§Ø¡',hour:20}];for(const prayer of prayerTimes){if(hour<prayer.hour){const hoursUntil=prayer.hour-hour;return"".concat(hoursUntil," \u0633\u0627\u0639\u0629 \u062D\u062A\u0649 ").concat(prayer.name);}}return'Ø§Ù„ÙØ¬Ø± ØºØ¯Ø§Ù‹';};/**
 * Check if date is in Ramadan
 * @param {Date|string|number} date - Date to check
 * @returns {boolean} True if in Ramadan
 */const isRamadan=function(){let date=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date();const hijri=toHijri(date);return hijri?hijri.month===9:false;};/**
 * Get Islamic occasion for current date (if any)
 * @param {Date|string|number} date - Date to check
 * @returns {string|null} Occasion name or null
 */const getIslamicOccasion=function(){let date=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date();const hijri=toHijri(date);if(!hijri)return null;const occasions={'1-1':'Ø±Ø£Ø³ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ù‡Ø¬Ø±ÙŠØ©','1-10':'Ø¹Ø§Ø´ÙˆØ±Ø§Ø¡','3-12':'Ø§Ù„Ù…ÙˆÙ„Ø¯ Ø§Ù„Ù†Ø¨ÙˆÙŠ Ø§Ù„Ø´Ø±ÙŠÙ','9-1':'Ø£ÙˆÙ„ Ø±Ù…Ø¶Ø§Ù†','9-27':'Ù„ÙŠÙ„Ø© Ø§Ù„Ù‚Ø¯Ø±','10-1':'Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø± Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ','10-2':'Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø± Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ','10-3':'Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø± Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ','12-9':'ÙŠÙˆÙ… Ø¹Ø±ÙØ©','12-10':'Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰ Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ','12-11':'Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰ Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ','12-12':'Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰ Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ'};const key="".concat(hijri.month,"-").concat(hijri.day);return occasions[key]||null;};/**
 * Format date for API (ISO format)
 * @param {Date|string|number} date - Date to format
 * @returns {string} ISO formatted date
 */const toISODate=function(){let date=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date();const gregorianDate=date instanceof Date?date:new Date(date);return gregorianDate.toISOString().split('T')[0];};/**
 * Get current time in Arabic format
 * @returns {string} Current time (e.g., "Ù£:Ù¤Ù¥ Ù…")
 */const getCurrentTimeArabic=()=>{const now=new Date();let hours=now.getHours();const minutes=now.getMinutes();const period=hours>=12?'Ù…':'Øµ';// Convert to 12-hour format
hours=hours%12||12;// Convert to Arabic numerals
const arabicHours=hours.toString().replace(/\d/g,d=>'Ù Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©'[d]);const arabicMinutes=minutes.toString().padStart(2,'0').replace(/\d/g,d=>'Ù Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©'[d]);return"".concat(arabicHours,":").concat(arabicMinutes," ").concat(period);};/**
 * Convert English numbers to Arabic numerals
 * @param {string|number} number - Number to convert
 * @returns {string} Arabic numerals
 */const hijriDate_toArabicNumerals=number=>{return number.toString().replace(/\d/g,d=>'Ù Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©'[d]);};/**
 * Get greeting based on time of day
 * @returns {string} Arabic greeting
 */const getTimeGreeting=()=>{const hour=new Date().getHours();if(hour<12)return'ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ±';if(hour<17)return'Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ±';if(hour<21)return'Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ±';return'ØªØµØ¨Ø­ Ø¹Ù„Ù‰ Ø®ÙŠØ±';};/* harmony default export */ const hijriDate = ({toHijri,getCurrentHijri,formatBothCalendars,formatHijri,formatGregorian,getTimeUntilNextPrayer,isRamadan,getIslamicOccasion,toISODate,getCurrentTimeArabic,toArabicNumerals: hijriDate_toArabicNumerals,getTimeGreeting,HIJRI_MONTHS: hijriDate_HIJRI_MONTHS,ARABIC_DAYS: hijriDate_ARABIC_DAYS,GREGORIAN_MONTHS});
;// ./src/pages/admin/NewsManagement.tsx
// Force component to be included in bundle
if(true){console.log('[NewsManagement] Component loaded');}const NewsManagement=()=>{const[news,setNews]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[showCreateModal,setShowCreateModal]=(0,react.useState)(false);const[showPreviewModal,setShowPreviewModal]=(0,react.useState)(false);const[previewNews,setPreviewNews]=(0,react.useState)(null);const[selectedCategory,setSelectedCategory]=(0,react.useState)('all');const[searchTerm,setSearchTerm]=(0,react.useState)('');const[activeTab,setActiveTab]=(0,react.useState)('ar');// ar or en
const[showPushModal,setShowPushModal]=(0,react.useState)(false);const[pushingNewsId,setPushingNewsId]=(0,react.useState)(null);const fileInputRef=(0,react.useRef)(null);// Form state
const[formData,setFormData]=(0,react.useState)({title_ar:'',title_en:'',content_ar:'',content_en:'',category:'general',priority:'normal',is_published:false,images:[]});const API_URL="http://localhost:3001"||0;(0,react.useEffect)(()=>{fetchNews();},[selectedCategory]);const fetchNews=async()=>{try{const token=localStorage.getItem('token');const params=selectedCategory!=='all'?{category:selectedCategory}:{};const response=await axios["default"].get("".concat(API_URL,"/news"),{params,headers:{Authorization:"Bearer ".concat(token)}});setNews(response.data.news||[]);setLoading(false);}catch(error){console.error('Fetch error:',error);setNews([]);setLoading(false);}};const handleCreate=async e=>{e.preventDefault();try{const token=localStorage.getItem('token');const formDataToSend=new FormData();// Append text fields
Object.keys(formData).forEach(key=>{if(key!=='images'){const value=formData[key];if(typeof value==='string'||typeof value==='boolean'){formDataToSend.append(key,String(value));}}});// Append images
if(formData.images&&formData.images.length>0){formData.images.forEach(image=>{formDataToSend.append('images',image);});}await axios["default"].post("".concat(API_URL,"/news"),formDataToSend,{headers:{Authorization:"Bearer ".concat(token),'Content-Type':'multipart/form-data'}});alert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø®Ø¨Ø± Ø¨Ù†Ø¬Ø§Ø­!');setShowCreateModal(false);fetchNews();resetForm();}catch(error){var _error$response,_error$response$data;alert('Ø®Ø·Ø£: '+(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||error.message));}};const handlePushNotification=async newsId=>{try{const token=localStorage.getItem('token');await axios["default"].post("".concat(API_URL,"/news/").concat(newsId,"/push-notification"),{},{headers:{Authorization:"Bearer ".concat(token)}});// Show success animation
setPushingNewsId(newsId);setTimeout(()=>{setPushingNewsId(null);alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¥Ù„Ù‰ 344 Ø¹Ø¶Ùˆ Ø¨Ù†Ø¬Ø§Ø­!');},2000);setShowPushModal(false);}catch(error){var _error$response2,_error$response2$data;alert('Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±: '+(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||error.message));}};const handleImageUpload=e=>{const files=Array.from(e.target.files||[]);setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{images:[...formData.images,...files]}));};const removeImage=index=>{const newImages=formData.images.filter((_,i)=>i!==index);setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{images:newImages}));};const resetForm=()=>{setFormData({title_ar:'',title_en:'',content_ar:'',content_en:'',category:'general',priority:'normal',is_published:false,images:[]});};const getCategoryText=category=>{const texts={announcement:'Ø¥Ø¹Ù„Ø§Ù†',urgent:'Ø¹Ø§Ø¬Ù„',event:'Ø­Ø¯Ø«',general:'Ø¹Ø§Ù…'};return texts[category]||category;};const getCategoryColor=category=>{const colors={announcement:'bg-blue-500',urgent:'bg-red-500',event:'bg-purple-500',general:'bg-gray-500'};return colors[category]||'bg-gray-500';};const getPriorityColor=priority=>{const colors={high:'text-red-600',normal:'text-gray-600',low:'text-gray-400'};return colors[priority]||'text-gray-600';};const filteredNews=news.filter(item=>{var _item$title_ar,_item$title_en;return((_item$title_ar=item.title_ar)===null||_item$title_ar===void 0?void 0:_item$title_ar.toLowerCase().includes(searchTerm.toLowerCase()))||((_item$title_en=item.title_en)===null||_item$title_en===void 0?void 0:_item$title_en.toLowerCase().includes(searchTerm.toLowerCase()));});if(loading){return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex justify-center items-center h-screen",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});}return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-4 md:p-8",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"max-w-7xl mx-auto mb-8",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-6 backdrop-blur-lg bg-opacity-90",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0623\u062E\u0628\u0627\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600",children:"\u0625\u0646\u0634\u0627\u0621 \u0648\u0625\u062F\u0627\u0631\u0629 \u0623\u062E\u0628\u0627\u0631 \u0627\u0644\u0639\u0627\u0626\u0644\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setShowCreateModal(true),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-8 py-4 rounded-xl hover:shadow-2xl hover:scale-105 transition-all duration-300 flex items-center gap-3 font-bold",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-2xl",children:"+"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062E\u0628\u0631 \u062C\u062F\u064A\u062F"})]})]})})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"max-w-7xl mx-auto mb-6",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-4 backdrop-blur-lg bg-opacity-90",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex-1",children:/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0623\u062E\u0628\u0627\u0631...",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:['all','announcement','urgent','event','general'].map(category=>/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setSelectedCategory(category),className:"px-6 py-3 rounded-lg transition-all duration-200 whitespace-nowrap font-medium ".concat(selectedCategory===category?'bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg':'bg-gray-100 hover:bg-gray-200 text-gray-700'),children:category==='all'?'Ø§Ù„ÙƒÙ„':getCategoryText(category)},category))})]})})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"max-w-7xl mx-auto mb-8",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-sm opacity-90 mb-2",children:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0623\u062E\u0628\u0627\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-4xl font-bold",children:news.length})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg p-6 text-white",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-sm opacity-90 mb-2",children:"\u0627\u0644\u0645\u0646\u0634\u0648\u0631\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-4xl font-bold",children:news.filter(n=>n.is_published).length})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl shadow-lg p-6 text-white",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-sm opacity-90 mb-2",children:"\u0627\u0644\u0645\u0633\u0648\u062F\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-4xl font-bold",children:news.filter(n=>!n.is_published).length})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl shadow-lg p-6 text-white",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-sm opacity-90 mb-2",children:"\u0627\u0644\u0639\u0627\u062C\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-4xl font-bold",children:news.filter(n=>n.category==='urgent').length})]})]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"max-w-7xl mx-auto",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:filteredNews.map(item=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group ".concat(item.category==='urgent'?'ring-2 ring-red-500 ring-offset-2':''),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"h-2 ".concat(getCategoryColor(item.category))}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"p-6",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex justify-between items-start mb-4",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex-1",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2 line-clamp-2",children:item.title_ar||item.title_en||'Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†'}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"px-2 py-1 rounded text-xs text-white ".concat(getCategoryColor(item.category)),children:getCategoryText(item.category)}),!item.is_published&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"px-2 py-1 rounded text-xs bg-yellow-100 text-yellow-800",children:"\u0645\u0633\u0648\u062F\u0629"}),item.priority==='high'&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"\u0639\u0627\u0644\u064A\u0629 \u0627\u0644\u0623\u0648\u0644\u0648\u064A\u0629"})]})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:item.content_ar||item.content_en||'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø­ØªÙˆÙ‰'}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-4 text-sm text-gray-500 mb-4 pb-4 border-b",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\uD83D\uDC41\uFE0F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:item.views_count||0})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2713"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:item.reads_count||0})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2764\uFE0F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:item.reactions_count||0})]})]}),item.created_at&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"mb-4 p-2 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-xs text-green-800 font-medium flex items-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\uD83D\uDCC5"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:formatHijri(item.created_at)})]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>{setPreviewNews(item);setShowPreviewModal(true);},className:"flex-1 bg-gray-100 hover:bg-gray-200 py-2 rounded-lg transition-colors duration-200 text-sm font-medium",children:"\u0645\u0639\u0627\u064A\u0646\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>window.location.href="/admin/news/".concat(item.id,"/edit"),className:"flex-1 bg-blue-100 hover:bg-blue-200 text-blue-700 py-2 rounded-lg transition-colors duration-200 text-sm font-medium",children:"\u062A\u0639\u062F\u064A\u0644"})]}),item.is_published&&/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>{setPreviewNews(item);setShowPushModal(true);},disabled:pushingNewsId===item.id,className:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white py-3 rounded-lg font-bold text-sm transition-all duration-300 hover:shadow-2xl hover:scale-105 flex items-center justify-center gap-2 ".concat(pushingNewsId===item.id?'animate-pulse':''),children:pushingNewsId===item.id?/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"animate-spin",children:"\u26A1"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0631\u0633\u0627\u0644..."})]}):/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-xl",children:"\uD83D\uDCE2"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0625\u0631\u0633\u0627\u0644 \u0625\u0634\u0639\u0627\u0631 \u0644\u062C\u0645\u064A\u0639 \u0627\u0644\u0623\u0639\u0636\u0627\u0621"})]})})]})]})]},item.id))}),filteredNews.length===0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-center py-16",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-gray-400 text-8xl mb-6",children:"\uD83D\uDCF0"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600 text-2xl mb-4",children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0623\u062E\u0628\u0627\u0631 \u062D\u0627\u0644\u064A\u0627\u064B"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowCreateModal(true),className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 font-medium",children:"\u0625\u0646\u0634\u0627\u0621 \u0623\u0648\u0644 \u062E\u0628\u0631"})]})]}),showCreateModal&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full my-8 shadow-2xl",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 flex justify-between items-center rounded-t-2xl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-2xl font-bold",children:"\u0625\u0646\u0634\u0627\u0621 \u062E\u0628\u0631 \u062C\u062F\u064A\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowCreateModal(false),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full w-10 h-10 flex items-center justify-center text-2xl transition-all",children:"\xD7"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("form",{onSubmit:handleCreate,className:"p-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 mb-6",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>setActiveTab('ar'),className:"flex-1 py-3 rounded-lg font-bold transition-all ".concat(activeTab==='ar'?'bg-blue-600 text-white shadow-lg':'bg-gray-100 text-gray-600 hover:bg-gray-200'),children:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>setActiveTab('en'),className:"flex-1 py-3 rounded-lg font-bold transition-all ".concat(activeTab==='en'?'bg-blue-600 text-white shadow-lg':'bg-gray-100 text-gray-600 hover:bg-gray-200'),children:"English"})]}),activeTab==='ar'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"space-y-4 mb-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:formData.title_ar,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{title_ar:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:true,dir:"rtl"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"\u0627\u0644\u0645\u062D\u062A\u0648\u0649 \u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{value:formData.content_ar,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{content_ar:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:8,required:true,dir:"rtl"})]})]}),activeTab==='en'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"space-y-4 mb-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Title (English)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:formData.title_en,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{title_en:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",dir:"ltr"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Content (English)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{value:formData.content_en,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{content_en:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:8,dir:"ltr"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"\u0627\u0644\u062A\u0635\u0646\u064A\u0641"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:formData.category,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{category:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"general",children:"\u0639\u0627\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"announcement",children:"\u0625\u0639\u0644\u0627\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"urgent",children:"\u0639\u0627\u062C\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"event",children:"\u062D\u062F\u062B"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"\u0627\u0644\u0623\u0648\u0644\u0648\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:formData.priority,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{priority:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"low",children:"\u0645\u0646\u062E\u0641\u0636\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"normal",children:"\u0639\u0627\u062F\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"high",children:"\u0639\u0627\u0644\u064A\u0629"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"\u0627\u0644\u062D\u0627\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"flex items-center gap-3 px-4 py-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"checkbox",checked:formData.is_published,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{is_published:e.target.checked})),className:"w-5 h-5 text-blue-600"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"font-medium",children:"\u0646\u0634\u0631 \u0645\u0628\u0627\u0634\u0631\u0629"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mb-6",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"\u0627\u0644\u0635\u0648\u0631 \u0648\u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-6xl mb-2",children:"\uD83D\uDCC1"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600 font-medium",children:"\u0627\u0636\u063A\u0637 \u0644\u0631\u0641\u0639 \u0627\u0644\u0635\u0648\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"PNG, JPG, GIF \u062D\u062A\u0649 10MB"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{ref:fileInputRef,type:"file",multiple:true,accept:"image/*",onChange:handleImageUpload,className:"hidden"})]}),formData.images.length>0&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:formData.images.map((image,index)=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"relative group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:URL.createObjectURL(image),alt:"Preview ".concat(index),className:"w-full h-32 object-cover rounded-lg"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>removeImage(index),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:"\xD7"})]},index))})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-3",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>setShowCreateModal(false),className:"flex-1 bg-gray-100 hover:bg-gray-200 py-3 rounded-lg transition-colors duration-200 font-bold",children:"\u0625\u0644\u063A\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 rounded-lg transition-all duration-200 font-bold shadow-lg hover:shadow-xl",children:"\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062E\u0628\u0631"})]})]})]})}),showPushModal&&previewNews&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl animate-bounce-in",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-6 rounded-t-2xl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-6xl text-center mb-4",children:"\u26A0\uFE0F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-2xl font-bold text-center",children:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0625\u0631\u0633\u0627\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"p-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-yellow-50 border-2 border-yellow-400 rounded-lg p-4 mb-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-center text-lg font-bold mb-2",children:"\u0633\u064A\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0625\u0634\u0639\u0627\u0631 \u0625\u0644\u0649"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-center text-5xl font-bold text-red-600 mb-2",children:"344"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-center text-lg font-bold",children:"\u0639\u0636\u0648 \u0645\u0646 \u0639\u0627\u0626\u0644\u0629 \u0627\u0644\u0634\u0639\u064A\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"font-bold text-gray-700 mb-2",children:"\u0645\u0639\u0627\u064A\u0646\u0629 \u0627\u0644\u0625\u0634\u0639\u0627\u0631:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600 line-clamp-2",children:previewNews.title_ar||previewNews.title_en})]}),previewNews.created_at&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-3 mb-6",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-sm text-green-800 font-medium text-center flex items-center justify-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\uD83D\uDCC5"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0647\u062C\u0631\u064A: ",formatHijri(previewNews.created_at)]})]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-3",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowPushModal(false),className:"flex-1 bg-gray-100 hover:bg-gray-200 py-3 rounded-lg transition-colors font-bold",children:"\u0625\u0644\u063A\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>handlePushNotification(previewNews.id),className:"flex-1 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white py-3 rounded-lg font-bold transition-all hover:shadow-xl",children:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0625\u0631\u0633\u0627\u0644"})]})]})]})}),showPreviewModal&&previewNews&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white rounded-2xl max-w-2xl w-full my-8 shadow-2xl",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 flex justify-between items-center rounded-t-2xl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-2xl font-bold",children:"\u0645\u0639\u0627\u064A\u0646\u0629 \u0627\u0644\u062E\u0628\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowPreviewModal(false),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full w-10 h-10 flex items-center justify-center text-2xl",children:"\xD7"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"p-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 mb-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"px-3 py-1 rounded-full text-sm text-white ".concat(getCategoryColor(previewNews.category)),children:getCategoryText(previewNews.category)}),!previewNews.is_published&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"px-3 py-1 rounded-full text-sm bg-yellow-100 text-yellow-800",children:"\u0645\u0633\u0648\u062F\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:previewNews.title_ar||previewNews.title_en}),previewNews.title_en&&/*#__PURE__*/(0,jsx_runtime.jsx)("h4",{className:"text-xl text-gray-600 mb-4",dir:"ltr",children:previewNews.title_en}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed mb-4",children:previewNews.content_ar||previewNews.content_en}),previewNews.content_en&&/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600 whitespace-pre-wrap leading-relaxed",dir:"ltr",children:previewNews.content_en}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-4 text-sm text-gray-500 mt-6 pt-6 border-t",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:["\u0627\u0644\u0645\u0634\u0627\u0647\u062F\u0627\u062A: ",previewNews.views_count||0]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:["\u0627\u0644\u0642\u0631\u0627\u0621\u0627\u062A: ",previewNews.reads_count||0]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:["\u0627\u0644\u062A\u0641\u0627\u0639\u0644\u0627\u062A: ",previewNews.reactions_count||0]})]}),previewNews.created_at&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mt-4 p-3 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-sm text-green-800 font-medium flex items-center justify-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\uD83D\uDCC5"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0646\u0634\u0631 (\u0647\u062C\u0631\u064A): ",formatHijri(previewNews.created_at)]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-xs text-gray-600 text-center mt-1",children:[new Date(previewNews.created_at).toLocaleDateString('ar-SA')," (\u0645\u064A\u0644\u0627\u062F\u064A)"]})]})]})]})})]});};/* harmony default export */ const admin_NewsManagement = (NewsManagement);
;// ./src/pages/admin/InitiativesManagement.tsx
// Force component to be included in bundle
if(true){console.log('[InitiativesManagement] Component loaded');}const InitiativesManagement=()=>{const[initiatives,setInitiatives]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[showCreateModal,setShowCreateModal]=(0,react.useState)(false);const[selectedStatus,setSelectedStatus]=(0,react.useState)('all');// Form state
const[formData,setFormData]=(0,react.useState)({title_ar:'',title_en:'',description_ar:'',description_en:'',beneficiary_name_ar:'',beneficiary_name_en:'',target_amount:'',min_contribution:'',max_contribution:'',start_date:'',end_date:'',status:'draft'});(0,react.useEffect)(()=>{fetchInitiatives();},[selectedStatus]);const fetchInitiatives=async()=>{try{const token=localStorage.getItem('token');const params=selectedStatus!=='all'?{status:selectedStatus}:{};const response=await axios["default"].get("".concat("http://localhost:3001","/api/initiatives-enhanced/admin/all"),{params,headers:{Authorization:"Bearer ".concat(token)}});setInitiatives(response.data.initiatives||[]);setLoading(false);}catch(error){console.error('Fetch error:',error);setInitiatives([]);setLoading(false);}};const handleCreate=async e=>{e.preventDefault();try{const token=localStorage.getItem('token');await axios["default"].post("".concat("http://localhost:3001","/api/initiatives-enhanced"),formData,{headers:{Authorization:"Bearer ".concat(token)}});alert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø© Ø¨Ù†Ø¬Ø§Ø­!');setShowCreateModal(false);fetchInitiatives();// Reset form
setFormData({title_ar:'',title_en:'',description_ar:'',description_en:'',beneficiary_name_ar:'',beneficiary_name_en:'',target_amount:'',min_contribution:'',max_contribution:'',start_date:'',end_date:'',status:'draft'});}catch(error){var _error$response,_error$response$data;alert('Ø®Ø·Ø£: '+(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||error.message));}};const handleStatusChange=async(initiativeId,newStatus)=>{try{const token=localStorage.getItem('token');await axios["default"].patch("".concat("http://localhost:3001","/api/initiatives-enhanced/").concat(initiativeId,"/status"),{status:newStatus},{headers:{Authorization:"Bearer ".concat(token)}});alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­');fetchInitiatives();}catch(error){alert('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©');}};const getStatusColor=status=>{const colors={draft:'bg-gray-500',active:'bg-green-500',completed:'bg-blue-500',archived:'bg-purple-500'};return colors[status]||'bg-gray-500';};const getStatusText=status=>{const texts={draft:'Ù…Ø³ÙˆØ¯Ø©',active:'Ù†Ø´Ø·',completed:'Ù…ÙƒØªÙ…Ù„',archived:'Ù…Ø¤Ø±Ø´Ù'};return texts[status]||status;};if(loading)return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex justify-center items-center h-screen",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"container mx-auto px-4 py-8",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0628\u0627\u062F\u0631\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setShowCreateModal(true),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-lg hover:shadow-lg transition-all duration-200 flex items-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-xl",children:"+"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0645\u0628\u0627\u062F\u0631\u0629 \u062C\u062F\u064A\u062F\u0629"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"mb-6 flex gap-3 overflow-x-auto pb-2",children:['all','draft','active','completed','archived'].map(status=>/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setSelectedStatus(status),className:"px-6 py-2 rounded-lg transition-all duration-200 whitespace-nowrap ".concat(selectedStatus===status?'bg-blue-600 text-white shadow-md':'bg-gray-100 hover:bg-gray-200'),children:status==='all'?'Ø§Ù„ÙƒÙ„':getStatusText(status)},status))}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-gray-600 text-sm",children:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0627\u062F\u0631\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-2xl font-bold",children:initiatives.length})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-gray-600 text-sm",children:"\u0627\u0644\u0645\u0628\u0627\u062F\u0631\u0627\u062A \u0627\u0644\u0646\u0634\u0637\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-2xl font-bold text-green-600",children:initiatives.filter(i=>i.status==='active').length})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-gray-600 text-sm",children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0633\u062A\u0647\u062F\u0641 \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-2xl font-bold",children:[initiatives.reduce((sum,i)=>sum+(i.target_amount||0),0).toLocaleString()," \u0631.\u0633"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-gray-600 text-sm",children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062D\u0635\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[initiatives.reduce((sum,i)=>sum+(i.current_amount||0),0).toLocaleString()," \u0631.\u0633"]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:initiatives.map(init=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-200 overflow-hidden",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"h-2 ".concat(getStatusColor(init.status))}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"p-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:init.title_ar||'Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†'}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"px-2 py-1 rounded text-xs text-white ".concat(getStatusColor(init.status)),children:getStatusText(init.status)})]}),init.beneficiary_name_ar&&/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["\u0627\u0644\u0645\u0633\u062A\u0641\u064A\u062F: ",init.beneficiary_name_ar]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mb-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0644\u062A\u0642\u062F\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:[(init.current_amount/init.target_amount*100).toFixed(0),"%"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(init.current_amount/init.target_amount*100,100),"%")}})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex justify-between text-sm mt-2",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"text-gray-600",children:[(init.current_amount||0).toLocaleString()," \u0631.\u0633"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"font-bold",children:[(init.target_amount||0).toLocaleString()," \u0631.\u0633"]})]})]}),(init.min_contribution||init.max_contribution)&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-xs text-gray-500 mb-3",children:[init.min_contribution&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649: ",init.min_contribution," \u0631.\u0633"]}),init.min_contribution&&init.max_contribution&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:" | "}),init.max_contribution&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649: ",init.max_contribution," \u0631.\u0633"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>window.location.href="/admin/initiatives/".concat(init.id),className:"flex-1 bg-gray-100 hover:bg-gray-200 py-2 rounded-lg transition-colors duration-200",children:"\u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644"}),init.status==='draft'&&/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>handleStatusChange(init.id,'active'),className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg transition-colors duration-200",children:"\u062A\u0641\u0639\u064A\u0644"}),init.status==='active'&&/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>handleStatusChange(init.id,'completed'),className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-lg transition-colors duration-200",children:"\u0625\u0643\u0645\u0627\u0644"})]})]})]},init.id))}),initiatives.length===0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-center py-12",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\uD83D\uDCCB"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600 text-xl",children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0628\u0627\u062F\u0631\u0627\u062A \u062D\u0627\u0644\u064A\u0627\u064B"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowCreateModal(true),className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"\u0625\u0646\u0634\u0627\u0621 \u0623\u0648\u0644 \u0645\u0628\u0627\u062F\u0631\u0629"})]}),showCreateModal&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-2xl font-bold",children:"\u0625\u0646\u0634\u0627\u0621 \u0645\u0628\u0627\u062F\u0631\u0629 \u062C\u062F\u064A\u062F\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowCreateModal(false),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xD7"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("form",{onSubmit:handleCreate,className:"p-6 space-y-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 (\u0639\u0631\u0628\u064A) *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:formData.title_ar,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{title_ar:e.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:true})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:formData.title_en,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{title_en:e.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u0641\u064A\u062F (\u0639\u0631\u0628\u064A)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:formData.beneficiary_name_ar,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{beneficiary_name_ar:e.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u0641\u064A\u062F (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:formData.beneficiary_name_en,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{beneficiary_name_en:e.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0627\u0644\u0648\u0635\u0641 (\u0639\u0631\u0628\u064A)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{value:formData.description_ar,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{description_ar:e.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0627\u0644\u0648\u0635\u0641 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{value:formData.description_en,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{description_en:e.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0633\u062A\u0647\u062F\u0641 *"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",value:formData.target_amount,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{target_amount:e.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:true,min:"0",step:"0.01"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0645\u0633\u0627\u0647\u0645\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",value:formData.min_contribution,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{min_contribution:e.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u0633\u0627\u0647\u0645\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",value:formData.max_contribution,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{max_contribution:e.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Common_SimpleHijriDatePicker,{label:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0628\u062F\u0627\u064A\u0629",value:formData.start_date,onChange:date=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{start_date:date})),required:false})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Common_SimpleHijriDatePicker,{label:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0646\u0647\u0627\u064A\u0629",value:formData.end_date,onChange:date=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{end_date:date})),required:false})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u0627\u0644\u062D\u0627\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:formData.status,onChange:e=>setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{status:e.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"draft",children:"\u0645\u0633\u0648\u062F\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"active",children:"\u0646\u0634\u0637"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-3 pt-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>setShowCreateModal(false),className:"flex-1 bg-gray-100 hover:bg-gray-200 py-3 rounded-lg transition-colors duration-200",children:"\u0625\u0644\u063A\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-3 rounded-lg transition-all duration-200",children:"\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0628\u0627\u062F\u0631\u0629"})]})]})]})})]});};/* harmony default export */ const admin_InitiativesManagement = (InitiativesManagement);
;// ./src/utils/hijriDateUtils.ts
/**
 * Comprehensive Hijri Date Utilities for Al-Shuail Admin Dashboard
 * Provides conversion and formatting functions for Hijri dates
 */// Hijri month names
const hijriDateUtils_HIJRI_MONTHS=['Ù…Ø­Ø±Ù…','ØµÙØ±','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„','Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø¢Ø®Ø±','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰','Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø¢Ø®Ø±Ø©','Ø±Ø¬Ø¨','Ø´Ø¹Ø¨Ø§Ù†','Ø±Ù…Ø¶Ø§Ù†','Ø´ÙˆØ§Ù„','Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©','Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©'];/**
 * Convert Gregorian date to Hijri date
 * This is a simplified conversion - for production use a proper library like hijri-converter
 */function gregorianToHijri(date){// Get date components
const year=date.getFullYear();const month=date.getMonth()+1;const day=date.getDate();// Simplified conversion (approximate)
// Hijri year â‰ˆ Gregorian year - 579 + (month-1)/12
const hijriYear=Math.floor(year-579+(month-1)/12);// Map Gregorian months to approximate Hijri months
// This is simplified - actual conversion requires astronomical calculations
const hijriMonthIndex=date.getMonth();const hijriMonth=hijriMonthIndex+1;const hijriMonthName=hijriDateUtils_HIJRI_MONTHS[hijriMonthIndex];// Day stays approximately the same (simplified)
const hijriDay=day;return{year:hijriYear,month:hijriMonth,monthName:hijriMonthName,day:hijriDay,formatted:"".concat(hijriDay," ").concat(hijriMonthName," ").concat(hijriYear,"\u0647\u0640"),gregorian:date.toLocaleDateString('ar-SA')};}/**
 * Format a date in Hijri format
 */function hijriDateUtils_formatHijriDate(date){if(!date)return'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';const dateObj=typeof date==='string'?new Date(date):date;if(isNaN(dateObj.getTime()))return'ØªØ§Ø±ÙŠØ® ØºÙŠØ± ØµØ§Ù„Ø­';const hijri=gregorianToHijri(dateObj);return hijri.formatted;}/**
 * Get current Hijri date
 */function getCurrentHijriDate(){return gregorianToHijri(new Date());}/**
 * Format date with both Hijri and Gregorian
 */function hijriDateUtils_formatDualDate(date){if(!date){return{hijri:'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',gregorian:'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'};}const dateObj=typeof date==='string'?new Date(date):date;if(isNaN(dateObj.getTime())){return{hijri:'ØªØ§Ø±ÙŠØ® ØºÙŠØ± ØµØ§Ù„Ø­',gregorian:'ØªØ§Ø±ÙŠØ® ØºÙŠØ± ØµØ§Ù„Ø­'};}const hijri=gregorianToHijri(dateObj);return{hijri:hijri.formatted,gregorian:dateObj.toLocaleDateString('ar-SA',{year:'numeric',month:'long',day:'numeric'})};}/**
 * Get Hijri month name
 */function getHijriMonthName(monthIndex){return hijriDateUtils_HIJRI_MONTHS[monthIndex]||'';}/**
 * Get previous Hijri month name
 */function getPreviousHijriMonth(currentMonth){const index=hijriDateUtils_HIJRI_MONTHS.indexOf(currentMonth);if(index===-1)return'Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚';if(index===0)return hijriDateUtils_HIJRI_MONTHS[11];// Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©
return hijriDateUtils_HIJRI_MONTHS[index-1];}/**
 * Format time difference in Arabic
 */function formatTimeAgo(date){const dateObj=typeof date==='string'?new Date(date):date;const now=new Date();const diff=now.getTime()-dateObj.getTime();const minutes=Math.floor(diff/60000);const hours=Math.floor(diff/3600000);const days=Math.floor(diff/86400000);if(minutes<1)return'Ø§Ù„Ø¢Ù†';if(minutes===1)return'Ù…Ù†Ø° Ø¯Ù‚ÙŠÙ‚Ø©';if(minutes===2)return'Ù…Ù†Ø° Ø¯Ù‚ÙŠÙ‚ØªÙŠÙ†';if(minutes<60)return"\u0645\u0646\u0630 ".concat(minutes," \u062F\u0642\u0627\u0626\u0642");if(hours===1)return'Ù…Ù†Ø° Ø³Ø§Ø¹Ø©';if(hours===2)return'Ù…Ù†Ø° Ø³Ø§Ø¹ØªÙŠÙ†';if(hours<24)return"\u0645\u0646\u0630 ".concat(hours," \u0633\u0627\u0639\u0627\u062A");if(days===1)return'Ù…Ù†Ø° ÙŠÙˆÙ…';if(days===2)return'Ù…Ù†Ø° ÙŠÙˆÙ…ÙŠÙ†';if(days<30)return"\u0645\u0646\u0630 ".concat(days," \u0623\u064A\u0627\u0645");// Return Hijri date for older dates
return hijriDateUtils_formatHijriDate(dateObj);}/**
 * Check if date is overdue
 */function isOverdue(date){const dateObj=typeof date==='string'?new Date(date):date;return dateObj<new Date();}/**
 * Get days until date
 */function getDaysUntil(date){const dateObj=typeof date==='string'?new Date(date):date;const now=new Date();const diff=dateObj.getTime()-now.getTime();return Math.ceil(diff/86400000);}/**
 * Format for date input (YYYY-MM-DD)
 */function formatForDateInput(date){if(!date)return'';return date.toISOString().split('T')[0];}/**
 * Calculate age in Hijri years
 */function calculateHijriAge(birthDate){const birthDateObj=typeof birthDate==='string'?new Date(birthDate):birthDate;const today=new Date();const birthHijri=gregorianToHijri(birthDateObj);const todayHijri=gregorianToHijri(today);let age=todayHijri.year-birthHijri.year;// Adjust if birthday hasn't occurred this year
if(todayHijri.month<birthHijri.month||todayHijri.month===birthHijri.month&&todayHijri.day<birthHijri.day){age--;}return age;}/**
 * Islamic Occasions and Events
 */const ISLAMIC_OCCASIONS=[{month:1,day:1,nameAr:'Ø±Ø£Ø³ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ù‡Ø¬Ø±ÙŠØ©',nameEn:'Islamic New Year'},{month:1,day:10,nameAr:'Ø¹Ø§Ø´ÙˆØ±Ø§Ø¡',nameEn:'Ashura'},{month:3,day:12,nameAr:'Ø§Ù„Ù…ÙˆÙ„Ø¯ Ø§Ù„Ù†Ø¨ÙˆÙŠ',nameEn:'Mawlid al-Nabi'},{month:7,day:27,nameAr:'Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡ ÙˆØ§Ù„Ù…Ø¹Ø±Ø§Ø¬',nameEn:'Isra and Miraj'},{month:9,day:1,nameAr:'Ø£ÙˆÙ„ Ø±Ù…Ø¶Ø§Ù†',nameEn:'First day of Ramadan'},{month:9,day:27,nameAr:'Ù„ÙŠÙ„Ø© Ø§Ù„Ù‚Ø¯Ø±',nameEn:'Laylat al-Qadr'},{month:10,day:1,nameAr:'Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø±',nameEn:'Eid al-Fitr'},{month:12,day:9,nameAr:'ÙŠÙˆÙ… Ø¹Ø±ÙØ©',nameEn:'Day of Arafah'},{month:12,day:10,nameAr:'Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰',nameEn:'Eid al-Adha'}];/**
 * Check if date is Islamic occasion
 */function hijriDateUtils_getIslamicOccasion(date){const dateObj=typeof date==='string'?new Date(date):date;const hijri=gregorianToHijri(dateObj);const occasion=ISLAMIC_OCCASIONS.find(occ=>occ.month===hijri.month&&occ.day===hijri.day);return occasion?{nameAr:occasion.nameAr,nameEn:occasion.nameEn}:null;}/**
 * Convert Hijri date to Gregorian
 */function hijriToGregorian(hy,hm,hd){// Simplified conversion algorithm
let jd=Math.floor((11*hy+3)/30)+354*hy+30*hm-Math.floor((hm-1)/2)+hd+1948440-385;let l=jd+68569;let n=Math.floor(4*l/146097);l=l-Math.floor((146097*n+3)/4);let i=Math.floor(4000*(l+1)/1461001);l=l-Math.floor(1461*i/4)+31;let j=Math.floor(80*l/2447);let d=l-Math.floor(2447*j/80);l=Math.floor(j/11);let m=j+2-12*l;let y=100*(n-49)+i+l;return new Date(y,m-1,d);}/**
 * Get Hijri month days
 */function getHijriMonthDays(year,month){// Hijri months alternate between 29 and 30 days
// with adjustments for leap years
const isLeapYear=(year*11+14)%30<11;if(month===12&&isLeapYear){return 30;}return month%2===1?30:29;}/**
 * Validate Hijri date
 */function isValidHijriDate(year,month,day){if(year<1||year>1500)return false;if(month<1||month>12)return false;if(day<1||day>getHijriMonthDays(year,month))return false;return true;}const hijriDateUtils={gregorianToHijri,hijriToGregorian,formatHijriDate: hijriDateUtils_formatHijriDate,getCurrentHijriDate,formatDualDate: hijriDateUtils_formatDualDate,getHijriMonthName,getPreviousHijriMonth,formatTimeAgo,isOverdue,getDaysUntil,formatForDateInput,calculateHijriAge,getIslamicOccasion: hijriDateUtils_getIslamicOccasion,getHijriMonthDays,isValidHijriDate};/* harmony default export */ const utils_hijriDateUtils = (hijriDateUtils);
;// ./src/hooks/useApi.ts
const DASHBOARD_REFRESH_INTERVAL=300000;// 5 minutes instead of 30 seconds for stability
const MAX_ERROR_RETRIES=3;const ERROR_RETRY_DELAY=2000;// 2 seconds
const emptyDashboardData={members:{total:0,active:0,inactive:0,newThisMonth:0},payments:{pending:0,pendingAmount:0,monthlyRevenue:0,totalRevenue:0,totalPaid:0},subscriptions:{active:0,expired:0,total:0,revenue:0},activities:[]};const typedApiService=apiService;const extractData=(response,fallback)=>{if(response&&typeof response==='object'&&'data'in response){var _response$data;return(_response$data=response.data)!==null&&_response$data!==void 0?_response$data:fallback;}return fallback;};const toErrorMessage=function(err){let fallback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'Unknown error';if(err instanceof Error){return err.message;}if(typeof err==='string'){return err;}return fallback;};const useDashboardData=()=>{const[data,setData]=(0,react.useState)(null);const[loading,setLoading]=(0,react.useState)(true);const[error,setError]=(0,react.useState)(null);const[retryCount,setRetryCount]=(0,react.useState)(0);(0,react.useEffect)(()=>{let isMounted=true;let retryTimeout;const fetchData=async function(){let isRetry=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;try{if(!isRetry){setLoading(true);}console.log('ðŸ“Š Fetching dashboard data...');const response=await typedApiService.getDashboardStats();const payload=extractData(response,emptyDashboardData);if(isMounted){setData(payload);setError(null);setRetryCount(0);// Reset retry count on success
console.log('âœ… Dashboard data loaded successfully');}}catch(err){if(!isMounted){return;}const errorMessage=toErrorMessage(err);console.error('âŒ Dashboard data fetch failed:',errorMessage);// Only show error and use empty data if we've exhausted retries
if(retryCount>=MAX_ERROR_RETRIES){setError("\u0641\u0634\u0644 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A: ".concat(errorMessage));setData(emptyDashboardData);}else{// Don't set error state during retry attempts
setRetryCount(prev=>prev+1);// Schedule retry
retryTimeout=setTimeout(()=>{if(isMounted){console.log("\uD83D\uDD04 Retrying dashboard fetch (attempt ".concat(retryCount+1,"/").concat(MAX_ERROR_RETRIES,")..."));fetchData(true);}},ERROR_RETRY_DELAY*(retryCount+1));return;}}finally{if(isMounted&&!isRetry){setLoading(false);}}};fetchData();const interval=setInterval(()=>fetchData(),DASHBOARD_REFRESH_INTERVAL);return()=>{isMounted=false;clearInterval(interval);if(retryTimeout){clearTimeout(retryTimeout);}};},[retryCount]);// Add retryCount as dependency
return{data,loading,error};};const useMembers=()=>{const[members,setMembers]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[error,setError]=(0,react.useState)(null);const fetchMembers=async function(){let showLoading=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;try{if(showLoading){setLoading(true);}console.log('ðŸ‘¥ Fetching members data...');const response=await typedApiService.getMembers();const membersData=extractData(response,[]);setMembers(membersData);setError(null);console.log("\u2705 Loaded ".concat(membersData.length," members successfully"));}catch(err){const errorMessage=toErrorMessage(err);console.error('âŒ Members fetch failed:',errorMessage);setError("\u0641\u0634\u0644 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0623\u0639\u0636\u0627\u0621: ".concat(errorMessage));// Don't clear members data on error, keep existing data
if(members.length===0){setMembers([]);}}finally{if(showLoading){setLoading(false);}}};(0,react.useEffect)(()=>{fetchMembers();},[]);return{members,loading,error,refetch:()=>fetchMembers(false)};};const usePayments=function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const[payments,setPayments]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[error,setError]=(0,react.useState)(null);const fetchPayments=async()=>{try{setLoading(true);const response=await typedApiService.getPayments(filters);setPayments(extractData(response,[]));setError(null);}catch(err){setError(toErrorMessage(err));setPayments([]);}finally{setLoading(false);}};(0,react.useEffect)(()=>{fetchPayments();},[JSON.stringify(filters)]);return{payments,loading,error,refetch:fetchPayments};};const useSubscriptions=()=>{const[subscriptions,setSubscriptions]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[error,setError]=(0,react.useState)(null);const fetchSubscriptions=async()=>{try{setLoading(true);const response=await typedApiService.getSubscriptions();setSubscriptions(extractData(response,[]));setError(null);}catch(err){setError(toErrorMessage(err));setSubscriptions([]);}finally{setLoading(false);}};(0,react.useEffect)(()=>{fetchSubscriptions();},[]);return{subscriptions,loading,error,refetch:fetchSubscriptions};};
;// ./src/components/Dashboard/styles.ts
const styles={container:{height:'100vh',background:'linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)',fontFamily:'Tajawal, Cairo, sans-serif',direction:'rtl',color:'white',position:'relative',overflow:'hidden',display:'flex',flexDirection:'column'},header:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',padding:'1rem 2rem',height:'80px',flexShrink:0,display:'flex',justifyContent:'space-between',alignItems:'center',borderBottom:'1px solid rgba(255, 255, 255, 0.1)',position:'sticky',top:0,zIndex:100},mobileMenuButton:{display:'none',padding:'8px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',cursor:'pointer',transition:'all 0.3s'},breadcrumbs:{display:'flex',alignItems:'center',gap:'8px',fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'1rem'},mainLayout:{display:'flex',height:'calc(100vh - 80px)',flex:1,overflow:'hidden'},sidebar:{width:'280px',background:'rgba(255, 255, 255, 0.05)',backdropFilter:'blur(20px)',border:'1px solid rgba(255, 255, 255, 0.1)',boxShadow:'0 8px 32px rgba(0, 0, 0, 0.2)',padding:'2rem 1rem',transition:'transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)',position:'relative',height:'100%',overflowY:'auto'},sidebarOverlay:{display:'none',position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.5)',backdropFilter:'blur(5px)',zIndex:199,opacity:0,transition:'opacity 0.3s'},sidebarMobile:{position:'fixed',top:0,right:'-100%',bottom:0,width:'80%',maxWidth:'320px',background:'rgba(255, 255, 255, 0.08)',backdropFilter:'blur(25px)',border:'1px solid rgba(255, 255, 255, 0.15)',boxShadow:'-5px 0 25px rgba(0, 0, 0, 0.3)',padding:'2rem 1rem',transition:'right 0.3s cubic-bezier(0.4, 0, 0.2, 1)',zIndex:200,overflowY:'auto'},sidebarMobileOpen:{right:0},closeButton:{position:'absolute',top:'1rem',left:'1rem',padding:'8px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',cursor:'pointer',transition:'all 0.3s'},menuItem:{display:'flex',alignItems:'center',gap:'12px',padding:'14px 20px',marginBottom:'8px',borderRadius:'12px',background:'transparent',border:'2px solid transparent',color:'rgba(255, 255, 255, 0.8)',fontSize:'16px',cursor:'pointer',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',width:'100%',textAlign:'right',position:'relative',overflow:'hidden',minHeight:'48px'},menuItemActive:{background:'linear-gradient(135deg, rgba(59, 130, 246, 0.25), rgba(139, 92, 246, 0.25))',color:'white',border:'2px solid rgba(59, 130, 246, 0.4)',boxShadow:'0 4px 15px rgba(59, 130, 246, 0.3)',transform:'translateX(-4px)'},menuItemHover:{background:'rgba(255, 255, 255, 0.08)',transform:'translateX(-2px)'},activeIndicator:{position:'absolute',right:0,width:'4px',height:'70%',background:'linear-gradient(180deg, #3b82f6, #8b5cf6)',borderRadius:'4px 0 0 4px',opacity:0,transition:'opacity 0.3s'},activeIndicatorVisible:{opacity:1},menuIcon:{width:'22px',height:'22px',transition:'transform 0.3s'},menuIconActive:{transform:'scale(1.15) rotate(5deg)'},content:{flex:1,padding:'2rem',overflowY:'auto',position:'relative',height:'calc(100vh - 80px)',maxHeight:'calc(100vh - 80px)'},contentTransition:{opacity:0,transform:'translateX(20px)',animation:'contentEnter 300ms cubic-bezier(0.4, 0, 0.2, 1) forwards'},sectionHeader:{marginBottom:'2rem',opacity:0,animation:'fadeInUp 400ms ease-out forwards'},loadingContainer:{display:'flex',justifyContent:'center',alignItems:'center',minHeight:'400px'},loadingSpinner:{width:'50px',height:'50px',border:'3px solid rgba(255, 255, 255, 0.1)',borderTop:'3px solid rgba(59, 130, 246, 0.8)',borderRadius:'50%',animation:'spin 1s linear infinite'},emptyState:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',minHeight:'400px',padding:'3rem',textAlign:'center'},emptyStateIcon:{width:'80px',height:'80px',opacity:0.3,marginBottom:'1.5rem'},skeletonCard:{background:'rgba(255, 255, 255, 0.05)',borderRadius:'16px',padding:'1.5rem',marginBottom:'1rem',animation:'pulse 2s ease-in-out infinite'},skeletonLine:{height:'12px',background:'rgba(255, 255, 255, 0.1)',borderRadius:'6px',marginBottom:'8px'},statsGrid:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'1.5rem',flexShrink:0},statCard:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'1.5rem',textAlign:'center',transition:'transform 0.3s',cursor:'pointer'},iconBox:{width:'60px',height:'60px',margin:'0 auto 1rem',borderRadius:'12px',display:'flex',alignItems:'center',justifyContent:'center'},chartsGrid:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(400px, 1fr))',gap:'1.5rem',flexShrink:0},chartCard:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'1.5rem',height:'300px'},activitiesCard:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'1.5rem'},activityItem:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'1rem',marginBottom:'0.5rem',background:'rgba(255, 255, 255, 0.05)',borderRadius:'8px',border:'1px solid rgba(255, 255, 255, 0.1)'}};/* harmony default export */ const Dashboard_styles = (styles);
;// ./src/components/Dashboard/OverviewStats.tsx
const OverviewStats=_ref=>{let{stats}=_ref;return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:Dashboard_styles.statsGrid,children:stats.map((stat,index)=>{const Icon=stat.icon;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:Dashboard_styles.statCard,onMouseEnter:event=>{event.currentTarget.style.transform='translateY(-5px)';},onMouseLeave:event=>{event.currentTarget.style.transform='translateY(0)';},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},Dashboard_styles.iconBox),{},{background:stat.color}),children:/*#__PURE__*/(0,jsx_runtime.jsx)(Icon,{style:{width:'30px',height:'30px',color:'white'}})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'8px'},children:stat.title}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'24px',fontWeight:400,marginBottom:'8px'},children:stat.value}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'12px',color:stat.trend>=0?'#10b981':'#ef4444',display:'flex',alignItems:'center',justifyContent:'center',gap:'4px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowTrendingUpIcon,{style:{width:'14px',height:'14px',transform:stat.trend<0?'rotate(180deg)':'none'},"aria-hidden":"true"}),Math.abs(stat.trend),"%"]})]},"".concat(stat.title,"-").concat(index));})});};/* harmony default export */ const Dashboard_OverviewStats = (OverviewStats);
// EXTERNAL MODULE: ./node_modules/react-chartjs-2/dist/index.js
var react_chartjs_2_dist = __webpack_require__(6187);
;// ./src/components/Dashboard/OverviewCharts.tsx
const OverviewCharts=_ref=>{let{revenueData,memberDistribution,chartOptions,tribalSectionsData}=_ref;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',flexDirection:'column',gap:'1.5rem'},children:[tribalSectionsData&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},Dashboard_styles.chartCard),{},{width:'100%',maxWidth:'600px',margin:'0 auto',height:'500px',background:'linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(248,250,252,0.98) 100%)',boxShadow:'0 8px 32px rgba(0,0,0,0.08)',borderRadius:'20px',padding:'30px'}),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'24px',marginBottom:'1rem',textAlign:'center',color:'#1e293b',fontWeight:'600',fontFamily:'Cairo, -apple-system, BlinkMacSystemFont, sans-serif'},children:"\u062A\u0648\u0632\u064A\u0639 \u0627\u0644\u0623\u0631\u0635\u062F\u0629 \u062D\u0633\u0628 \u0627\u0644\u0641\u062E\u0630"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{height:'calc(100% - 50px)',position:'relative',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(react_chartjs_2_dist.Pie,{data:tribalSectionsData,options:(0,objectSpread2["default"])((0,objectSpread2["default"])({},chartOptions),{},{maintainAspectRatio:false,responsive:true,layout:{padding:{top:20,bottom:20,left:20,right:20}},plugins:(0,objectSpread2["default"])((0,objectSpread2["default"])({},chartOptions.plugins),{},{legend:{display:true,position:'right',align:'center',labels:{padding:12,usePointStyle:true,pointStyle:'circle',font:{family:'-apple-system, BlinkMacSystemFont, Cairo, sans-serif',size:13,weight:'500'},generateLabels:function(chart){const data=chart.data;if(data.labels.length&&data.datasets.length){return data.labels.map((label,i)=>{const dataset=data.datasets[0];const value=dataset.data[i];const total=dataset.data.reduce((a,b)=>a+b,0);const percentage=(value/total*100).toFixed(1);const formattedValue=(value/1000).toFixed(0);return{text:"".concat(label,": ").concat(formattedValue,"k SAR"),fillStyle:dataset.backgroundColor[i],strokeStyle:dataset.borderColor||'#fff',lineWidth:2,hidden:false,index:i};});}return[];}}},tooltip:{backgroundColor:'rgba(0, 0, 0, 0.9)',titleFont:{family:'-apple-system, BlinkMacSystemFont, Cairo, sans-serif',size:14,weight:'bold'},bodyFont:{family:'-apple-system, BlinkMacSystemFont, Cairo, sans-serif',size:13},padding:12,cornerRadius:8,callbacks:{label:function(context){const label=context.label||'';const value=context.parsed||0;const total=context.dataset.data.reduce((a,b)=>a+b,0);const percentage=(value/total*100).toFixed(1);const formattedValue=value.toLocaleString('ar-SA');return["".concat(label),"\u0627\u0644\u0631\u0635\u064A\u062F: ".concat(formattedValue," \u0631\u064A\u0627\u0644"),"\u0627\u0644\u0646\u0633\u0628\u0629: ".concat(percentage,"%")];}}}})})})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},Dashboard_styles.chartsGrid),{},{gridTemplateColumns:'repeat(auto-fit, minmax(320px, 1fr))'}),children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:Dashboard_styles.chartCard,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'18px',marginBottom:'1rem'},children:"\u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u0634\u0647\u0631\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{height:'calc(100% - 40px)'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(react_chartjs_2_dist.Line,{data:revenueData,options:chartOptions})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:Dashboard_styles.chartCard,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'18px',marginBottom:'1rem'},children:"\u062A\u0648\u0632\u064A\u0639 \u0627\u0644\u0623\u0639\u0636\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{height:'calc(100% - 40px)'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(react_chartjs_2_dist.Doughnut,{data:memberDistribution,options:chartOptions})})]})]})]});};/* harmony default export */ const Dashboard_OverviewCharts = (OverviewCharts);
;// ./src/components/Dashboard/RecentActivities.tsx
const RecentActivities=_ref=>{let{activities}=_ref;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:Dashboard_styles.activitiesCard,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'18px',marginBottom:'1rem'},children:"\u0627\u0644\u0646\u0634\u0627\u0637\u0627\u062A \u0627\u0644\u0623\u062E\u064A\u0631\u0629"}),activities.map((activity,index)=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:Dashboard_styles.activityItem,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontWeight:400,marginBottom:'4px'},children:activity.user}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)'},children:activity.action})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{textAlign:'left'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'12px',color:'rgba(255, 255, 255, 0.5)'},children:activity.time}),activity.amount&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'14px',color:'#10b981',fontWeight:400},children:activity.amount})]})]},"".concat(activity.user,"-").concat(index)))]});};/* harmony default export */ const Dashboard_RecentActivities = (RecentActivities);
// EXTERNAL MODULE: ./node_modules/chart.js/dist/chart.js + 2 modules
var chart = __webpack_require__(9765);
;// ./src/components/StyledDashboard.tsx
// @ts-ignore
// @ts-ignore
// @ts-ignore
// @ts-ignore
// @ts-ignore
// @ts-ignore
// @ts-ignore
// @ts-ignore
// @ts-ignore
// Crisis Recovery Components - CRITICAL PRIORITY
// @ts-ignore
// @ts-ignore
// @ts-ignore
// @ts-ignore
// News & Initiatives Management - NEW
// @ts-ignore
// @ts-ignore
// Import Apple Design System CSS for premium styling
// Import logo
chart.Chart.register(chart.CategoryScale,chart.LinearScale,chart.PointElement,chart.LineElement,chart.Title,chart.Tooltip,chart.Legend,chart.ArcElement);// Add keyframe animations
const styleSheet=document.createElement('style');styleSheet.textContent="\n\n  @keyframes ripple {\n\n    to {\n\n      transform: scale(4);\n\n      opacity: 0;\n\n    }\n\n  };\n\n  @keyframes contentEnter {\n\n    from {\n\n      opacity: 0;\n\n      transform: translateX(20px);\n\n    }\n\n    to {\n\n      opacity: 1;\n\n      transform: translateX(0);\n\n    }\n\n  @keyframes fadeInUp {\n\n    from {\n\n      opacity: 0;\n\n      transform: translateY(20px);\n\n    }\n\n    to {\n\n      opacity: 1;\n\n      transform: translateY(0);\n\n    }\n\n  }\n\n  @keyframes spin {\n\n    to {\n\n      transform: rotate(360deg);\n\n    }\n\n  }\n\n  @keyframes pulse {\n\n    0%, 100% {\n\n      opacity: 1;\n\n    }\n\n    50% {\n\n      opacity: 0.5;\n\n    }\n\n  }\n\n  .ripple {\n\n    position: absolute;\n\n    border-radius: 50%;\n\n    transform: scale(0);\n\n    animation: ripple 600ms ease-out;\n\n    background: rgba(255, 255, 255, 0.3);\n\n  }\n\n  @media (max-width: 768px) {\n\n    .mobile-menu-btn {\n\n      display: block !important;\n\n    }\n\n    .desktop-sidebar {\n\n      display: none !important;\n\n    }\n\n  }\n\n  @media (min-width: 769px) {\n\n    .mobile-menu-btn {\n\n      display: none !important;\n\n    }\n\n    .mobile-sidebar {\n\n      display: none !important;\n\n    }\n\n  }\n\n";if(!document.querySelector('#dashboard-styles')){styleSheet.id='dashboard-styles';document.head.appendChild(styleSheet);}const StyledDashboard_styles={container:{height:'100vh',background:'linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)',fontFamily:'Tajawal, Cairo, sans-serif',direction:'rtl',color:'white',position:'relative',overflow:'hidden',display:'flex',flexDirection:'column'},header:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',padding:'1rem 2rem',height:'80px',flexShrink:0,display:'flex',justifyContent:'space-between',alignItems:'center',borderBottom:'1px solid rgba(255, 255, 255, 0.1)',position:'sticky',top:0,zIndex:100},mobileMenuButton:{display:'none',padding:'8px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',cursor:'pointer',transition:'all 0.3s'},breadcrumbs:{display:'flex',alignItems:'center',gap:'8px',fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'1rem'},mainLayout:{display:'flex',height:'calc(100vh - 80px)',flex:1,overflow:'hidden'},sidebar:{width:'280px',background:'rgba(255, 255, 255, 0.05)',backdropFilter:'blur(20px)',border:'1px solid rgba(255, 255, 255, 0.1)',boxShadow:'0 8px 32px rgba(0, 0, 0, 0.2)',padding:'2rem 1rem',transition:'transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)',position:'relative',height:'100%',overflowY:'auto'},sidebarOverlay:{display:'none',position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.5)',backdropFilter:'blur(5px)',zIndex:199,opacity:0,transition:'opacity 0.3s'},sidebarMobile:{position:'fixed',top:0,right:'-100%',bottom:0,width:'80%',maxWidth:'320px',background:'rgba(255, 255, 255, 0.08)',backdropFilter:'blur(25px)',border:'1px solid rgba(255, 255, 255, 0.15)',boxShadow:'-5px 0 25px rgba(0, 0, 0, 0.3)',padding:'2rem 1rem',transition:'right 0.3s cubic-bezier(0.4, 0, 0.2, 1)',zIndex:200,overflowY:'auto'},sidebarMobileOpen:{right:0},closeButton:{position:'absolute',top:'1rem',left:'1rem',padding:'8px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',cursor:'pointer',transition:'all 0.3s'},menuItem:{display:'flex',alignItems:'center',gap:'12px',padding:'14px 20px',marginBottom:'8px',borderRadius:'12px',background:'transparent',border:'2px solid transparent',color:'rgba(255, 255, 255, 0.8)',fontSize:'16px',cursor:'pointer',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',width:'100%',textAlign:'right',position:'relative',overflow:'hidden',minHeight:'48px'},menuItemActive:{background:'linear-gradient(135deg, rgba(59, 130, 246, 0.25), rgba(139, 92, 246, 0.25))',color:'white',border:'2px solid rgba(59, 130, 246, 0.4)',boxShadow:'0 4px 15px rgba(59, 130, 246, 0.3)',transform:'translateX(-4px)'},menuItemHover:{background:'rgba(255, 255, 255, 0.08)',transform:'translateX(-2px)'},activeIndicator:{position:'absolute',right:0,width:'4px',height:'70%',background:'linear-gradient(180deg, #3b82f6, #8b5cf6)',borderRadius:'4px 0 0 4px',opacity:0,transition:'opacity 0.3s'},activeIndicatorVisible:{opacity:1},menuIcon:{width:'22px',height:'22px',transition:'transform 0.3s'},menuIconActive:{transform:'scale(1.15) rotate(5deg)'},content:{flex:1,padding:'2rem',overflowY:'auto',position:'relative',height:'calc(100vh - 80px)',maxHeight:'calc(100vh - 80px)'},contentTransition:{opacity:0,transform:'translateX(20px)',animation:'contentEnter 300ms cubic-bezier(0.4, 0, 0.2, 1) forwards'},sectionHeader:{marginBottom:'2rem',opacity:0,animation:'fadeInUp 400ms ease-out forwards'},loadingContainer:{display:'flex',justifyContent:'center',alignItems:'center',minHeight:'400px'},loadingSpinner:{width:'50px',height:'50px',border:'3px solid rgba(255, 255, 255, 0.1)',borderTop:'3px solid rgba(59, 130, 246, 0.8)',borderRadius:'50%',animation:'spin 1s linear infinite'},emptyState:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',minHeight:'400px',padding:'3rem',textAlign:'center'},emptyStateIcon:{width:'80px',height:'80px',opacity:0.3,marginBottom:'1.5rem'},skeletonCard:{background:'rgba(255, 255, 255, 0.05)',borderRadius:'16px',padding:'1.5rem',marginBottom:'1rem',animation:'pulse 2s ease-in-out infinite'},skeletonLine:{height:'12px',background:'rgba(255, 255, 255, 0.1)',borderRadius:'6px',marginBottom:'8px'},statsGrid:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'1.5rem',flexShrink:0},statCard:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'1.5rem',textAlign:'center',transition:'transform 0.3s',cursor:'pointer'},iconBox:{width:'60px',height:'60px',margin:'0 auto 1rem',borderRadius:'12px',display:'flex',alignItems:'center',justifyContent:'center'},chartsGrid:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(400px, 1fr))',gap:'1.5rem',flexShrink:0},chartCard:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'1.5rem',height:'300px'},activitiesCard:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'1.5rem'},activityItem:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'1rem',marginBottom:'0.5rem',background:'rgba(255, 255, 255, 0.05)',borderRadius:'8px',border:'1px solid rgba(255, 255, 255, 0.1)'}};const StyledDashboard=_ref=>{let{onLogout}=_ref;const navigate=(0,dist.useNavigate)();// Initialize activeSection from URL path
const getInitialSection=()=>{const path=window.location.pathname;if(path.startsWith('/admin/')){const section=path.replace('/admin/','');return section||'dashboard';}return'dashboard';};const[activeSection,setActiveSection]=(0,react.useState)(getInitialSection());const[sidebarOpen,setSidebarOpen]=(0,react.useState)(false);const[isLoading,setIsLoading]=(0,react.useState)(false);const[contentKey,setContentKey]=(0,react.useState)(0);const[currentHijriDate,setCurrentHijriDate]=(0,react.useState)(getCurrentHijriDate());const contentRef=(0,react.useRef)(null);const{data:dashboardData,loading:dashboardLoading,error:dashboardError}=useDashboardData();const formatNumber=value=>{if(typeof value==='number'&&!Number.isNaN(value)){return value.toLocaleString('ar-SA');}return'0';};const formatCurrency=value=>{if(typeof value==='number'&&!Number.isNaN(value)){return"".concat(value.toLocaleString('ar-SA')," \u0631.\u0633");}return'0 Ø±.Ø³';};const percentOf=(value,total)=>{const numerator=typeof value==='number'&&!Number.isNaN(value)?value:0;const denominator=typeof total==='number'&&!Number.isNaN(total)&&total>0?total:0;if(!denominator){return 0;}return Math.round(numerator/denominator*100);};// Update Hijri date on component mount
(0,react.useEffect)(()=>{setCurrentHijriDate(getCurrentHijriDate());// Update date every day at midnight
const now=new Date();const tomorrow=new Date(now);tomorrow.setDate(tomorrow.getDate()+1);tomorrow.setHours(0,0,0,0);const msUntilMidnight=tomorrow.getTime()-now.getTime();const midnightTimeout=setTimeout(()=>{setCurrentHijriDate(getCurrentHijriDate());// Set up daily interval after first midnight
const dailyInterval=setInterval(()=>{setCurrentHijriDate(getCurrentHijriDate());},24*60*60*1000);return()=>clearInterval(dailyInterval);},msUntilMidnight);return()=>clearTimeout(midnightTimeout);},[]);// Subscriptions Management State
const[subscriptionsTab,setSubscriptionsTab]=(0,react.useState)('overview');const[subscriptions,setSubscriptions]=(0,react.useState)([]);const[plans,setPlans]=(0,react.useState)(()=>{const savedPlans=localStorage.getItem('subscriptionPlans');return savedPlans?JSON.parse(savedPlans):[];});const[subscriptionsLoading,setSubscriptionsLoading]=(0,react.useState)(false);const[selectedMember,setSelectedMember]=(0,react.useState)(null);const[showPlanModal,setShowPlanModal]=(0,react.useState)(false);const[editingPlan,setEditingPlan]=(0,react.useState)(null);const[showSubscriptionModal,setShowSubscriptionModal]=(0,react.useState)(false);// Handle section change with animation
const handleSectionChange=sectionId=>{// Navigate to new subscription dashboard instead of old component
if(sectionId==='subscriptions'){navigate('/admin/subscriptions');setSidebarOpen(false);return;}if(sectionId===activeSection)return;setIsLoading(true);// Trigger exit animation
if(contentRef.current){contentRef.current.style.opacity='0';contentRef.current.style.transform='translateX(-20px)';}// Update URL to match section
navigate("/admin/".concat(sectionId));setTimeout(()=>{setActiveSection(sectionId);setContentKey(prev=>prev+1);setSidebarOpen(false);setIsLoading(false);},200);};// Add ripple effect on click
const createRipple=event=>{const button=event.currentTarget;const ripple=document.createElement('span');const rect=button.getBoundingClientRect();const size=Math.max(rect.width,rect.height);const x=event.clientX-rect.left-size/2;const y=event.clientY-rect.top-size/2;ripple.style.width=ripple.style.height=size+'px';ripple.style.left=x+'px';ripple.style.top=y+'px';ripple.classList.add('ripple');button.appendChild(ripple);setTimeout(()=>ripple.remove(),600);};// Handle mobile sidebar toggle
(0,react.useEffect)(()=>{const handleResize=()=>{if(window.innerWidth>768){setSidebarOpen(false);}};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);// Add swipe gesture support for mobile
(0,react.useEffect)(()=>{let startX=0;let currentX=0;let isDragging=false;const handleTouchStart=e=>{if(e.touches[0].clientX<50){// Start from left edge
startX=e.touches[0].clientX;isDragging=true;}};const handleTouchMove=e=>{if(!isDragging)return;currentX=e.touches[0].clientX;if(currentX-startX>100){setSidebarOpen(true);isDragging=false;}};const handleTouchEnd=()=>{isDragging=false;};if(window.innerWidth<=768){document.addEventListener('touchstart',handleTouchStart);document.addEventListener('touchmove',handleTouchMove);document.addEventListener('touchend',handleTouchEnd);return()=>{document.removeEventListener('touchstart',handleTouchStart);document.removeEventListener('touchmove',handleTouchMove);document.removeEventListener('touchend',handleTouchEnd);};}},[]);const menuItems=[{id:'dashboard',label:'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…',icon:esm.HomeIcon},// Main Dashboard - FIRST
{id:'monitoring',label:'ðŸ“Š Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡',icon:esm.ChartBarIcon},// Member Monitoring - SECOND
{id:'statement',label:'ðŸ“‹ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† ÙƒØ´Ù',icon:esm.DocumentTextIcon},// Member statement search
{id:'documents',label:'ðŸ“ Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª',icon:esm.FolderIcon},// Document Management
{id:'family-tree',label:'ðŸŒ³ Ø´Ø¬Ø±Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©',icon:esm.UserPlusIcon},// Family Tree
{id:'members',label:'Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡',icon:esm.UsersIcon},{id:'subscriptions',label:'Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª',icon:esm.CreditCardIcon},{id:'payments',label:'Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª',icon:esm.BanknotesIcon},{id:'initiatives',label:'Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª',icon:esm.LightBulbIcon},{id:'news',label:'ðŸ“° Ø§Ù„Ø£Ø®Ø¨Ø§Ø±',icon:esm.BellIcon},{id:'diyas',label:'Ø§Ù„Ø¯ÙŠØ§Øª',icon:esm.ScaleIcon},{id:'notifications',label:'Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª',icon:esm.BellIcon},{id:'reports',label:'Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±',icon:esm.DocumentTextIcon},{id:'settings',label:'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª',icon:esm.CogIcon}];const stats=(0,react.useMemo)(()=>{var _dashboardData$member,_dashboardData$paymen;const members=(_dashboardData$member=dashboardData===null||dashboardData===void 0?void 0:dashboardData.members)!==null&&_dashboardData$member!==void 0?_dashboardData$member:{total:0,active:0,inactive:0,newThisMonth:0};const payments=(_dashboardData$paymen=dashboardData===null||dashboardData===void 0?void 0:dashboardData.payments)!==null&&_dashboardData$paymen!==void 0?_dashboardData$paymen:{pending:0,pendingAmount:0,monthlyRevenue:0,totalRevenue:0,totalPaid:0};const totalMembers=Number(members.total)||0;const totalPaymentsCount=(Number(payments.pending)||0)+(Number(payments.totalPaid)||0);const revenueBaseline=Number(payments.totalRevenue)||Number(payments.monthlyRevenue)||0;const pendingShare=percentOf(payments.pending,totalPaymentsCount);return[{title:'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡',value:formatNumber(totalMembers),icon:esm.UserGroupIcon,color:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',trend:percentOf(members.newThisMonth,totalMembers)},{title:'Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù†Ø´Ø·ÙˆÙ†',value:formatNumber(members.active),icon:esm.ChartBarIcon,color:'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',trend:percentOf(members.active,totalMembers)},{title:'Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©',value:formatCurrency(payments.monthlyRevenue),icon:esm.BanknotesIcon,color:'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',trend:percentOf(payments.monthlyRevenue,revenueBaseline)},{title:'Ø§Ù„Ù…Ø¨Ø§Ù„Øº Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©',value:formatCurrency(payments.pendingAmount),icon:esm.ClockIcon,color:'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',trend:pendingShare?-pendingShare:0}];},[dashboardData]);// Mock Subscription Data
const mockPlans=[{id:1,name_ar:'Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ',name_en:'Monthly Subscription',price:100,duration_months:1,status:'active',description:'Ø§Ø´ØªØ±Ø§Ùƒ Ø´Ù‡Ø±ÙŠ Ù„Ù„Ø£Ø¹Ø¶Ø§Ø¡',benefits:['Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø±Ø§ÙÙ‚','Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª','Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ'],subscribers_count:25},{id:2,name_ar:'Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø³Ù†ÙˆÙŠ',name_en:'Annual Subscription',price:1000,duration_months:12,status:'active',description:'Ø§Ø´ØªØ±Ø§Ùƒ Ø³Ù†ÙˆÙŠ Ø¨Ø®ØµÙ… 20%',benefits:['Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø±Ø§ÙÙ‚','Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª','Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ','Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ù…Ø¬Ø§Ù†ÙŠØ©'],subscribers_count:18},{id:3,name_ar:'Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ù…Ù…ÙŠØ²',name_en:'Premium Subscription',price:200,duration_months:1,status:'active',description:'Ø§Ø´ØªØ±Ø§Ùƒ Ø´Ù‡Ø±ÙŠ Ù…Ø¹ Ø®Ø¯Ù…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©',benefits:['Ø¬Ù…ÙŠØ¹ Ù…Ø²Ø§ÙŠØ§ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ','Ø®Ø¯Ù…Ø§Øª VIP','Ø£ÙˆÙ„ÙˆÙŠØ© ÙÙŠ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª','Ø¯Ø¹Ù… 24/7'],subscribers_count:8}];const mockSubscriptions=[{id:1,member_id:1,member_name:'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',plan_id:1,plan_name:'Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ',status:'active',start_date:'2024-01-01',due_date:'2024-02-01',amount:100,payment_status:'paid'},{id:2,member_id:2,member_name:'ÙØ§Ø·Ù…Ø© Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø´Ø¹ÙŠÙ„',plan_id:2,plan_name:'Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø³Ù†ÙˆÙŠ',status:'overdue',start_date:'2023-01-01',due_date:'2023-12-15',amount:1000,payment_status:'overdue'},{id:3,member_id:3,member_name:'Ø®Ø§Ù„Ø¯ Ø³Ø¹Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',plan_id:3,plan_name:'Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ù…Ù…ÙŠØ²',status:'active',start_date:'2024-01-15',due_date:'2024-02-15',amount:200,payment_status:'paid'},{id:4,member_id:4,member_name:'Ù†ÙˆØ±Ø§ Ø­Ø³Ù† Ø§Ù„Ø´Ø¹ÙŠÙ„',plan_id:1,plan_name:'Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ',status:'cancelled',start_date:'2023-10-01',due_date:'2023-11-01',amount:100,payment_status:'cancelled'},{id:5,member_id:5,member_name:'Ø³Ø§Ø±Ø© Ø¹Ù„ÙŠ Ø§Ù„Ø´Ø¹ÙŠÙ„',plan_id:2,plan_name:'Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø³Ù†ÙˆÙŠ',status:'pending',start_date:'2024-01-20',due_date:'2025-01-20',amount:1000,payment_status:'pending'}];// Initialize subscription data
// Function to toggle plan status
const togglePlanStatus=planId=>{const updatedPlans=plans.map(plan=>{if(plan.id===planId){return (0,objectSpread2["default"])((0,objectSpread2["default"])({},plan),{},{status:plan.status==='active'?'inactive':'active'});}return plan;});setPlans(updatedPlans);// Save to localStorage to persist changes
localStorage.setItem('subscriptionPlans',JSON.stringify(updatedPlans));};(0,react.useEffect)(()=>{if(activeSection==='subscriptions'&&plans.length===0){// Only load mock data if no saved plans exist
const savedPlans=localStorage.getItem('subscriptionPlans');if(!savedPlans){setPlans(mockPlans);localStorage.setItem('subscriptionPlans',JSON.stringify(mockPlans));}setSubscriptions(mockSubscriptions);}},[activeSection,plans.length]);const revenueData=(0,react.useMemo)(()=>{var _dashboardData$paymen2;const payments=(_dashboardData$paymen2=dashboardData===null||dashboardData===void 0?void 0:dashboardData.payments)!==null&&_dashboardData$paymen2!==void 0?_dashboardData$paymen2:{monthlyRevenue:0,totalRevenue:0};const monthly=Number(payments.monthlyRevenue)||0;const total=Number(payments.totalRevenue)||0;return{labels:['Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©','Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª'],datasets:[{label:'Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª',data:[monthly,total],borderColor:'rgba(59, 130, 246, 1)',backgroundColor:'rgba(59, 130, 246, 0.2)',tension:0.4,fill:true}]};},[dashboardData]);// REAL tribal sections data - DYNAMICALLY LOADED from live database
const tribalSectionsData=(0,react.useMemo)(()=>{// Extract tribal data from dashboard data (live from API)
// Updated to use actual current data (344 members with 458,840 SAR total paid)
// Fallback data array (verified accurate as of Oct 2, 2025)
const fallbackData=[{section:'Ø±Ø´ÙˆØ¯',members:172,balance:233090},// 50.0% of members - Dominant tribe
{section:'Ø§Ù„Ø¯ØºÙŠØ´',members:45,balance:47650},// 13.1% of members
{section:'Ø±Ø´ÙŠØ¯',members:36,balance:48250},// 10.5% of members
{section:'Ø§Ù„Ø¹Ù‚Ø§Ø¨',members:22,balance:34900},// 6.4% of members
{section:'Ø§Ù„Ø§Ø­ÙŠÙ…Ø±',members:22,balance:21950},// 6.4% of members
{section:'Ø§Ù„Ø¹ÙŠØ¯',members:14,balance:29100},// 4.1% - High avg balance
{section:'Ø§Ù„Ø´Ø§Ù…Ø®',members:12,balance:17400},// 3.5% of members
{section:'Ø§Ù„Ø±Ø´ÙŠØ¯',members:12,balance:18300},// 3.5% of members
{section:'Ø§Ù„Ø´Ø¨ÙŠØ¹Ø§Ù†',members:5,balance:4250},// 1.5% - Small tribe
{section:'Ø§Ù„Ù…Ø³Ø¹ÙˆØ¯',members:4,balance:3950}// 1.2% - Very small
];const tribalData=dashboardData!==null&&dashboardData!==void 0&&dashboardData.tribalSections&&Array.isArray(dashboardData.tribalSections)&&dashboardData.tribalSections.length>0?dashboardData.tribalSections:fallbackData;// Sort by balance for color coding (highest balance gets best color)
const sortedData=[...tribalData].sort((a,b)=>b.balance-a.balance);// Power BI style gradient - 8 unique colors from green (high) to red (low)
const powerBIGradientColors=['rgba(0, 100, 0, 0.85)',// Dark Green - Highest (125k)
'rgba(34, 139, 34, 0.85)',// Forest Green (110k)
'rgba(60, 179, 113, 0.85)',// Medium Sea Green (102k)
'rgba(144, 238, 144, 0.85)',// Light Green (95k)
'rgba(255, 215, 0, 0.85)',// Gold (92k)
'rgba(255, 165, 0, 0.85)',// Orange (85k)
'rgba(255, 140, 0, 0.85)',// Dark Orange (78k)
'rgba(255, 69, 0, 0.85)'// Red Orange - Lowest (70k)
];return{labels:sortedData.map(t=>"".concat(t.section)),datasets:[{label:'Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø¨Ø§Ù„Ø±ÙŠØ§Ù„',data:sortedData.map(t=>t.balance),backgroundColor:powerBIGradientColors,hoverBackgroundColor:powerBIGradientColors.map(color=>color.replace('0.85','1')),borderWidth:2,borderColor:'#ffffff',hoverBorderWidth:3,hoverBorderColor:'#ffffff'}],sortedData:sortedData// Keep this for tooltip
};},[dashboardData]);const memberDistribution=(0,react.useMemo)(()=>{var _dashboardData$member2;const members=(_dashboardData$member2=dashboardData===null||dashboardData===void 0?void 0:dashboardData.members)!==null&&_dashboardData$member2!==void 0?_dashboardData$member2:{total:0,active:0,inactive:0,newThisMonth:0};const activeCount=Number(members.active)||0;const newMembersCount=Number(members.newThisMonth)||0;const inactiveCount=typeof members.inactive==='number'&&!Number.isNaN(Number(members.inactive))?Number(members.inactive)||0:Math.max((Number(members.total)||0)-activeCount,0);return{labels:['Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù†Ø´Ø·ÙˆÙ†','Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ ØºÙŠØ± Ø§Ù„Ù†Ø´Ø·ÙŠÙ†','Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø¬Ø¯Ø¯'],datasets:[{data:[activeCount,inactiveCount,newMembersCount],backgroundColor:['rgba(34, 197, 94, 0.8)','rgba(239, 68, 68, 0.8)','rgba(168, 85, 247, 0.8)'],borderWidth:0}]};},[dashboardData]);const chartOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{color:'rgba(255, 255, 255, 0.8)',font:{family:'Tajawal',size:12}}}},scales:{y:{ticks:{color:'rgba(255, 255, 255, 0.6)',font:{family:'Tajawal'}},grid:{color:'rgba(255, 255, 255, 0.1)'}},x:{ticks:{color:'rgba(255, 255, 255, 0.6)',font:{family:'Tajawal'}},grid:{color:'rgba(255, 255, 255, 0.1)'}}}};const formatDateTime=value=>{if(!value){return'';}try{return new Intl.DateTimeFormat('ar-SA',{dateStyle:'medium',timeStyle:'short'}).format(new Date(value));}catch(_unused){return value;}};const overviewActivities=(0,react.useMemo)(()=>{var _dashboardData$activi;const recent=(_dashboardData$activi=dashboardData===null||dashboardData===void 0?void 0:dashboardData.activities)!==null&&_dashboardData$activi!==void 0?_dashboardData$activi:[];if(!recent.length){return[{user:'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…',action:'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù†Ø´Ø·Ø© Ø­Ø¯ÙŠØ«Ø©',time:formatDateTime(new Date().toISOString()),amount:null}];}return recent.map(activity=>({user:activity.type==='payment'?'Ø¹Ù…Ù„ÙŠØ© Ù…Ø§Ù„ÙŠØ©':'Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯',action:activity.description,time:formatDateTime(activity.date),amount:activity.amount?formatCurrency(activity.amount):null}));},[dashboardData===null||dashboardData===void 0?void 0:dashboardData.activities]);const isOverviewLoading=isLoading||dashboardLoading;// Get current section label
// Get current section label
const getCurrentSectionLabel=()=>{const current=menuItems.find(item=>item.id===activeSection);return(current===null||current===void 0?void 0:current.label)||'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…';};// Render loading skeleton
const renderLoadingSkeleton=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:StyledDashboard_styles.skeletonCard,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.skeletonLine),{},{width:'60%'})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.skeletonLine),{},{width:'80%'})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.skeletonLine),{},{width:'40%'})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:StyledDashboard_styles.skeletonCard,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.skeletonLine),{},{width:'70%'})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.skeletonLine),{},{width:'50%'})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.skeletonLine),{},{width:'90%'})})]})]});// Comprehensive Subscription Management Section
const renderSubscriptionsSection=()=>{var _plans$find,_editingPlan$benefits;// Helper function to get status color
const getStatusColor=status=>{switch(status){case'active':return'#10b981';case'overdue':return'#ef4444';case'pending':return'#f59e0b';case'cancelled':return'#6b7280';default:return'#6b7280';}};// Helper function to get status text
const getStatusText=status=>{switch(status){case'active':return'Ù†Ø´Ø·';case'overdue':return'Ù…ØªØ£Ø®Ø±';case'pending':return'ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±';case'cancelled':return'Ù…Ù„ØºÙŠ';default:return'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';}};// Calculate subscription statistics
const totalSubscriptions=subscriptions.length;const activeSubscriptions=subscriptions.filter(sub=>sub.status==='active').length;const overdueSubscriptions=subscriptions.filter(sub=>sub.status==='overdue').length;const totalRevenue=subscriptions.reduce((sum,sub)=>sum+(sub.payment_status==='paid'?sub.amount:0),0);// Subscription tabs
const subscriptionTabs=[{id:'overview',label:'Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©',icon:esm.ChartBarIcon},{id:'plans',label:'Ø®Ø·Ø· Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ',icon:esm.CreditCardIcon},{id:'members',label:'Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡',icon:esm.UsersIcon},{id:'schedule',label:'Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª',icon:esm.CalendarIcon},{id:'analytics',label:'Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª',icon:esm.ArrowTrendingUpIcon}];return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{animation:'fadeInUp 0.6s ease-out'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:'flex',marginBottom:'2rem',background:'rgba(255, 255, 255, 0.05)',backdropFilter:'blur(10px)',borderRadius:'12px',padding:'8px',border:'1px solid rgba(255, 255, 255, 0.1)',overflowX:'auto'},children:subscriptionTabs.map(tab=>{const Icon=tab.icon;const isActive=subscriptionsTab===tab.id;return/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setSubscriptionsTab(tab.id),style:{flex:'1',minWidth:'140px',padding:'12px 16px',background:isActive?'rgba(255, 255, 255, 0.15)':'transparent',border:'none',borderRadius:'8px',color:'white',fontSize:'14px',fontWeight:isActive?'400':'normal',cursor:'pointer',transition:'all 0.3s ease',display:'flex',alignItems:'center',gap:'8px',justifyContent:'center'},onMouseEnter:e=>{if(!isActive){e.currentTarget.style.background='rgba(255, 255, 255, 0.08)';}},onMouseLeave:e=>{if(!isActive){e.currentTarget.style.background='transparent';}},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Icon,{style:{width:'18px',height:'18px'}}),tab.label]},tab.id);})}),subscriptionsTab==='overview'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:StyledDashboard_styles.statsGrid,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:StyledDashboard_styles.statCard,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.iconBox),{},{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'}),children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CreditCardIcon,{style:{width:'30px',height:'30px',color:'white'}})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'8px'},children:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'24px',fontWeight:'400',marginBottom:'8px'},children:totalSubscriptions})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:StyledDashboard_styles.statCard,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.iconBox),{},{background:'linear-gradient(135deg, #10b981 0%, #059669 100%)'}),children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UsersIcon,{style:{width:'30px',height:'30px',color:'white'}})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'8px'},children:"\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A \u0646\u0634\u0637\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'24px',fontWeight:'400',marginBottom:'8px'},children:activeSubscriptions})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:StyledDashboard_styles.statCard,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.iconBox),{},{background:'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)'}),children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ClockIcon,{style:{width:'30px',height:'30px',color:'white'}})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'8px'},children:"\u0645\u062F\u0641\u0648\u0639\u0627\u062A \u0645\u062A\u0623\u062E\u0631\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'24px',fontWeight:'400',marginBottom:'8px'},children:overdueSubscriptions})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:StyledDashboard_styles.statCard,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.iconBox),{},{background:'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)'}),children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BanknotesIcon,{style:{width:'30px',height:'30px',color:'white'}})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'8px'},children:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'24px',fontWeight:'400',marginBottom:'8px'},children:[totalRevenue.toLocaleString('ar-SA')," \u0631.\u0633"]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'2rem',marginBottom:'2rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'18px',marginBottom:'1rem'},children:"\u0625\u062C\u0631\u0627\u0621\u0627\u062A \u0633\u0631\u064A\u0639\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setShowPlanModal(true),style:{padding:'12px 24px',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',border:'none',borderRadius:'8px',color:'white',fontSize:'14px',cursor:'pointer',transition:'transform 0.2s',display:'flex',alignItems:'center',gap:'8px',justifyContent:'center'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-2px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CreditCardIcon,{style:{width:'18px',height:'18px'}}),"\u0625\u0636\u0627\u0641\u0629 \u062E\u0637\u0629 \u062C\u062F\u064A\u062F\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setShowSubscriptionModal(true),style:{padding:'12px 24px',background:'linear-gradient(135deg, #10b981 0%, #059669 100%)',border:'none',borderRadius:'8px',color:'white',fontSize:'14px',cursor:'pointer',transition:'transform 0.2s',display:'flex',alignItems:'center',gap:'8px',justifyContent:'center'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-2px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UsersIcon,{style:{width:'18px',height:'18px'}}),"\u0627\u0634\u062A\u0631\u0627\u0643 \u0639\u0636\u0648 \u062C\u062F\u064A\u062F"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setSubscriptionsTab('analytics'),style:{padding:'12px 24px',background:'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',border:'none',borderRadius:'8px',color:'white',fontSize:'14px',cursor:'pointer',transition:'transform 0.2s',display:'flex',alignItems:'center',gap:'8px',justifyContent:'center'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-2px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ChartBarIcon,{style:{width:'18px',height:'18px'}}),"\u0639\u0631\u0636 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setSubscriptionsTab('schedule'),style:{padding:'12px 24px',background:'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',border:'none',borderRadius:'8px',color:'white',fontSize:'14px',cursor:'pointer',transition:'transform 0.2s',display:'flex',alignItems:'center',gap:'8px',justifyContent:'center'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-2px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarIcon,{style:{width:'18px',height:'18px'}}),"\u062C\u062F\u0648\u0644 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A"]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'2rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'18px',marginBottom:'1rem'},children:"\u0622\u062E\u0631 \u0627\u0644\u0623\u0646\u0634\u0637\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:subscriptions.slice(0,5).map((subscription,index)=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'12px',background:'rgba(255, 255, 255, 0.05)',borderRadius:'8px',border:'1px solid rgba(255, 255, 255, 0.1)'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{width:'8px',height:'8px',borderRadius:'50%',background:getStatusColor(subscription.status)}}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'14px',fontWeight:'500'},children:subscription.member_name}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'12px',color:'rgba(255, 255, 255, 0.7)'},children:subscription.plan_name})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{textAlign:'left'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{padding:'4px 8px',borderRadius:'12px',fontSize:'12px',background:getStatusColor(subscription.status)+'20',color:getStatusColor(subscription.status),border:"1px solid ".concat(getStatusColor(subscription.status),"40")},children:getStatusText(subscription.status)}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'12px',color:'rgba(255, 255, 255, 0.7)',marginTop:'4px'},children:[subscription.amount," \u0631.\u0633"]})]})]},subscription.id))})]})]}),subscriptionsTab==='plans'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'2rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'20px',fontWeight:'400'},children:"\u062E\u0637\u0637 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>{setEditingPlan(null);setShowPlanModal(true);},style:{padding:'12px 24px',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',border:'none',borderRadius:'8px',color:'white',fontSize:'14px',cursor:'pointer',transition:'transform 0.2s',display:'flex',alignItems:'center',gap:'8px'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-2px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CreditCardIcon,{style:{width:'18px',height:'18px'}}),"\u0625\u0636\u0627\u0641\u0629 \u062E\u0637\u0629 \u062C\u062F\u064A\u062F\u0629"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(300px, 1fr))',gap:'1.5rem'},children:plans.map(plan=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'2rem',transition:'transform 0.3s, box-shadow 0.3s',cursor:'pointer'},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-5px)';e.currentTarget.style.boxShadow='0 20px 40px rgba(0, 0, 0, 0.3)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='none';},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'1rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h4",{style:{fontSize:'18px',fontWeight:'400',marginBottom:'0.5rem'},children:plan.name_ar}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'1rem'},children:plan.description})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{padding:'4px 12px',borderRadius:'12px',fontSize:'12px',background:plan.status==='active'?'#10b98120':'#6b728020',color:plan.status==='active'?'#10b981':'#6b7280',border:"1px solid ".concat(plan.status==='active'?'#10b98140':'#6b728040')},children:plan.status==='active'?'Ù†Ø´Ø·':'ØºÙŠØ± Ù†Ø´Ø·'})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'32px',fontWeight:'400',color:'#4facfe',marginBottom:'0.5rem'},children:[plan.price.toLocaleString('ar-SA')," \u0631.\u0633"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)'},children:["\u0643\u0644",' ',plan.duration_months===1?'Ø´Ù‡Ø±':"".concat(plan.duration_months," \u0623\u0634\u0647\u0631")]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h5",{style:{fontSize:'14px',fontWeight:'400',marginBottom:'0.5rem'},children:"\u0627\u0644\u0645\u0632\u0627\u064A\u0627:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("ul",{style:{listStyle:'none',padding:0,margin:0},children:plan.benefits.map((benefit,index)=>/*#__PURE__*/(0,jsx_runtime.jsxs)("li",{style:{display:'flex',alignItems:'center',gap:'8px',marginBottom:'4px',fontSize:'13px',color:'rgba(255, 255, 255, 0.8)'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{width:'4px',height:'4px',borderRadius:'50%',background:'#10b981'}}),benefit]},index))})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1rem'},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)'},children:[plan.subscribers_count," \u0645\u0634\u062A\u0631\u0643"]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>{setEditingPlan(plan);setShowPlanModal(true);},style:{flex:'1',padding:'10px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'6px',color:'white',fontSize:'13px',cursor:'pointer',transition:'background 0.2s'},onMouseEnter:e=>e.currentTarget.style.background='rgba(255, 255, 255, 0.15)',onMouseLeave:e=>e.currentTarget.style.background='rgba(255, 255, 255, 0.1)',children:"\u062A\u0639\u062F\u064A\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>togglePlanStatus(plan.id),style:{flex:'1',padding:'10px',background:plan.status==='active'?'rgba(132, 204, 22, 0.2)':'rgba(239, 68, 68, 0.2)',border:"1px solid ".concat(plan.status==='active'?'rgba(132, 204, 22, 0.4)':'rgba(239, 68, 68, 0.4)'),borderRadius:'6px',color:plan.status==='active'?'#bef264':'#f87171',fontSize:'13px',cursor:'pointer',transition:'all 0.3s ease'},onMouseEnter:e=>{if(plan.status==='active'){e.currentTarget.style.background='rgba(132, 204, 22, 0.3)';e.currentTarget.style.borderColor='rgba(132, 204, 22, 0.6)';e.currentTarget.style.color='white';}else{e.currentTarget.style.background='rgba(34, 197, 94, 0.2)';e.currentTarget.style.borderColor='rgba(34, 197, 94, 0.5)';e.currentTarget.style.color='#86efac';}},onMouseLeave:e=>{if(plan.status==='active'){e.currentTarget.style.background='rgba(132, 204, 22, 0.2)';e.currentTarget.style.borderColor='rgba(132, 204, 22, 0.4)';e.currentTarget.style.color='#bef264';}else{e.currentTarget.style.background='rgba(239, 68, 68, 0.2)';e.currentTarget.style.borderColor='rgba(239, 68, 68, 0.4)';e.currentTarget.style.color='#f87171';}},children:plan.status==='active'?'Ø¥ÙŠÙ‚Ø§Ù':'ØªÙØ¹ÙŠÙ„'})]})]},plan.id))})]}),subscriptionsTab==='members'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'2rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'20px',fontWeight:'400'},children:"\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A \u0627\u0644\u0623\u0639\u0636\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'12px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0628\u062D\u062B \u0639\u0646 \u0639\u0636\u0648...",style:{padding:'10px 16px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',fontSize:'14px',width:'200px'}}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{style:{padding:'10px 16px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',fontSize:'14px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"all",children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0627\u0644\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"active",children:"\u0646\u0634\u0637"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"overdue",children:"\u0645\u062A\u0623\u062E\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"cancelled",children:"\u0645\u0644\u063A\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"pending",children:"\u0641\u064A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',overflow:'hidden'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'2fr 2fr 1fr 1fr 1fr 1fr',gap:'1rem',padding:'1.5rem',background:'rgba(255, 255, 255, 0.05)',borderBottom:'1px solid rgba(255, 255, 255, 0.1)',fontSize:'14px',fontWeight:'400',color:'rgba(255, 255, 255, 0.8)'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:"\u0627\u0633\u0645 \u0627\u0644\u0639\u0636\u0648"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:"\u062E\u0637\u0629 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:"\u0627\u0644\u062D\u0627\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0633\u062A\u062D\u0642\u0627\u0642"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:"\u0627\u0644\u0645\u0628\u0644\u063A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"})]}),subscriptions.map((subscription,index)=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'2fr 2fr 1fr 1fr 1fr 1fr',gap:'1rem',padding:'1.5rem',borderBottom:index<subscriptions.length-1?'1px solid rgba(255, 255, 255, 0.05)':'none',fontSize:'14px',alignItems:'center'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontWeight:'500'},children:subscription.member_name}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{color:'rgba(255, 255, 255, 0.8)'},children:subscription.plan_name}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{padding:'4px 8px',borderRadius:'12px',fontSize:'12px',background:getStatusColor(subscription.status)+'20',color:getStatusColor(subscription.status),border:"1px solid ".concat(getStatusColor(subscription.status),"40")},children:getStatusText(subscription.status)})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{color:'rgba(255, 255, 255, 0.8)'},children:hijriDateUtils_formatHijriDate(subscription.due_date)}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontWeight:'500'},children:[subscription.amount," \u0631.\u0633"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:'flex',gap:'8px'},children:/*#__PURE__*/(0,jsx_runtime.jsx)("button",{style:{padding:'6px 12px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'4px',color:'white',fontSize:'12px',cursor:'pointer'},children:"\u062A\u0639\u062F\u064A\u0644"})})]},subscription.id))]})]}),subscriptionsTab==='schedule'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'20px',fontWeight:'400',marginBottom:'2rem'},children:"\u062C\u062F\u0648\u0644 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(300px, 1fr))',gap:'1.5rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'2rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h4",{style:{fontSize:'16px',fontWeight:'400',marginBottom:'1rem',color:'#f59e0b'},children:"\u0645\u062F\u0641\u0648\u0639\u0627\u062A \u0642\u0627\u062F\u0645\u0629 (7 \u0623\u064A\u0627\u0645)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:'flex',flexDirection:'column',gap:'0.75rem'},children:subscriptions.filter(sub=>{const dueDate=new Date(sub.due_date);const today=new Date();const nextWeek=new Date(today.getTime()+7*24*60*60*1000);return dueDate>=today&&dueDate<=nextWeek&&sub.status==='active';}).map(subscription=>/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{padding:'12px',background:'rgba(245, 158, 11, 0.1)',borderRadius:'8px',border:'1px solid rgba(245, 158, 11, 0.3)'},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'14px',fontWeight:'500'},children:subscription.member_name}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'12px',color:'rgba(255, 255, 255, 0.7)'},children:subscription.plan_name})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{textAlign:'left'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'14px',fontWeight:'400',color:'#f59e0b'},children:[subscription.amount," \u0631.\u0633"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'12px',color:'rgba(255, 255, 255, 0.7)'},children:hijriDateUtils_formatHijriDate(subscription.due_date)})]})]})},subscription.id))})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'2rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h4",{style:{fontSize:'16px',fontWeight:'400',marginBottom:'1rem',color:'#ef4444'},children:"\u0645\u062F\u0641\u0648\u0639\u0627\u062A \u0645\u062A\u0623\u062E\u0631\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:'flex',flexDirection:'column',gap:'0.75rem'},children:subscriptions.filter(sub=>sub.status==='overdue').map(subscription=>/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{padding:'12px',background:'rgba(239, 68, 68, 0.1)',borderRadius:'8px',border:'1px solid rgba(239, 68, 68, 0.3)'},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'14px',fontWeight:'500'},children:subscription.member_name}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'12px',color:'rgba(255, 255, 255, 0.7)'},children:subscription.plan_name})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{textAlign:'left'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{fontSize:'14px',fontWeight:'400',color:'#ef4444'},children:[subscription.amount," \u0631.\u0633"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'12px',color:'rgba(255, 255, 255, 0.7)'},children:hijriDateUtils_formatHijriDate(subscription.due_date)})]})]})},subscription.id))})]})]})]}),subscriptionsTab==='analytics'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'20px',fontWeight:'400',marginBottom:'2rem'},children:"\u062A\u062D\u0644\u064A\u0644\u0627\u062A \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'2rem',marginBottom:'2rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h4",{style:{fontSize:'16px',fontWeight:'400',marginBottom:'1rem'},children:"\u0625\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{height:'300px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{color:'rgba(255, 255, 255, 0.7)'},children:"\u0633\u064A\u062A\u0645 \u0639\u0631\u0636 \u0631\u0633\u0648\u0645 \u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u0628\u064A\u0627\u0646\u064A\u0629 \u0647\u0646\u0627"})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(300px, 1fr))',gap:'1.5rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'2rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h4",{style:{fontSize:'16px',fontWeight:'400',marginBottom:'1rem'},children:"\u062A\u0648\u0632\u064A\u0639 \u0627\u0644\u062E\u0637\u0637"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:'flex',flexDirection:'column',gap:'0.75rem'},children:plans.map(plan=>{const percentage=(plan.subscribers_count/plans.reduce((sum,p)=>sum+p.subscribers_count,0)*100).toFixed(1);return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontSize:'14px'},children:plan.name_ar}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{width:'60px',height:'6px',background:'rgba(255, 255, 255, 0.2)',borderRadius:'3px',overflow:'hidden'},children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{width:"".concat(percentage,"%"),height:'100%',background:'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',borderRadius:'3px'}})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:{fontSize:'12px',color:'rgba(255, 255, 255, 0.7)'},children:[percentage,"%"]})]})]},plan.id);})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(10px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'2rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h4",{style:{fontSize:'16px',fontWeight:'400',marginBottom:'1rem'},children:"\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u0633\u0631\u064A\u0639\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',flexDirection:'column',gap:'0.75rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.8)'},children:"\u0645\u062A\u0648\u0633\u0637 \u0627\u0644\u0625\u064A\u0631\u0627\u062F \u0644\u0644\u0639\u0636\u0648:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{style:{fontSize:'14px',fontWeight:'400'},children:[totalSubscriptions>0?Math.round(totalRevenue/totalSubscriptions):0,' ',"\u0631.\u0633"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.8)'},children:"\u0645\u0639\u062F\u0644 \u0627\u0644\u0646\u0645\u0648:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontSize:'14px',fontWeight:'400',color:'#10b981'},children:"+15%"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.8)'},children:"\u0645\u0639\u062F\u0644 \u0627\u0644\u0625\u0644\u063A\u0627\u0621:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontSize:'14px',fontWeight:'400',color:'#ef4444'},children:"3%"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.8)'},children:"\u0623\u0639\u0644\u0649 \u062E\u0637\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{fontSize:'14px',fontWeight:'400'},children:((_plans$find=plans.find(p=>p.subscribers_count===Math.max(...plans.map(p=>p.subscribers_count))))===null||_plans$find===void 0?void 0:_plans$find.name_ar)||'---'})]})]})]})]})]}),showPlanModal&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.7)',backdropFilter:'blur(10px)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'2rem'},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(20px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'2rem',maxWidth:'500px',width:'100%',maxHeight:'90vh',overflowY:'auto'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'2rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'20px',fontWeight:'400'},children:editingPlan?'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø®Ø·Ø©':'Ø¥Ø¶Ø§ÙØ© Ø®Ø·Ø© Ø¬Ø¯ÙŠØ¯Ø©'}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>{setShowPlanModal(false);setEditingPlan(null);},style:{background:'none',border:'none',color:'white',fontSize:'24px',cursor:'pointer',padding:'4px'},children:"\xD7"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("form",{onSubmit:e=>{e.preventDefault();// Get form values
const formData=new FormData(e.currentTarget);const benefitsText=formData.get('benefits');const newPlan={id:(editingPlan===null||editingPlan===void 0?void 0:editingPlan.id)||Date.now(),name_ar:formData.get('name_ar'),description:formData.get('description'),price:Number(formData.get('price')),duration_months:Number(formData.get('duration')),benefits:benefitsText?benefitsText.split(',').map(b=>b.trim()):[],status:'active'};// Update plans state
let updatedPlans;if(editingPlan){updatedPlans=plans.map(p=>p.id===editingPlan.id?newPlan:p);}else{updatedPlans=[...plans,newPlan];}setPlans(updatedPlans);// Save to localStorage
localStorage.setItem('subscriptionPlans',JSON.stringify(updatedPlans));// Close modal and reset
setShowPlanModal(false);setEditingPlan(null);},style:{display:'flex',flexDirection:'column',gap:'1rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',fontSize:'14px',marginBottom:'0.5rem',color:'rgba(255, 255, 255, 0.8)'},children:"\u0627\u0633\u0645 \u0627\u0644\u062E\u0637\u0629 (\u0639\u0631\u0628\u064A)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",name:"name_ar",defaultValue:(editingPlan===null||editingPlan===void 0?void 0:editingPlan.name_ar)||'',style:{width:'100%',padding:'12px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',fontSize:'14px'},placeholder:"\u0645\u062B\u0627\u0644: \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0627\u0644\u0634\u0647\u0631\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',fontSize:'14px',marginBottom:'0.5rem',color:'rgba(255, 255, 255, 0.8)'},children:"\u0627\u0644\u0648\u0635\u0641"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{name:"description",defaultValue:(editingPlan===null||editingPlan===void 0?void 0:editingPlan.description)||'',rows:3,style:{width:'100%',padding:'12px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',fontSize:'14px',resize:'vertical'},placeholder:"\u0648\u0635\u0641 \u0645\u0648\u062C\u0632 \u0644\u0644\u062E\u0637\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'1rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',fontSize:'14px',marginBottom:'0.5rem',color:'rgba(255, 255, 255, 0.8)'},children:"\u0627\u0644\u0633\u0639\u0631 (\u0631\u064A\u0627\u0644)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",name:"price",defaultValue:(editingPlan===null||editingPlan===void 0?void 0:editingPlan.price)||'',min:"0",step:"1",style:{width:'100%',padding:'12px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',fontSize:'14px'},placeholder:"100"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',fontSize:'14px',marginBottom:'0.5rem',color:'rgba(255, 255, 255, 0.8)'},children:"\u0627\u0644\u0645\u062F\u0629 (\u0628\u0627\u0644\u0623\u0634\u0647\u0631)"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{name:"duration",defaultValue:(editingPlan===null||editingPlan===void 0?void 0:editingPlan.duration_months)||1,style:{width:'100%',padding:'12px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',fontSize:'14px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:1,children:"1 \u0634\u0647\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:3,children:"3 \u0623\u0634\u0647\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:6,children:"6 \u0623\u0634\u0647\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:12,children:"12 \u0634\u0647\u0631 (\u0633\u0646\u0648\u064A)"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',fontSize:'14px',marginBottom:'0.5rem',color:'rgba(255, 255, 255, 0.8)'},children:"\u0627\u0644\u0645\u0632\u0627\u064A\u0627 (\u0641\u0635\u0644 \u0628\u0639\u0644\u0627\u0645\u0629 \u0641\u0627\u0635\u0644\u0629)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{name:"benefits",defaultValue:(editingPlan===null||editingPlan===void 0?void 0:(_editingPlan$benefits=editingPlan.benefits)===null||_editingPlan$benefits===void 0?void 0:_editingPlan$benefits.join(', '))||'',rows:3,style:{width:'100%',padding:'12px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',fontSize:'14px',resize:'vertical'},placeholder:"\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u0645\u0631\u0627\u0641\u0642, \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629 \u0641\u064A \u0627\u0644\u0641\u0639\u0627\u0644\u064A\u0627\u062A, \u0627\u0644\u062F\u0639\u0645 \u0627\u0644\u0641\u0646\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'12px',marginTop:'1rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>{setShowPlanModal(false);setEditingPlan(null);},style:{flex:'1',padding:'12px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',fontSize:'14px',cursor:'pointer'},children:"\u0625\u0644\u063A\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"submit",style:{flex:'1',padding:'12px',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',border:'none',borderRadius:'8px',color:'white',fontSize:'14px',cursor:'pointer',fontWeight:'400'},children:editingPlan?'Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª':'Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®Ø·Ø©'})]})]})]})}),showSubscriptionModal&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.7)',backdropFilter:'blur(10px)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'2rem'},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{background:'rgba(255, 255, 255, 0.1)',backdropFilter:'blur(20px)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'16px',padding:'2rem',maxWidth:'500px',width:'100%',maxHeight:'90vh',overflowY:'auto'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'2rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'20px',fontWeight:'400'},children:"\u0627\u0634\u062A\u0631\u0627\u0643 \u0639\u0636\u0648 \u062C\u062F\u064A\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowSubscriptionModal(false),style:{background:'none',border:'none',color:'white',fontSize:'24px',cursor:'pointer',padding:'4px'},children:"\xD7"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("form",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',fontSize:'14px',marginBottom:'0.5rem',color:'rgba(255, 255, 255, 0.8)'},children:"\u0627\u0633\u0645 \u0627\u0644\u0639\u0636\u0648"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",style:{width:'100%',padding:'12px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',fontSize:'14px'},placeholder:"\u0623\u062D\u0645\u062F \u0645\u062D\u0645\u062F \u0627\u0644\u0634\u0639\u064A\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',fontSize:'14px',marginBottom:'0.5rem',color:'rgba(255, 255, 255, 0.8)'},children:"\u062E\u0637\u0629 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{style:{width:'100%',padding:'12px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',fontSize:'14px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0627\u062E\u062A\u0631 \u062E\u0637\u0629 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643"}),plans.filter(plan=>plan.status==='active').map(plan=>/*#__PURE__*/(0,jsx_runtime.jsxs)("option",{value:plan.id,children:[plan.name_ar," - ",plan.price," \u0631.\u0633"]},plan.id))]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{style:{display:'block',fontSize:'14px',marginBottom:'0.5rem',color:'rgba(255, 255, 255, 0.8)'},children:"\u062A\u0627\u0631\u064A\u062E \u0628\u062F\u0627\u064A\u0629 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"date",defaultValue:new Date().toISOString().split('T')[0],style:{width:'100%',padding:'12px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',fontSize:'14px'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'12px',marginTop:'1rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>setShowSubscriptionModal(false),style:{flex:'1',padding:'12px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'white',fontSize:'14px',cursor:'pointer'},children:"\u0625\u0644\u063A\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"submit",style:{flex:'1',padding:'12px',background:'linear-gradient(135deg, #10b981 0%, #059669 100%)',border:'none',borderRadius:'8px',color:'white',fontSize:'14px',cursor:'pointer',fontWeight:'400'},children:"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643"})]})]})]})})]});};// Render empty state for sections
const renderEmptyState=section=>{const emptyStates={members:{icon:esm.UsersIcon,message:'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£Ø¹Ø¶Ø§Ø¡ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†',description:'Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ø£Ø¹Ø¶Ø§Ø¡ Ø¬Ø¯Ø¯ Ø¥Ù„Ù‰ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©'},subscriptions:{icon:esm.CreditCardIcon,message:'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø§Ø´ØªØ±Ø§ÙƒØ§Øª',description:'Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø·Ø· Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ù„Ù„Ø£Ø¹Ø¶Ø§Ø¡'},payments:{icon:esm.BanknotesIcon,message:'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¯ÙÙˆØ¹Ø§Øª',description:'Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ù‡Ù†Ø§ Ø¹Ù†Ø¯ Ø¥Ø¶Ø§ÙØªÙ‡Ø§'},occasions:{icon:esm.CalendarIcon,message:'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†Ø§Ø³Ø¨Ø§Øª Ù‚Ø§Ø¯Ù…Ø©',description:'Ø£Ø¶Ù Ù…Ù†Ø§Ø³Ø¨Ø§Øª Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©'},initiatives:{icon:esm.LightBulbIcon,message:'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¨Ø§Ø¯Ø±Ø§Øª Ù†Ø´Ø·Ø©',description:'Ø§Ø¨Ø¯Ø£ Ù…Ø¨Ø§Ø¯Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ø¹Ø§Ø¦Ù„Ø©'},diyas:{icon:esm.ScaleIcon,message:'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯ÙŠØ§Øª Ù…Ø³Ø¬Ù„Ø©',description:'Ø³Ø¬Ù„ Ø§Ù„Ø¯ÙŠØ§Øª ÙˆÙ…ØªØ§Ø¨Ø¹ØªÙ‡Ø§ Ù…Ù† Ù‡Ù†Ø§'},reports:{icon:esm.DocumentTextIcon,message:'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ‚Ø§Ø±ÙŠØ±',description:'Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ ØªÙˆÙØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'},settings:{icon:esm.CogIcon,message:'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…',description:'Ù‚Ù… Ø¨ØªØ®ØµÙŠØµ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø­Ø³Ø¨ Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙƒ'}};const state=emptyStates[section];if(!state)return null;const Icon=state.icon;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:StyledDashboard_styles.emptyState,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Icon,{style:StyledDashboard_styles.emptyStateIcon}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{style:{fontSize:'20px',marginBottom:'8px'},children:state.message}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{color:'rgba(255, 255, 255, 0.6)',fontSize:'14px'},children:state.description})]});};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:StyledDashboard_styles.container,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"mobile-sidebar-overlay",style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.sidebarOverlay),sidebarOpen?{display:'block',opacity:1}:{}),onClick:()=>setSidebarOpen(false)}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:StyledDashboard_styles.header,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"mobile-menu-btn",onClick:()=>setSidebarOpen(true),style:StyledDashboard_styles.mobileMenuButton,"aria-label":"\u0641\u062A\u062D \u0627\u0644\u0642\u0627\u0626\u0645\u0629",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.Bars3Icon,{style:{width:'24px',height:'24px'}})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{style:{fontSize:'24px',fontWeight:'400',color:'#007AFF'},children:"\u0644\u0648\u062D\u0629 \u062A\u062D\u0643\u0645 \u0635\u0646\u062F\u0648\u0642 \u0634\u0639\u064A\u0644 \u0627\u0644\u0639\u0646\u0632\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:onLogout,style:{padding:'8px 24px',background:'rgba(132, 204, 22, 0.15)',border:'1px solid rgba(132, 204, 22, 0.3)',borderRadius:'8px',color:'#bef264',cursor:'pointer',fontSize:'14px',transition:'all 0.3s ease'},onMouseEnter:e=>{e.currentTarget.style.background='rgba(132, 204, 22, 0.25)';e.currentTarget.style.borderColor='rgba(132, 204, 22, 0.5)';e.currentTarget.style.color='white';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(132, 204, 22, 0.15)';e.currentTarget.style.borderColor='rgba(132, 204, 22, 0.3)';e.currentTarget.style.color='#bef264';},children:"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:StyledDashboard_styles.mainLayout,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"desktop-sidebar",style:StyledDashboard_styles.sidebar,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginBottom:'2rem',textAlign:'center'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:logo,alt:"Shuail Al-Anzi Fund Logo",style:{width:'140px',height:'140px',display:'block',margin:'0 auto 1rem auto',filter:'drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1))',background:'rgba(255, 255, 255, 0.95)',borderRadius:'50%',padding:'10px'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{style:{fontSize:'20px',marginBottom:'8px',color:'#ffffff',fontWeight:'400'},children:"\u0635\u0646\u062F\u0648\u0642 \u0634\u0639\u064A\u0644 \u0627\u0644\u0639\u0646\u0632\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.6)'},children:"Shuail Al-Anzi Fund"})]}),menuItems.map(item=>{const Icon=item.icon;const isActive=activeSection===item.id;return/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:e=>{createRipple(e);handleSectionChange(item.id);},style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.menuItem),isActive?StyledDashboard_styles.menuItemActive:{}),onMouseEnter:e=>{if(!isActive){Object.assign(e.currentTarget.style,StyledDashboard_styles.menuItemHover);const icon=e.currentTarget.querySelector('svg');if(icon instanceof HTMLElement){icon.style.transform='scale(1.1) rotate(-5deg)';}}},onMouseLeave:e=>{if(!isActive){e.currentTarget.style.background='transparent';e.currentTarget.style.transform='translateX(0)';const icon=e.currentTarget.querySelector('svg');if(icon instanceof HTMLElement){icon.style.transform='scale(1) rotate(0)';}}},"aria-label":item.label,"aria-current":isActive?'page':undefined,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.activeIndicator),isActive?StyledDashboard_styles.activeIndicatorVisible:{})}),/*#__PURE__*/(0,jsx_runtime.jsx)(Icon,{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.menuIcon),isActive?StyledDashboard_styles.menuIconActive:{})}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:item.label})]},item.id);})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mobile-sidebar",style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.sidebarMobile),sidebarOpen?StyledDashboard_styles.sidebarMobileOpen:{}),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setSidebarOpen(false),style:StyledDashboard_styles.closeButton,"aria-label":"\u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0642\u0627\u0626\u0645\u0629",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XMarkIcon,{style:{width:'20px',height:'20px'}})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{marginBottom:'2rem',marginTop:'3rem',textAlign:'center'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:logo,alt:"Shuail Al-Anzi Fund Logo",style:{width:'100px',height:'100px',display:'block',margin:'0 auto 1rem auto',filter:'drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1))',background:'rgba(255, 255, 255, 0.95)',borderRadius:'50%',padding:'10px'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{style:{fontSize:'20px',marginBottom:'8px',color:'#ffffff',fontWeight:'400'},children:"\u0635\u0646\u062F\u0648\u0642 \u0634\u0639\u064A\u0644 \u0627\u0644\u0639\u0646\u0632\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.6)'},children:"Shuail Al-Anzi Fund"})]}),menuItems.map(item=>{const Icon=item.icon;const isActive=activeSection===item.id;return/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:e=>{createRipple(e);handleSectionChange(item.id);},style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.menuItem),isActive?StyledDashboard_styles.menuItemActive:{}),"aria-label":item.label,"aria-current":isActive?'page':undefined,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.activeIndicator),isActive?StyledDashboard_styles.activeIndicatorVisible:{})}),/*#__PURE__*/(0,jsx_runtime.jsx)(Icon,{style:(0,objectSpread2["default"])((0,objectSpread2["default"])({},StyledDashboard_styles.menuIcon),isActive?StyledDashboard_styles.menuIconActive:{})}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:item.label})]},item.id);})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:StyledDashboard_styles.content,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:StyledDashboard_styles.breadcrumbs,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HomeIcon,{style:{width:'16px',height:'16px'}}),/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ChevronLeftIcon,{style:{width:'14px',height:'14px',opacity:0.5}}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:getCurrentSectionLabel()})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{ref:contentRef,style:StyledDashboard_styles.contentTransition,children:[dashboardError&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{background:'rgba(239, 68, 68, 0.12)',border:'1px solid rgba(239, 68, 68, 0.35)',color:'#fecaca',borderRadius:'12px',padding:'12px 16px',marginBottom:'1rem'},children:dashboardError}),isOverviewLoading?/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:StyledDashboard_styles.loadingContainer,children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:StyledDashboard_styles.loadingSpinner})}):/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:StyledDashboard_styles.sectionHeader,children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{style:{fontSize:'28px',marginBottom:'8px'},children:activeSection==='dashboard'?'Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…':getCurrentSectionLabel()}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{color:'rgba(255, 255, 255, 0.7)'},children:activeSection==='dashboard'?'Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„Ø´Ø¹ÙŠÙ„ - Ù†Ø¸Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©':"\u0625\u062F\u0627\u0631\u0629 ".concat(getCurrentSectionLabel()," - \u0639\u0627\u0626\u0644\u0629 \u0627\u0644\u0634\u0639\u064A\u0644")})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{textAlign:'right',padding:'8px 16px',background:'rgba(255, 255, 255, 0.1)',borderRadius:'12px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'18px',fontWeight:'400',color:'#10b981',marginBottom:'4px'},children:currentHijriDate.formatted}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{fontSize:'12px',color:'rgba(255, 255, 255, 0.6)'},children:currentHijriDate.gregorian})]})]})}),activeSection==='dashboard'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{height:'calc(100% - 100px)',display:'flex',flexDirection:'column',gap:'1.5rem',overflowY:'auto',paddingBottom:'20px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Dashboard_OverviewStats,{stats:stats}),/*#__PURE__*/(0,jsx_runtime.jsx)(Dashboard_OverviewCharts,{revenueData:revenueData,memberDistribution:memberDistribution,chartOptions:chartOptions,tribalSectionsData:tribalSectionsData}),/*#__PURE__*/(0,jsx_runtime.jsx)(Dashboard_RecentActivities,{activities:overviewActivities})]}),activeSection==='members'&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Members_TwoSectionMembers,{})}),activeSection==='payments'&&/*#__PURE__*/(0,jsx_runtime.jsx)(Payments_PaymentsTracking,{}),activeSection==='initiatives'&&/*#__PURE__*/(0,jsx_runtime.jsx)(admin_InitiativesManagement,{}),activeSection==='news'&&/*#__PURE__*/(0,jsx_runtime.jsx)(admin_NewsManagement,{}),activeSection==='diyas'&&/*#__PURE__*/(0,jsx_runtime.jsx)(Diyas_AppleDiyasManagement,{}),activeSection==='notifications'&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Notifications_NotificationsCenter,{})}),activeSection==='reports'&&/*#__PURE__*/(0,jsx_runtime.jsx)(Reports_FinancialReportsSimple,{}),activeSection==='settings'&&/*#__PURE__*/(0,jsx_runtime.jsx)(Settings_Settings,{}),activeSection==='statement'&&/*#__PURE__*/(0,jsx_runtime.jsx)(MemberStatement_MemberStatementSearch,{}),activeSection==='monitoring'&&/*#__PURE__*/(0,jsx_runtime.jsx)(MemberMonitoring_MemberMonitoringDashboard,{}),activeSection==='documents'&&/*#__PURE__*/(0,jsx_runtime.jsx)(Documents_DocumentManager,{}),activeSection==='family-tree'&&/*#__PURE__*/(0,jsx_runtime.jsx)(components_FamilyTree_FamilyTree,{})]})]},contentKey)]})]})]});};/* harmony default export */ const components_StyledDashboard = (StyledDashboard);
;// ./src/components/Members/MemberRegistration.jsx
const MemberRegistration=()=>{const{token}=(0,dist.useParams)();const navigate=(0,dist.useNavigate)();const[memberData,setMemberData]=(0,react.useState)(null);const[formData,setFormData]=(0,react.useState)({national_id:'',birth_date:'',employer:'',email:'',social_security_beneficiary:'',profile_photo:null,national_id_document:null,national_id_document_url:''});const[loading,setLoading]=(0,react.useState)(true);const[submitting,setSubmitting]=(0,react.useState)(false);const[error,setError]=(0,react.useState)('');const[success,setSuccess]=(0,react.useState)(false);const[photoPreview,setPhotoPreview]=(0,react.useState)(null);const[nationalIdPreview,setNationalIdPreview]=(0,react.useState)(null);const[cameraActive,setCameraActive]=(0,react.useState)(false);const[validationErrors,setValidationErrors]=(0,react.useState)({});const fileInputRef=(0,react.useRef)(null);const nationalIdInputRef=(0,react.useRef)(null);const videoRef=(0,react.useRef)(null);const canvasRef=(0,react.useRef)(null);const streamRef=(0,react.useRef)(null);// Verify token and load member data on component mount
(0,react.useEffect)(()=>{verifyToken();return()=>{// Cleanup camera stream
if(streamRef.current){streamRef.current.getTracks().forEach(track=>track.stop());}};},[token]);const verifyToken=async()=>{if(!token){setError('Ø±Ù…Ø² Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ù…ÙÙ‚ÙˆØ¯');setLoading(false);return;}try{const response=await memberService.verifyRegistrationToken(token);setMemberData(response.member);setError('');}catch(error){console.error('Token verification error:',error);setError('Ø±Ù…Ø² Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ØºÙŠØ± ØµØ­ÙŠØ­ Ø£Ùˆ Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©');}finally{setLoading(false);}};const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{[name]:value}));// Clear validation error when user starts typing
if(validationErrors[name]){setValidationErrors(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{[name]:''}));}};const handleRadioChange=value=>{setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{social_security_beneficiary:value}));};const handleFileSelect=e=>{const file=e.target.files[0];if(file){processPhoto(file);}};const processPhoto=file=>{// Check file size (max 5MB)
if(file.size>5*1024*1024){alert('Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø£Ù‚Ù„ Ù…Ù† 5 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª');return;}// Check file type
if(!file.type.startsWith('image/')){alert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù ØµÙˆØ±Ø© ØµØ­ÙŠØ­');return;}setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{profile_photo:file}));// Create preview
const reader=new FileReader();reader.onload=e=>{setPhotoPreview(e.target.result);};reader.readAsDataURL(file);};// Handle National ID document upload
const handleNationalIdUpload=e=>{const file=e.target.files[0];if(file){// Check file size (max 10MB for documents)
if(file.size>10*1024*1024){alert('Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø£Ù‚Ù„ Ù…Ù† 10 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª');return;}// Check file type (images and PDFs)
const allowedTypes=['image/jpeg','image/png','image/jpg','application/pdf'];if(!allowedTypes.includes(file.type)){alert('ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ ØµÙˆØ±Ø© (JPG, PNG) Ø£Ùˆ Ù…Ù„Ù PDF Ù„ØµÙˆØ±Ø© Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ÙˆØ·Ù†ÙŠØ©');return;}setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{national_id_document:file,national_id_document_url:URL.createObjectURL(file)}));// Create preview for images
if(file.type.startsWith('image/')){const reader=new FileReader();reader.onload=e=>{setNationalIdPreview(e.target.result);};reader.readAsDataURL(file);}else{// For PDF, just show file name
setNationalIdPreview('PDF');}}};const startCamera=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({video:{facingMode:'user',// Front camera on mobile
width:{ideal:640},height:{ideal:480}}});streamRef.current=stream;if(videoRef.current){videoRef.current.srcObject=stream;setCameraActive(true);}}catch(error){console.error('Camera error:',error);alert('ØªØ¹Ø°Ø± Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù.');}};const capturePhoto=()=>{if(videoRef.current&&canvasRef.current){const canvas=canvasRef.current;const video=videoRef.current;const context=canvas.getContext('2d');canvas.width=video.videoWidth;canvas.height=video.videoHeight;// Draw video frame to canvas
context.drawImage(video,0,0);// Convert to blob
canvas.toBlob(blob=>{const file=new File([blob],'profile_photo.jpg',{type:'image/jpeg'});processPhoto(file);stopCamera();},'image/jpeg',0.8);}};const stopCamera=()=>{if(streamRef.current){streamRef.current.getTracks().forEach(track=>track.stop());streamRef.current=null;}setCameraActive(false);};const validateForm=()=>{const errors={};// National ID validation
if(!formData.national_id.trim()){errors.national_id='Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© Ù…Ø·Ù„ÙˆØ¨';}else if(!/^\d{10}$/.test(formData.national_id.trim())){errors.national_id='Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 10 Ø£Ø±Ù‚Ø§Ù…';}// Birth date validation
if(!formData.birth_date){errors.birth_date='ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ Ù…Ø·Ù„ÙˆØ¨';}else{const birthDate=new Date(formData.birth_date);const today=new Date();const age=today.getFullYear()-birthDate.getFullYear();if(age<1||age>120){errors.birth_date='ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ ØºÙŠØ± ØµØ­ÙŠØ­';}}// Email validation
if(!formData.email.trim()){errors.email='Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø·Ù„ÙˆØ¨';}else if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email.trim())){errors.email='Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­';}// Social security question validation
if(!formData.social_security_beneficiary){errors.social_security_beneficiary='ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ';}// National ID document validation - REQUIRED
if(!formData.national_id_document){errors.national_id_document='ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ ØµÙˆØ±Ø© Ù…Ù† Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ÙˆØ·Ù†ÙŠØ© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª';}setValidationErrors(errors);return Object.keys(errors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setSubmitting(true);setError('');try{const response=await memberService.completeProfile(token,formData);setSuccess(true);// Redirect to success page or login after 3 seconds
setTimeout(()=>{navigate('/login',{replace:true});},3000);}catch(error){console.error('Registration error:',error);setError(error.message||'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥ØªÙ…Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');}finally{setSubmitting(false);}};if(loading){return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",dir:"rtl",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"backdrop-blur-md bg-white/70 rounded-2xl p-8 shadow-lg border border-white/20 text-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ClockIcon,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600",children:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0631\u0645\u0632 \u0627\u0644\u062A\u0633\u062C\u064A\u0644..."})]})});}if(error&&!memberData){return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",dir:"rtl",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"backdrop-blur-md bg-white/70 rounded-2xl p-8 shadow-lg border border-white/20 text-center max-w-md",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ExclamationTriangleIcon,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062A\u062D\u0642\u0642"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600 mb-6",children:error}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>navigate('/login'),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors duration-200",children:"\u0627\u0644\u0639\u0648\u062F\u0629 \u0625\u0644\u0649 \u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629"})]})});}if(success){return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",dir:"rtl",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"backdrop-blur-md bg-white/70 rounded-2xl p-8 shadow-lg border border-white/20 text-center max-w-md",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"\u062A\u0645 \u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0628\u0646\u062C\u0627\u062D!"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600 mb-6",children:"\u062A\u0645 \u0625\u0643\u0645\u0627\u0644 \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062E\u0635\u064A \u0628\u0646\u062C\u0627\u062D. \u0633\u064A\u062A\u0645 \u062A\u0648\u062C\u064A\u0647\u0643 \u0625\u0644\u0649 \u0635\u0641\u062D\u0629 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u062E\u0644\u0627\u0644 \u0644\u062D\u0638\u0627\u062A."}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"bg-green-500 h-2 rounded-full animate-pulse",style:{width:'100%'}})})]})});}return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"max-w-2xl mx-auto mb-6",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"backdrop-blur-md bg-white/70 rounded-2xl p-6 shadow-lg border border-white/20",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"\u0625\u0643\u0645\u0627\u0644 \u0645\u0644\u0641 \u0627\u0644\u0639\u0636\u0648\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-gray-600",children:["\u0645\u0631\u062D\u0628\u0627\u064B ",memberData===null||memberData===void 0?void 0:memberData.full_name_arabic]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["\u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629: ",memberData===null||memberData===void 0?void 0:memberData.membership_number]})]})})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"max-w-2xl mx-auto mb-6",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"backdrop-blur-md bg-white/70 rounded-2xl p-6 shadow-lg border border-white/20",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"\u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0633\u062C\u0644\u0629 \u0645\u0633\u0628\u0642\u0627\u064B"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50/50 rounded-lg",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"w-5 h-5 text-gray-500"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-500",children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"font-medium text-gray-800",children:(memberData===null||memberData===void 0?void 0:memberData.full_name_arabic)||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50/50 rounded-lg",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhoneIcon,{className:"w-5 h-5 text-gray-500"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-500",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"font-medium text-gray-800",children:(memberData===null||memberData===void 0?void 0:memberData.phone)||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'})]})]})]})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"max-w-2xl mx-auto",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"backdrop-blur-md bg-white/70 rounded-2xl p-6 shadow-lg border border-white/20",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629 *"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"relative",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.IdentificationIcon,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",name:"national_id",value:formData.national_id,onChange:handleInputChange,placeholder:"\u0623\u062F\u062E\u0644 \u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629 (10 \u0623\u0631\u0642\u0627\u0645)",className:"w-full pr-10 pl-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(validationErrors.national_id?'border-red-500':'border-gray-300'),maxLength:"10"})]}),validationErrors.national_id&&/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"mt-1 text-sm text-red-600",children:validationErrors.national_id})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["\u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629 *",/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-xs text-gray-500 block mt-1",children:"(\u064A\u0631\u062C\u0649 \u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0648\u0627\u0636\u062D\u0629 \u0644\u0644\u0647\u0648\u064A\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629 \u0644\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0635\u062D\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A)"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"space-y-3",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"border-2 border-dashed rounded-lg p-4 text-center ".concat(validationErrors.national_id_document?'border-red-500 bg-red-50':'border-gray-300 hover:border-blue-500'," transition-colors duration-200"),children:nationalIdPreview?/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"space-y-3",children:[nationalIdPreview==='PDF'?/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("svg",{className:"w-12 h-12 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:/*#__PURE__*/(0,jsx_runtime.jsx)("path",{d:"M4 18h12a2 2 0 002-2V6.414A2 2 0 0017.414 5L14 1.586A2 2 0 0012.586 1H4a2 2 0 00-2 2v13a2 2 0 002 2z"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-sm font-medium",children:"\u0645\u0644\u0641 PDF \u0645\u062D\u0645\u0644"})]}):/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:nationalIdPreview,alt:"National ID Preview",className:"max-w-full h-40 object-contain mx-auto rounded-lg shadow-md"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>{setNationalIdPreview(null);setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{national_id_document:null,national_id_document_url:''}));},className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"\u0625\u0632\u0627\u0644\u0629 \u0648\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0631\u0641\u0639"})]}):/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:/*#__PURE__*/(0,jsx_runtime.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"\u0627\u0636\u063A\u0637 \u0644\u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629 \u0623\u0648 \u0627\u0633\u062D\u0628 \u0627\u0644\u0645\u0644\u0641 \u0647\u0646\u0627"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, PDF \u062D\u062A\u0649 10 \u0645\u064A\u062C\u0627\u0628\u0627\u064A\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{ref:nationalIdInputRef,type:"file",accept:"image/*,.pdf",onChange:handleNationalIdUpload,className:"hidden"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>{var _nationalIdInputRef$c;return(_nationalIdInputRef$c=nationalIdInputRef.current)===null||_nationalIdInputRef$c===void 0?void 0:_nationalIdInputRef$c.click();},className:"mt-3 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors duration-200",children:"\u0627\u062E\u062A\u0631 \u0645\u0644\u0641"})]})}),validationErrors.national_id_document&&/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-sm text-red-600 flex items-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ExclamationTriangleIcon,{className:"w-4 h-4 ml-1"}),validationErrors.national_id_document]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F *"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"relative",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarDaysIcon,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"date",name:"birth_date",value:formData.birth_date,onChange:handleInputChange,className:"w-full pr-10 pl-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(validationErrors.birth_date?'border-red-500':'border-gray-300')})]}),validationErrors.birth_date&&/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"mt-1 text-sm text-red-600",children:validationErrors.birth_date})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u062C\u0647\u0629 \u0627\u0644\u0639\u0645\u0644 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"relative",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BuildingOfficeIcon,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",name:"employer",value:formData.employer,onChange:handleInputChange,placeholder:"\u0623\u062F\u062E\u0644 \u062C\u0647\u0629 \u0627\u0644\u0639\u0645\u0644",className:"w-full pr-10 pl-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A *"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"relative",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EnvelopeIcon,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"email",name:"email",value:formData.email,onChange:handleInputChange,placeholder:"\u0623\u062F\u062E\u0644 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",className:"w-full pr-10 pl-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(validationErrors.email?'border-red-500':'border-gray-300')})]}),validationErrors.email&&/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"mt-1 text-sm text-red-600",children:validationErrors.email})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"\u0647\u0644 \u0623\u0646\u062A \u0645\u0633\u062A\u0641\u064A\u062F \u0645\u0646 \u0627\u0644\u0636\u0645\u0627\u0646 \u0627\u0644\u0627\u062C\u062A\u0645\u0627\u0639\u064A\u061F *"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"space-y-3",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"radio",name:"social_security_beneficiary",value:"true",checked:formData.social_security_beneficiary==='true',onChange:()=>handleRadioChange('true'),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"mr-3 text-gray-800",children:"\u0646\u0639\u0645\u060C \u0623\u0646\u0627 \u0645\u0633\u062A\u0641\u064A\u062F \u0645\u0646 \u0627\u0644\u0636\u0645\u0627\u0646 \u0627\u0644\u0627\u062C\u062A\u0645\u0627\u0639\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"radio",name:"social_security_beneficiary",value:"false",checked:formData.social_security_beneficiary==='false',onChange:()=>handleRadioChange('false'),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"mr-3 text-gray-800",children:"\u0644\u0627\u060C \u0644\u0633\u062A \u0645\u0633\u062A\u0641\u064A\u062F \u0645\u0646 \u0627\u0644\u0636\u0645\u0627\u0646 \u0627\u0644\u0627\u062C\u062A\u0645\u0627\u0639\u064A"})]})]}),validationErrors.social_security_beneficiary&&/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"mt-1 text-sm text-red-600",children:validationErrors.social_security_beneficiary})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"\u0627\u0644\u0635\u0648\u0631\u0629 \u0627\u0644\u0634\u062E\u0635\u064A\u0629 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)"}),photoPreview&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mb-4 text-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:photoPreview,alt:"\u0645\u0639\u0627\u064A\u0646\u0629 \u0627\u0644\u0635\u0648\u0631\u0629",className:"w-32 h-32 object-cover rounded-full mx-auto border-4 border-white shadow-lg"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>{setPhotoPreview(null);setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{profile_photo:null}));},className:"mt-2 text-sm text-red-600 hover:text-red-800",children:"\u062D\u0630\u0641 \u0627\u0644\u0635\u0648\u0631\u0629"})]}),cameraActive&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mb-4 text-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("video",{ref:videoRef,autoPlay:true,playsInline:true,className:"w-full max-w-sm rounded-lg border-2 border-gray-300"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-3 mt-3 justify-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",onClick:capturePhoto,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"\u0627\u0644\u062A\u0642\u0637 \u0627\u0644\u0635\u0648\u0631\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",onClick:stopCamera,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200",children:"\u0625\u0644\u063A\u0627\u0621"})]})]}),!photoPreview&&!cameraActive&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{type:"button",onClick:startCamera,className:"flex items-center justify-center gap-2 p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors duration-200",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CameraIcon,{className:"w-6 h-6 text-gray-500"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-gray-700",children:"\u0627\u0633\u062A\u062E\u062F\u0645 \u0627\u0644\u0643\u0627\u0645\u064A\u0631\u0627"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{type:"button",onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},className:"flex items-center justify-center gap-2 p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors duration-200",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowLeftIcon,{className:"w-6 h-6 text-gray-500"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-gray-700",children:"\u0627\u062E\u062A\u0631 \u0645\u0646 \u0627\u0644\u0645\u0644\u0641\u0627\u062A"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{ref:fileInputRef,type:"file",accept:"image/*",onChange:handleFileSelect,className:"hidden"}),/*#__PURE__*/(0,jsx_runtime.jsx)("canvas",{ref:canvasRef,className:"hidden"})]}),error&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ExclamationTriangleIcon,{className:"w-5 h-5 text-red-500"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-red-700",children:error})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"submit",disabled:submitting,className:"w-full bg-blue-600 text-white py-4 px-6 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors duration-200 flex items-center justify-center gap-2",children:submitting?/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ClockIcon,{className:"w-5 h-5 animate-spin"}),"\u062C\u0627\u0631\u064A \u0625\u062A\u0645\u0627\u0645 \u0627\u0644\u062A\u0633\u062C\u064A\u0644..."]}):/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"w-5 h-5"}),"\u0625\u062A\u0645\u0627\u0645 \u0627\u0644\u062A\u0633\u062C\u064A\u0644"]})})]})})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"max-w-2xl mx-auto mt-8 text-center",children:/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-500",children:"\xA9 2024 \u0646\u0638\u0627\u0645 \u0627\u0644\u0634\u0639\u064A\u0644. \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0642 \u0645\u062D\u0641\u0648\u0638\u0629."})})]});};/* harmony default export */ const Members_MemberRegistration = (MemberRegistration);
;// ./src/components/Members/AppleRegistrationForm.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const AppleRegistrationForm = ({});
;// ./src/components/Members/AppleRegistrationForm.tsx
const AppleRegistrationForm_AppleRegistrationForm=()=>{const[currentStep,setCurrentStep]=(0,react.useState)(1);const[formData,setFormData]=(0,react.useState)({fullName:'',nationalId:'',phone:'',email:'',birthDate:'',birthDateHijri:'',city:'',district:'',street:'',buildingNumber:'',postalCode:'',maritalStatus:'',numberOfDependents:0,familyMembers:[],occupation:'',employer:'',monthlyIncome:'',educationLevel:'',hasHealthConditions:false,needsAssistance:false});const[errors,setErrors]=(0,react.useState)([]);const[isSubmitting,setIsSubmitting]=(0,react.useState)(false);const[submitSuccess,setSubmitSuccess]=(0,react.useState)(false);const[activeField,setActiveField]=(0,react.useState)('');const formRef=(0,react.useRef)(null);const totalSteps=5;const stepTitles=['Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©','Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù†ÙˆØ§Ù†','Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ©','Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù‡Ù†ÙŠØ©','Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©'];const stepIcons=[esm.UserIcon,esm.HomeIcon,esm.UserGroupIcon,esm.BriefcaseIcon,esm.DocumentTextIcon];// Animation on mount
(0,react.useEffect)(()=>{const timer=setTimeout(()=>{var _formRef$current;(_formRef$current=formRef.current)===null||_formRef$current===void 0?void 0:_formRef$current.classList.add('form-visible');},100);return()=>clearTimeout(timer);},[]);// Auto-save to localStorage
(0,react.useEffect)(()=>{const saveTimer=setTimeout(()=>{localStorage.setItem('registrationFormData',JSON.stringify(formData));},1000);return()=>clearTimeout(saveTimer);},[formData]);const handleInputChange=(field,value)=>{setFormData(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{[field]:value}));// Clear error for this field
setErrors(prev=>prev.filter(error=>error.field!==field));};const validateStep=step=>{const newErrors=[];switch(step){case 1:if(!formData.fullName){newErrors.push({field:'fullName',message:'Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ø·Ù„ÙˆØ¨'});}if(!formData.nationalId||formData.nationalId.length!==10){newErrors.push({field:'nationalId',message:'Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 10 Ø£Ø±Ù‚Ø§Ù…'});}if(!formData.phone||!formData.phone.match(/^05\d{8}$/)){newErrors.push({field:'phone',message:'Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ ØºÙŠØ± ØµØ­ÙŠØ­'});}break;case 2:if(!formData.city){newErrors.push({field:'city',message:'Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ù…Ø·Ù„ÙˆØ¨Ø©'});}if(!formData.district){newErrors.push({field:'district',message:'Ø§Ù„Ø­ÙŠ Ù…Ø·Ù„ÙˆØ¨'});}break;case 3:if(!formData.maritalStatus){newErrors.push({field:'maritalStatus',message:'Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© Ù…Ø·Ù„ÙˆØ¨Ø©'});}break;case 4:if(!formData.occupation){newErrors.push({field:'occupation',message:'Ø§Ù„Ù…Ù‡Ù†Ø© Ù…Ø·Ù„ÙˆØ¨Ø©'});}break;}setErrors(newErrors);return newErrors.length===0;};const handleNextStep=()=>{if(validateStep(currentStep)){setCurrentStep(prev=>Math.min(prev+1,totalSteps));window.scrollTo({top:0,behavior:'smooth'});}};const handlePreviousStep=()=>{setCurrentStep(prev=>Math.max(prev-1,1));window.scrollTo({top:0,behavior:'smooth'});};const handleSubmit=async()=>{if(!validateStep(currentStep)){return;}setIsSubmitting(true);try{// Simulate API call
await new Promise(resolve=>setTimeout(resolve,2000));setSubmitSuccess(true);localStorage.removeItem('registrationFormData');// Show success animation
setTimeout(()=>{window.scrollTo({top:0,behavior:'smooth'});},500);}catch(error){console.error('Submission error:',error);}finally{setIsSubmitting(false);}};const renderStepIndicator=()=>/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"step-indicator-container",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"step-indicator",children:[...Array(totalSteps)].map((_,index)=>{const StepIcon=stepIcons[index];const isActive=index+1===currentStep;const isCompleted=index+1<currentStep;return/*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"step-item ".concat(isActive?'active':''," ").concat(isCompleted?'completed':''),onClick:()=>isCompleted&&setCurrentStep(index+1),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"step-icon",children:isCompleted?/*#__PURE__*/(0,jsx_runtime.jsx)(solid_esm.CheckCircleIcon,{className:"w-6 h-6"}):/*#__PURE__*/(0,jsx_runtime.jsx)(StepIcon,{className:"w-5 h-5"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"step-label",children:stepTitles[index]})]}),index<totalSteps-1&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"step-line ".concat(index+1<currentStep?'completed':'')})]},index);})})});const renderPersonalInfo=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-section animate-slide-in",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"section-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"section-title",children:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"section-subtitle",children:"\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A\u0643 \u0627\u0644\u0634\u062E\u0635\u064A\u0629 \u0628\u062F\u0642\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"label-icon"}),"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field ".concat(errors.find(e=>e.field==='fullName')?'error':''),placeholder:"\u0623\u062F\u062E\u0644 \u0627\u0633\u0645\u0643 \u0627\u0644\u0643\u0627\u0645\u0644",value:formData.fullName,onChange:e=>handleInputChange('fullName',e.target.value),onFocus:()=>setActiveField('fullName'),onBlur:()=>setActiveField('')}),activeField==='fullName'&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"field-hint",children:"\u0627\u0644\u0627\u0633\u0645 \u0643\u0645\u0627 \u0647\u0648 \u0645\u0633\u062C\u0644 \u0641\u064A \u0627\u0644\u0647\u0648\u064A\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.IdentificationIcon,{className:"label-icon"}),"\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field ".concat(errors.find(e=>e.field==='nationalId')?'error':''),placeholder:"1234567890",maxLength:10,value:formData.nationalId,onChange:e=>handleInputChange('nationalId',e.target.value.replace(/\D/g,'')),onFocus:()=>setActiveField('nationalId'),onBlur:()=>setActiveField('')}),activeField==='nationalId'&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"field-hint",children:"10 \u0623\u0631\u0642\u0627\u0645 \u0628\u062F\u0648\u0646 \u0623\u064A \u0631\u0645\u0648\u0632"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhoneIcon,{className:"label-icon"}),"\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"tel",className:"input-field ".concat(errors.find(e=>e.field==='phone')?'error':''),placeholder:"05XXXXXXXX",maxLength:10,value:formData.phone,onChange:e=>handleInputChange('phone',e.target.value.replace(/\D/g,'')),onFocus:()=>setActiveField('phone'),onBlur:()=>setActiveField(''),dir:"ltr"}),activeField==='phone'&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"field-hint",children:"\u0631\u0642\u0645 \u062C\u0648\u0627\u0644 \u0633\u0639\u0648\u062F\u064A \u064A\u0628\u062F\u0623 \u0628\u0640 05"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EnvelopeIcon,{className:"label-icon"}),"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"email",className:"input-field",placeholder:"example@domain.com",value:formData.email,onChange:e=>handleInputChange('email',e.target.value),onFocus:()=>setActiveField('email'),onBlur:()=>setActiveField(''),dir:"ltr"}),activeField==='email'&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"field-hint",children:"\u0627\u062E\u062A\u064A\u0627\u0631\u064A - \u0644\u0644\u062A\u0648\u0627\u0635\u0644 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarDaysIcon,{className:"label-icon"}),"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"date",className:"input-field",value:formData.birthDate,onChange:e=>handleInputChange('birthDate',e.target.value),onFocus:()=>setActiveField('birthDate'),onBlur:()=>setActiveField('')}),activeField==='birthDate'&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"field-hint",children:"\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F\u064A"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarDaysIcon,{className:"label-icon"}),"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F \u0627\u0644\u0647\u062C\u0631\u064A"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field",placeholder:"1445/01/01",value:formData.birthDateHijri,onChange:e=>handleInputChange('birthDateHijri',e.target.value),onFocus:()=>setActiveField('birthDateHijri'),onBlur:()=>setActiveField(''),dir:"ltr"}),activeField==='birthDateHijri'&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"field-hint",children:"\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0647\u062C\u0631\u064A \u0628\u0635\u064A\u063A\u0629: \u0633\u0646\u0629/\u0634\u0647\u0631/\u064A\u0648\u0645"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"document-upload-section",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h3",{className:"upload-title",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhotoIcon,{className:"w-5 h-5"}),"\u0631\u0641\u0639 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"upload-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"upload-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"file",id:"nationalIdDoc",accept:"image/*,.pdf",onChange:e=>{var _e$target$files;return handleInputChange('nationalIdDocument',(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0]);},className:"hidden"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{htmlFor:"nationalIdDoc",className:"upload-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentTextIcon,{className:"upload-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"upload-text",children:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"upload-hint",children:"PNG, JPG, PDF - \u062D\u062A\u0649 5MB"}),formData.nationalIdDocument&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"upload-success",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"w-5 h-5"}),"\u062A\u0645 \u0627\u0644\u0631\u0641\u0639 \u0628\u0646\u062C\u0627\u062D"]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"upload-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"file",id:"profilePhoto",accept:"image/*",onChange:e=>{var _e$target$files2;return handleInputChange('profilePhoto',(_e$target$files2=e.target.files)===null||_e$target$files2===void 0?void 0:_e$target$files2[0]);},className:"hidden"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{htmlFor:"profilePhoto",className:"upload-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhotoIcon,{className:"upload-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"upload-text",children:"\u0627\u0644\u0635\u0648\u0631\u0629 \u0627\u0644\u0634\u062E\u0635\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"upload-hint",children:"PNG, JPG - \u062D\u062A\u0649 2MB"}),formData.profilePhoto&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"upload-success",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"w-5 h-5"}),"\u062A\u0645 \u0627\u0644\u0631\u0641\u0639 \u0628\u0646\u062C\u0627\u062D"]})]})]})]})]})]});const renderAddressInfo=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-section animate-slide-in",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HomeIcon,{className:"section-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"section-title",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0639\u0646\u0648\u0627\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"section-subtitle",children:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0633\u0643\u0646 \u0627\u0644\u062D\u0627\u0644\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MapPinIcon,{className:"label-icon"}),"\u0627\u0644\u0645\u062F\u064A\u0646\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{className:"input-field ".concat(errors.find(e=>e.field==='city')?'error':''),value:formData.city,onChange:e=>handleInputChange('city',e.target.value),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u062F\u064A\u0646\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"riyadh",children:"\u0627\u0644\u0631\u064A\u0627\u0636"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"jeddah",children:"\u062C\u062F\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"makkah",children:"\u0645\u0643\u0629 \u0627\u0644\u0645\u0643\u0631\u0645\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"madinah",children:"\u0627\u0644\u0645\u062F\u064A\u0646\u0629 \u0627\u0644\u0645\u0646\u0648\u0631\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"dammam",children:"\u0627\u0644\u062F\u0645\u0627\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"khobar",children:"\u0627\u0644\u062E\u0628\u0631"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MapPinIcon,{className:"label-icon"}),"\u0627\u0644\u062D\u064A"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field ".concat(errors.find(e=>e.field==='district')?'error':''),placeholder:"\u0627\u0633\u0645 \u0627\u0644\u062D\u064A",value:formData.district,onChange:e=>handleInputChange('district',e.target.value)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HomeIcon,{className:"label-icon"}),"\u0627\u0644\u0634\u0627\u0631\u0639"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field",placeholder:"\u0627\u0633\u0645 \u0627\u0644\u0634\u0627\u0631\u0639",value:formData.street,onChange:e=>handleInputChange('street',e.target.value)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HomeIcon,{className:"label-icon"}),"\u0631\u0642\u0645 \u0627\u0644\u0645\u0628\u0646\u0649"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field",placeholder:"\u0631\u0642\u0645 \u0627\u0644\u0645\u0628\u0646\u0649",value:formData.buildingNumber,onChange:e=>handleInputChange('buildingNumber',e.target.value)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EnvelopeIcon,{className:"label-icon"}),"\u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0628\u0631\u064A\u062F\u064A"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field",placeholder:"12345",maxLength:5,value:formData.postalCode,onChange:e=>handleInputChange('postalCode',e.target.value.replace(/\D/g,'')),dir:"ltr"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"map-preview",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"map-placeholder",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.MapPinIcon,{className:"w-12 h-12 text-gray-400"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-500 mt-2",children:"\u0645\u0648\u0642\u0639 \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629"})]})})]});const renderFamilyInfo=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-section animate-slide-in",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserGroupIcon,{className:"section-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"section-title",children:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0639\u0627\u0626\u0644\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"section-subtitle",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0623\u0633\u0631\u0629 \u0648\u0627\u0644\u0645\u0639\u0627\u0644\u064A\u0646"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HeartIcon,{className:"label-icon"}),"\u0627\u0644\u062D\u0627\u0644\u0629 \u0627\u0644\u0627\u062C\u062A\u0645\u0627\u0639\u064A\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{className:"input-field ".concat(errors.find(e=>e.field==='maritalStatus')?'error':''),value:formData.maritalStatus,onChange:e=>handleInputChange('maritalStatus',e.target.value),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0627\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"single",children:"\u0623\u0639\u0632\u0628"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"married",children:"\u0645\u062A\u0632\u0648\u062C"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"divorced",children:"\u0645\u0637\u0644\u0642"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"widowed",children:"\u0623\u0631\u0645\u0644"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserGroupIcon,{className:"label-icon"}),"\u0639\u062F\u062F \u0627\u0644\u0645\u0639\u0627\u0644\u064A\u0646"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",className:"input-field",placeholder:"0",min:"0",value:formData.numberOfDependents,onChange:e=>handleInputChange('numberOfDependents',parseInt(e.target.value)||0)})]})]}),formData.numberOfDependents>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"family-members-section",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"subsection-title",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0639\u0627\u0644\u064A\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"family-members-grid",children:[...Array(Math.min(formData.numberOfDependents,10))].map((_,index)=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"family-member-card",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"w-5 h-5"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0627\u0644\u0645\u0639\u0627\u0644 ",index+1]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-fields",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field small",placeholder:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644",onChange:e=>{const updatedMembers=[...formData.familyMembers];if(!updatedMembers[index]){updatedMembers[index]={name:'',relationship:'',birthDate:'',nationalId:''};}updatedMembers[index].name=e.target.value;handleInputChange('familyMembers',updatedMembers);}}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{className:"input-field small",onChange:e=>{const updatedMembers=[...formData.familyMembers];if(!updatedMembers[index]){updatedMembers[index]={name:'',relationship:'',birthDate:'',nationalId:''};}updatedMembers[index].relationship=e.target.value;handleInputChange('familyMembers',updatedMembers);},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0635\u0644\u0629 \u0627\u0644\u0642\u0631\u0627\u0628\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"son",children:"\u0627\u0628\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"daughter",children:"\u0627\u0628\u0646\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"wife",children:"\u0632\u0648\u062C\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"parent",children:"\u0648\u0627\u0644\u062F/\u0648\u0627\u0644\u062F\u0629"})]})]})]},index))})]})]});const renderProfessionalInfo=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-section animate-slide-in",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BriefcaseIcon,{className:"section-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"section-title",children:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0647\u0646\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"section-subtitle",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0639\u0645\u0644 \u0648\u0627\u0644\u062A\u0639\u0644\u064A\u0645"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BriefcaseIcon,{className:"label-icon"}),"\u0627\u0644\u0645\u0647\u0646\u0629"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field ".concat(errors.find(e=>e.field==='occupation')?'error':''),placeholder:"\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A",value:formData.occupation,onChange:e=>handleInputChange('occupation',e.target.value)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BriefcaseIcon,{className:"label-icon"}),"\u062C\u0647\u0629 \u0627\u0644\u0639\u0645\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",className:"input-field",placeholder:"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629 \u0623\u0648 \u0627\u0644\u0645\u0624\u0633\u0633\u0629",value:formData.employer,onChange:e=>handleInputChange('employer',e.target.value)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BanknotesIcon,{className:"label-icon"}),"\u0627\u0644\u062F\u062E\u0644 \u0627\u0644\u0634\u0647\u0631\u064A"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{className:"input-field",value:formData.monthlyIncome,onChange:e=>handleInputChange('monthlyIncome',e.target.value),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0627\u062E\u062A\u0631 \u0627\u0644\u0646\u0637\u0627\u0642"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"less-3000",children:"\u0623\u0642\u0644 \u0645\u0646 3,000 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"3000-5000",children:"3,000 - 5,000 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"5000-10000",children:"5,000 - 10,000 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"10000-15000",children:"10,000 - 15,000 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"15000-20000",children:"15,000 - 20,000 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"more-20000",children:"\u0623\u0643\u062B\u0631 \u0645\u0646 20,000 \u0631\u064A\u0627\u0644"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"input-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.AcademicCapIcon,{className:"label-icon"}),"\u0627\u0644\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062A\u0639\u0644\u064A\u0645\u064A"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{className:"input-field",value:formData.educationLevel,onChange:e=>handleInputChange('educationLevel',e.target.value),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0633\u062A\u0648\u0649"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"primary",children:"\u0627\u0628\u062A\u062F\u0627\u0626\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"intermediate",children:"\u0645\u062A\u0648\u0633\u0637"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"secondary",children:"\u062B\u0627\u0646\u0648\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"diploma",children:"\u062F\u0628\u0644\u0648\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"bachelor",children:"\u0628\u0643\u0627\u0644\u0648\u0631\u064A\u0648\u0633"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"master",children:"\u0645\u0627\u062C\u0633\u062A\u064A\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"phd",children:"\u062F\u0643\u062A\u0648\u0631\u0627\u0647"})]})]})]})]});const renderAdditionalInfo=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-section animate-slide-in",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentTextIcon,{className:"section-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"section-title",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"section-subtitle",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0635\u062D\u064A\u0629 \u0648\u0627\u062D\u062A\u064A\u0627\u062C\u0627\u062A \u062E\u0627\u0635\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"checkbox-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"checkbox-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"checkbox",className:"checkbox-input",checked:formData.hasHealthConditions,onChange:e=>handleInputChange('hasHealthConditions',e.target.checked)}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"checkbox-text",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ShieldCheckIcon,{className:"w-5 h-5"}),"\u0644\u062F\u064A \u062D\u0627\u0644\u0629 \u0635\u062D\u064A\u0629 \u062A\u062A\u0637\u0644\u0628 \u0631\u0639\u0627\u064A\u0629 \u062E\u0627\u0635\u0629"]})]}),formData.hasHealthConditions&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"conditional-field",children:/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{className:"input-field textarea",placeholder:"\u064A\u0631\u062C\u0649 \u062A\u0648\u0636\u064A\u062D \u0627\u0644\u062D\u0627\u0644\u0629 \u0627\u0644\u0635\u062D\u064A\u0629...",rows:3,value:formData.healthConditions||'',onChange:e=>handleInputChange('healthConditions',e.target.value)})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"checkbox-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"checkbox-label",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"checkbox",className:"checkbox-input",checked:formData.needsAssistance,onChange:e=>handleInputChange('needsAssistance',e.target.checked)}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"checkbox-text",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.HeartIcon,{className:"w-5 h-5"}),"\u0623\u062D\u062A\u0627\u062C \u0625\u0644\u0649 \u0645\u0633\u0627\u0639\u062F\u0629 \u0645\u0646 \u0627\u0644\u0639\u0627\u0626\u0644\u0629"]})]}),formData.needsAssistance&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"conditional-field",children:/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{className:"input-field textarea",placeholder:"\u064A\u0631\u062C\u0649 \u062A\u0648\u0636\u064A\u062D \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u0627\u0639\u062F\u0629 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629...",rows:3,value:formData.assistanceType||'',onChange:e=>handleInputChange('assistanceType',e.target.value)})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"summary-section",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h3",{className:"summary-title",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"w-5 h-5"}),"\u0645\u0644\u062E\u0635 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"summary-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"summary-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-label",children:"\u0627\u0644\u0627\u0633\u0645:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-value",children:formData.fullName||'---'})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"summary-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-label",children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-value",children:formData.nationalId||'---'})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"summary-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-label",children:"\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-value",children:formData.phone||'---'})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"summary-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-label",children:"\u0627\u0644\u0645\u062F\u064A\u0646\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"summary-value",children:formData.city||'---'})]})]})]})]});const renderSuccessScreen=()=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"success-screen animate-scale-in",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"success-icon-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"success-icon-bg"}),/*#__PURE__*/(0,jsx_runtime.jsx)(solid_esm.CheckCircleIcon,{className:"success-icon"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"success-title",children:"\u062A\u0645 \u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0628\u0646\u062C\u0627\u062D!"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"success-message",children:"\u0634\u0643\u0631\u0627\u064B \u0644\u0643 \u0639\u0644\u0649 \u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u062A\u0633\u062C\u064A\u0644. \u0633\u064A\u062A\u0645 \u0645\u0631\u0627\u062C\u0639\u0629 \u0637\u0644\u0628\u0643 \u0648\u0627\u0644\u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0643 \u0642\u0631\u064A\u0628\u0627\u064B."}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"success-details",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"detail-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"detail-label",children:"\u0631\u0642\u0645 \u0627\u0644\u0645\u0631\u062C\u0639:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"detail-value",children:["REG-2024-",Math.random().toString(36).substr(2,9).toUpperCase()]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"detail-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"detail-label",children:"\u0627\u0644\u062A\u0627\u0631\u064A\u062E:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"detail-value",children:new Date().toLocaleDateString('ar-SA')})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"success-actions",children:/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"primary-button",onClick:()=>window.location.href='/',children:"\u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629"})})]});if(submitSuccess){return renderSuccessScreen();}return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"apple-registration-container",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("header",{className:"premium-header",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"header-background",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"gradient-overlay"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"particle-effect"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"header-content",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"logo-section",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"logo-wrapper",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.SparklesIcon,{className:"logo-icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"logo-text",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"logo-title",children:"\u0639\u0627\u0626\u0644\u0629 \u0627\u0644\u0634\u0639\u064A\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"logo-subtitle",children:"\u0646\u0638\u0627\u0645 \u0627\u0644\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"header-info",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(solid_esm.StarIcon,{className:"info-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062A\u0633\u062C\u064A\u0644 \u0622\u0645\u0646 \u0648\u0645\u0634\u0641\u0631"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(solid_esm.CheckCircleIcon,{className:"info-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0645\u0639\u062A\u0645\u062F \u0645\u0646 \u0627\u0644\u0625\u062F\u0627\u0631\u0629"})]})]})]})]}),renderStepIndicator(),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"form-container",ref:formRef,children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-wrapper",children:[errors.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"error-banner animate-shake",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ExclamationCircleIcon,{className:"error-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"error-messages",children:errors.map((error,index)=>/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"error-message",children:error.message},index))})]}),currentStep===1&&renderPersonalInfo(),currentStep===2&&renderAddressInfo(),currentStep===3&&renderFamilyInfo(),currentStep===4&&renderProfessionalInfo(),currentStep===5&&renderAdditionalInfo(),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-navigation",children:[currentStep>1&&/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"secondary-button",onClick:handlePreviousStep,disabled:isSubmitting,children:"\u0627\u0644\u0633\u0627\u0628\u0642"}),currentStep<totalSteps?/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"primary-button",onClick:handleNextStep,disabled:isSubmitting,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0644\u062A\u0627\u0644\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowRightIcon,{className:"button-icon"})]}):/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"primary-button ".concat(isSubmitting?'loading':''),onClick:handleSubmit,disabled:isSubmitting,children:isSubmitting?/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"button-spinner"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0631\u0633\u0627\u0644..."})]}):/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628"}),/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckIcon,{className:"button-icon"})]})})]})]})})]});};/* harmony default export */ const Members_AppleRegistrationForm = (AppleRegistrationForm_AppleRegistrationForm);
;// ./src/utils/RouteGuard.jsx
// Route Guard Components for Role-Based Access Control
// This ensures members cannot access admin pages and vice versa
/**
 * AdminRoute - Protects admin-only routes
 * Redirects members to mobile dashboard
 */const AdminRoute=_ref=>{let{children}=_ref;// Get user from localStorage
const userStr=localStorage.getItem('user');const user=userStr?JSON.parse(userStr):null;// Check if user exists and has authentication
if(!user||!localStorage.getItem('token')){// Not logged in, redirect to login
return/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/login",replace:true});}// Check user role - Include financial_manager for subscription access
const adminRoles=['admin','super_admin','moderator','financial_manager'];if(!adminRoles.includes(user.role)){// User is a member, redirect to mobile dashboard
console.warn('Member attempted to access admin route, redirecting to mobile');return/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/mobile/dashboard",replace:true});}// User is admin, allow access
return children;};/**
 * MemberRoute - Protects member-only routes
 * Redirects admins to admin dashboard
 */const MemberRoute=_ref2=>{let{children}=_ref2;// Get user from localStorage with error handling
let user=null;try{const userStr=localStorage.getItem('user');if(userStr){user=JSON.parse(userStr);}}catch(error){console.error('Failed to parse user data:',error);localStorage.removeItem('user');}const token=localStorage.getItem('token');// Check if user exists and has authentication
if(!user||!token){// Not logged in, redirect to mobile login
console.log('MemberRoute: No auth, redirecting to login');return/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/mobile/login",replace:true});}// Allow members to access
if(user.role==='member'){console.log('MemberRoute: Member authenticated, allowing access');return children;}// Allow admins to view member pages (for testing/support)
if(['admin','super_admin','moderator','financial_manager'].includes(user.role)){console.log('MemberRoute: Admin accessing member route for testing/support, allowing access');return children;}// Unknown role but has token - redirect to login
console.warn('MemberRoute: Unknown role, redirecting to login');return/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/mobile/login",replace:true});};/**
 * PublicRoute - For routes that don't require authentication
 * But redirect logged-in users to appropriate dashboard
 */const PublicRoute=_ref3=>{let{children}=_ref3;const userStr=localStorage.getItem('user');const user=userStr?JSON.parse(userStr):null;const token=localStorage.getItem('token');// If user is logged in, redirect to appropriate dashboard
if(user&&token){if(user.role==='member'){return/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/mobile/dashboard",replace:true});}else if(['admin','super_admin','moderator','financial_manager'].includes(user.role)){return/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/admin/dashboard",replace:true});}}// Not logged in, show public content
return children;};/**
 * RequireAuth - General authentication guard
 * Ensures user is logged in regardless of role
 */const RequireAuth=_ref4=>{let{children}=_ref4;const token=localStorage.getItem('token');const user=localStorage.getItem('user');if(!token||!user){// Not authenticated, redirect to login
return/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/login",replace:true});}// Check if token is expired (optional, implement if needed)
try{const userData=JSON.parse(user);// You can add token expiration check here
// User is authenticated, allow access
return children;}catch(error){console.error('Invalid user data in localStorage');// Clear invalid data
localStorage.removeItem('token');localStorage.removeItem('user');return/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/login",replace:true});}};/**
 * RoleBasedRedirect - Smart redirect based on user role
 * Used after login to redirect to appropriate dashboard
 */const RoleBasedRedirect=()=>{const userStr=localStorage.getItem('user');const user=userStr?JSON.parse(userStr):null;if(!user){return/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/login",replace:true});}// Redirect based on role
switch(user.role){case'member':return/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/mobile/dashboard",replace:true});case'admin':case'super_admin':case'moderator':case'financial_manager':return/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/admin/dashboard",replace:true});default:console.error('Unknown user role:',user.role);return/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/login",replace:true});}};/**
 * PermissionRoute - Checks for specific permissions
 * More granular control than role-based routing
 */const PermissionRoute=_ref5=>{let{children,permission}=_ref5;const userStr=localStorage.getItem('user');const user=userStr?JSON.parse(userStr):null;if(!user||!localStorage.getItem('token')){return/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/login",replace:true});}// Define permissions for each role
const rolePermissions={super_admin:['*'],// All permissions
admin:['view_dashboard','manage_members','manage_payments','manage_notifications','view_reports'],financial_manager:['view_dashboard','manage_payments','manage_subscriptions','view_reports','send_payment_reminders'],moderator:['view_dashboard','view_members','approve_payments','send_notifications'],member:['view_own_profile','make_payment','view_notifications','view_own_payments']};const userPermissions=rolePermissions[user.role]||[];// Check if user has required permission
if(userPermissions.includes('*')||userPermissions.includes(permission)){return children;}// No permission, show error or redirect
console.error("User lacks permission: ".concat(permission));return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',minHeight:'100vh',backgroundColor:'#f3f4f6',padding:'20px',textAlign:'center'},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{backgroundColor:'white',borderRadius:'12px',padding:'40px',boxShadow:'0 4px 6px rgba(0, 0, 0, 0.1)',maxWidth:'400px'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{style:{color:'#ef4444',marginBottom:'16px'},children:"\u26A0\uFE0F \u063A\u064A\u0631 \u0645\u0635\u0631\u062D"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{color:'#6b7280',marginBottom:'24px'},children:"\u0644\u064A\u0633 \u0644\u062F\u064A\u0643 \u0635\u0644\u0627\u062D\u064A\u0629 \u0644\u0639\u0631\u0636 \u0647\u0630\u0647 \u0627\u0644\u0635\u0641\u062D\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>window.history.back(),style:{backgroundColor:'#667eea',color:'white',border:'none',padding:'10px 20px',borderRadius:'8px',cursor:'pointer',fontSize:'16px'},children:"\u0627\u0644\u0639\u0648\u062F\u0629"})]})});};/* harmony default export */ const RouteGuard = ({AdminRoute,MemberRoute,PublicRoute,RequireAuth,RoleBasedRedirect,PermissionRoute});
;// ./src/utils/toast.ts
const showToast=_ref=>{let{message,type='info',duration=4000}=_ref;const existingToast=document.getElementById('custom-toast');if(existingToast){existingToast.remove();}const colors={success:'#10b981',error:'#ef4444',warning:'#f59e0b',info:'#3b82f6'};const icons={success:'âœ“',error:'âœ•',warning:'âš ',info:'â„¹'};const toast=document.createElement('div');toast.id='custom-toast';toast.style.cssText="\n    position: fixed;\n    top: 20px;\n    left: 50%;\n    transform: translateX(-50%) translateY(-100px);\n    background: ".concat(colors[type],";\n    color: white;\n    padding: 16px 24px;\n    border-radius: 12px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n    backdrop-filter: blur(10px);\n    z-index: 10001;\n    max-width: 400px;\n    font-family: 'Cairo', sans-serif;\n    direction: rtl;\n    text-align: center;\n    font-size: 16px;\n    font-weight: 500;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 12px;\n    transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55), opacity 0.3s ease;\n    opacity: 0;\n  ");toast.innerHTML="\n    <span style=\"font-size: 20px; font-weight: 700;\">".concat(icons[type],"</span>\n    <span>").concat(message,"</span>\n  ");document.body.appendChild(toast);requestAnimationFrame(()=>{toast.style.transform='translateX(-50%) translateY(0)';toast.style.opacity='1';});setTimeout(()=>{toast.style.transform='translateX(-50%) translateY(-100px)';toast.style.opacity='0';setTimeout(()=>toast.remove(),300);},duration);};
;// ./src/utils/biometricAuth.jsx
// Biometric Auth - Simplified version (Complex version has build issues)
const isBiometricAvailable=async()=>{return false;// Disabled for now
};const getBiometricType=()=>{return'Ø§Ù„Ø¨ØµÙ…Ø©';};const registerBiometric=async(userId,userName)=>{return{success:false,error:'Ù‚Ø±ÙŠØ¨Ø§Ù‹'};};const authenticateBiometric=async()=>{return{success:false,error:'Ù‚Ø±ÙŠØ¨Ø§Ù‹'};};const disableBiometric=()=>{localStorage.removeItem('biometric_credential_id');localStorage.removeItem('biometric_enabled');localStorage.removeItem('biometric_user_id');};const isBiometricEnabled=()=>{return false;};const getBiometricUserId=()=>{return null;};
;// ./src/styles/mobile/Login.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Login = ({});
;// ./src/pages/mobile/Login.tsx
// @ts-nocheck
const MobileLogin=()=>{console.log('ðŸ”´ MobileLogin component is rendering!');const[phone,setPhone]=(0,react.useState)('');const[password,setPassword]=(0,react.useState)('');const[showPassword,setShowPassword]=(0,react.useState)(false);const[loading,setLoading]=(0,react.useState)(false);const[error,setError]=(0,react.useState)('');const[biometricAvailable,setBiometricAvailable]=(0,react.useState)(false);const[biometricType,setBiometricType]=(0,react.useState)('');const navigate=(0,dist.useNavigate)();(0,react.useEffect)(()=>{// Check if biometric is available and enabled
const checkBiometric=async()=>{const available=await isBiometricAvailable();const enabled=localStorage.getItem('biometric_enabled')==='true';setBiometricAvailable(available&&enabled);if(available){setBiometricType(getBiometricType());}};checkBiometric();},[]);const handleLogin=async e=>{e.preventDefault();setLoading(true);setError('');try{const API_URL="http://localhost:3001"||0;const response=await fetch("".concat(API_URL,"/api/auth/mobile-login"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({phone,password})}).catch(error=>{throw new Error('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¹Ø¯ Ù‚Ù„ÙŠÙ„.');});const data=await response.json();if(!response.ok){throw new Error(data.message_ar||data.error||'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');}// Check if login was successful
if(!data.success){throw new Error(data.message||'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');}// Store token and user data correctly
const token=data.token;const user=data.user;if(!token||!user){throw new Error('Ø¨ÙŠØ§Ù†Ø§Øª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©');}// Store in localStorage
localStorage.setItem('token',token);localStorage.setItem('user',JSON.stringify(user));// Also store memberData for backward compatibility
localStorage.setItem('memberData',JSON.stringify(user));console.log('Login successful, user role:',user.role);// Small delay to ensure localStorage is set
setTimeout(()=>{// Check if password change required
if(data.requires_password_change||data.is_first_login){navigate('/mobile/change-password',{state:{isFirstLogin:data.is_first_login}});}else{navigate('/mobile/dashboard');}},100);}catch(err){setError(err.message);}finally{setLoading(false);}};const handleBiometricLogin=async()=>{setLoading(true);setError('');try{const result=await authenticateBiometric();if(!result.success){throw new Error(result.error||'ÙØ´Ù„ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø¨ÙŠÙˆÙ…ØªØ±ÙŠ');}// Get stored token
const token=localStorage.getItem('token');const user=localStorage.getItem('user');if(token&&user){navigate('/mobile/dashboard');}else{throw new Error('Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø£ÙˆÙ„Ø§Ù‹');}}catch(err){setError(err.message);// If biometric fails, keep form visible for password login
}finally{setLoading(false);}};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mobile-login-container",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"mobile-login-bg"}),/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mobile-login-card",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mobile-login-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"logo-circle",children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"logo-text",children:"\u0627\u0644\u0634\u0639\u064A\u0644"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"login-title",children:"\u0646\u0638\u0627\u0645 \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0639\u0627\u0626\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"login-subtitle",children:"Al-Shuail Family Management"})]}),error&&/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{initial:{opacity:0,scale:0.9},animate:{opacity:1,scale:1},className:"error-box",children:["\u26A0\uFE0F ",error]}),biometricAvailable&&/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.button,{initial:{opacity:0},animate:{opacity:1},onClick:handleBiometricLogin,className:"biometric-button",disabled:loading,whileTap:{scale:0.95},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"biometric-icon",children:biometricType==='Face ID'?'ðŸ”':'ðŸ‘†'}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0628",biometricType]})]}),biometricAvailable&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"divider",children:"\u0623\u0648"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("form",{onSubmit:handleLogin,className:"login-form",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhoneIcon,{className:"input-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"tel",value:phone,onChange:e=>setPhone(e.target.value),placeholder:"05xxxxxxxx",required:true,dir:"ltr",className:"form-input",inputMode:"numeric"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.LockClosedIcon,{className:"input-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:showPassword?'text':'password',value:password,onChange:e=>setPassword(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:true,className:"form-input",dir:"ltr"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",className:"toggle-password",onClick:()=>setShowPassword(!showPassword),children:showPassword?/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeSlashIcon,{className:"eye-icon"}):/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeIcon,{className:"eye-icon"})})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)(es.motion.button,{type:"submit",className:"login-button",disabled:loading,whileTap:{scale:0.98},children:loading?/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"spinner"}),"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0642\u0642..."]}):/*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"help-section",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"help-text",children:["\uD83D\uDD12 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A\u0629: ",/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:"123456"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"help-subtext",children:"\u0633\u062A\u064F\u0637\u0644\u0628 \u0645\u0646\u0643 \u062A\u063A\u064A\u064A\u0631\u0647\u0627 \u0639\u0646\u062F \u0623\u0648\u0644 \u062F\u062E\u0648\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"login-footer",children:/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\xA9 2025 \u0639\u0627\u0626\u0644\u0629 \u0627\u0644\u0634\u0639\u064A\u0644 - \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0642 \u0645\u062D\u0641\u0648\u0638\u0629"})})]})]});};/* harmony default export */ const mobile_Login = (MobileLogin);
;// ./src/pages/mobile/ChangePassword.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const ChangePassword = ({});
;// ./src/pages/mobile/ChangePassword.jsx
const ChangePassword_ChangePassword=()=>{var _location$state;const[currentPassword,setCurrentPassword]=(0,react.useState)('');const[newPassword,setNewPassword]=(0,react.useState)('');const[confirmPassword,setConfirmPassword]=(0,react.useState)('');const[showCurrentPassword,setShowCurrentPassword]=(0,react.useState)(false);const[showNewPassword,setShowNewPassword]=(0,react.useState)(false);const[showConfirmPassword,setShowConfirmPassword]=(0,react.useState)(false);const[loading,setLoading]=(0,react.useState)(false);const[error,setError]=(0,react.useState)('');const[passwordStrength,setPasswordStrength]=(0,react.useState)(0);const navigate=(0,dist.useNavigate)();const location=(0,dist.useLocation)();const isFirstLogin=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.isFirstLogin)||false;// Password strength checker
const checkPasswordStrength=password=>{let strength=0;if(password.length>=8)strength+=25;if(/[a-z]/.test(password))strength+=25;if(/[A-Z]/.test(password))strength+=25;if(/[0-9]/.test(password))strength+=12.5;if(/[@$!%*?&#]/.test(password))strength+=12.5;return strength;};const handleNewPasswordChange=value=>{setNewPassword(value);setPasswordStrength(checkPasswordStrength(value));};const validatePassword=password=>{const errors=[];if(password.length<8)errors.push('8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');// Make other requirements optional - just length is required
// if (!/[A-Z]/.test(password)) errors.push('Ø­Ø±Ù ÙƒØ¨ÙŠØ±');
// if (!/[a-z]/.test(password)) errors.push('Ø­Ø±Ù ØµØºÙŠØ±');
// if (!/[0-9]/.test(password)) errors.push('Ø±Ù‚Ù…');
// if (!/[@$!%*?&#]/.test(password)) errors.push('Ø±Ù…Ø² Ø®Ø§Øµ');
return errors;};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');// Validate passwords match
if(newPassword!==confirmPassword){setError('ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©');setLoading(false);return;}// Validate password strength
const validationErrors=validatePassword(newPassword);if(validationErrors.length>0){setError("\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0636\u0639\u064A\u0641\u0629. \u064A\u062C\u0628 \u0623\u0646 \u062A\u062D\u062A\u0648\u064A \u0639\u0644\u0649: ".concat(validationErrors.join('ØŒ ')));setLoading(false);return;}try{const token=localStorage.getItem('token');const API_URL="http://localhost:3001"||0;const response=await fetch("".concat(API_URL,"/api/auth/change-password"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':"Bearer ".concat(token)},body:JSON.stringify({current_password:isFirstLogin?'123456':currentPassword,new_password:newPassword})});const data=await response.json();if(!response.ok){throw new Error(data.message_ar||data.message||'ÙØ´Ù„ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');}// Check if the response indicates success
if(data.success){// Show success message
alert('âœ… ØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­!');// Navigate to dashboard
setTimeout(()=>{navigate('/mobile/dashboard');},500);}else{throw new Error(data.message||'ÙØ´Ù„ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');}}catch(err){setError(err.message);}finally{setLoading(false);}};const getStrengthColor=()=>{if(passwordStrength<50)return'#FF3B30';if(passwordStrength<75)return'#FF9500';return'#34C759';};const getStrengthText=()=>{if(passwordStrength<50)return'Ø¶Ø¹ÙŠÙØ©';if(passwordStrength<75)return'Ù…ØªÙˆØ³Ø·Ø©';return'Ù‚ÙˆÙŠØ©';};return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"change-password-container",children:/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"change-password-card",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"header-section",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"icon-wrapper",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.LockClosedIcon,{className:"lock-icon"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"title",children:isFirstLogin?'Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ! ðŸ‘‹':'ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±'}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"subtitle",children:isFirstLogin?'Ù‡Ø°Ø§ Ù‡Ùˆ Ø¯Ø®ÙˆÙ„Ùƒ Ø§Ù„Ø£ÙˆÙ„. Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ© ÙˆØ¢Ù…Ù†Ø©.':'Ù‚Ù… Ø¨ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ'})]}),isFirstLogin&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-box",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"info-icon"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"info-title",children:"\u0646\u0635\u0627\u0626\u062D \u0644\u0643\u0644\u0645\u0629 \u0645\u0631\u0648\u0631 \u0642\u0648\u064A\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("ul",{className:"info-list",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0627\u0633\u062A\u062E\u062F\u0645 8 \u0623\u062D\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0627\u0645\u0632\u062C \u0628\u064A\u0646 \u0627\u0644\u0623\u062D\u0631\u0641 \u0627\u0644\u0643\u0628\u064A\u0631\u0629 \u0648\u0627\u0644\u0635\u063A\u064A\u0631\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0623\u0636\u0641 \u0623\u0631\u0642\u0627\u0645\u0627\u064B \u0648\u0631\u0645\u0648\u0632\u0627\u064B \u062E\u0627\u0635\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0644\u0627 \u062A\u0633\u062A\u062E\u062F\u0645 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0634\u062E\u0635\u064A\u0629"})]})]})]}),error&&/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{initial:{opacity:0,scale:0.9},animate:{opacity:1,scale:1},className:"error-message",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XCircleIcon,{className:"error-icon"}),error]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("form",{onSubmit:handleSubmit,className:"password-form",children:[!isFirstLogin&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062D\u0627\u0644\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:showCurrentPassword?'text':'password',value:currentPassword,onChange:e=>setCurrentPassword(e.target.value),required:true,className:"form-input",placeholder:"\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062D\u0627\u0644\u064A\u0629",dir:"ltr"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",className:"toggle-password",onClick:()=>setShowCurrentPassword(!showCurrentPassword),children:showCurrentPassword?/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeSlashIcon,{className:"eye-icon"}):/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeIcon,{className:"eye-icon"})})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:showNewPassword?'text':'password',value:newPassword,onChange:e=>handleNewPasswordChange(e.target.value),required:true,className:"form-input",placeholder:"8 \u0623\u062D\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644",dir:"ltr"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",className:"toggle-password",onClick:()=>setShowNewPassword(!showNewPassword),children:showNewPassword?/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeSlashIcon,{className:"eye-icon"}):/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeIcon,{className:"eye-icon"})})]}),newPassword&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"password-strength",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"strength-bar",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"strength-fill",style:{width:"".concat(passwordStrength,"%"),backgroundColor:getStrengthColor()}})}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"strength-text",style:{color:getStrengthColor()},children:getStrengthText()})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("small",{className:"hint",children:"\u064A\u062C\u0628 \u0623\u0646 \u062A\u062D\u062A\u0648\u064A \u0639\u0644\u0649: \u062D\u0631\u0648\u0641 \u0643\u0628\u064A\u0631\u0629\u060C \u0635\u063A\u064A\u0631\u0629\u060C \u0623\u0631\u0642\u0627\u0645\u060C \u0648\u0631\u0645\u0648\u0632 \u062E\u0627\u0635\u0629 (@$!%*?&#)"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u062A\u0623\u0643\u064A\u062F \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:showConfirmPassword?'text':'password',value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),required:true,className:"form-input",placeholder:"\u0623\u0639\u062F \u0625\u062F\u062E\u0627\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",dir:"ltr"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",className:"toggle-password",onClick:()=>setShowConfirmPassword(!showConfirmPassword),children:showConfirmPassword?/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeSlashIcon,{className:"eye-icon"}):/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeIcon,{className:"eye-icon"})})]}),confirmPassword&&newPassword!==confirmPassword&&/*#__PURE__*/(0,jsx_runtime.jsx)("small",{className:"error-hint",children:"\u0643\u0644\u0645\u0627\u062A \u0627\u0644\u0645\u0631\u0648\u0631 \u063A\u064A\u0631 \u0645\u062A\u0637\u0627\u0628\u0642\u0629"}),confirmPassword&&newPassword===confirmPassword&&/*#__PURE__*/(0,jsx_runtime.jsx)("small",{className:"success-hint",children:"\u2713 \u0643\u0644\u0645\u0627\u062A \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u062A\u0637\u0627\u0628\u0642\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"submit",className:"submit-button",disabled:loading||newPassword.length<8||newPassword!==confirmPassword,children:loading?/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"spinner"}),"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u063A\u064A\u064A\u0631..."]}):/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.LockClosedIcon,{className:"btn-icon"}),isFirstLogin?'ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±':'ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±']})})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"security-note",children:/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\uD83D\uDD12 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u064A\u062A\u0645 \u062A\u0634\u0641\u064A\u0631\u0647\u0627 \u0648\u062D\u0641\u0638\u0647\u0627 \u0628\u0634\u0643\u0644 \u0622\u0645\u0646"})})]})});};/* harmony default export */ const mobile_ChangePassword = (ChangePassword_ChangePassword);
;// ./src/styles/mobile/Dashboard.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Dashboard = ({});
;// ./src/services/mobileApi.js
/**
 * ============================================
 * AL-SHUAIL MOBILE PWA
 * Mobile API Service
 * ============================================
 * Purpose: API calls for mobile member features
 * ============================================
 */// API Base URL (production)
const mobileApi_API_BASE_URL='https://proshael.onrender.com/api';// Get auth token from localStorage
const getAuthToken=()=>{return localStorage.getItem('token');};// Create axios instance with default config
const apiClient=axios["default"].create({baseURL:mobileApi_API_BASE_URL,headers:{'Content-Type':'application/json'}});// Add auth token to all requests
apiClient.interceptors.request.use(config=>{const token=getAuthToken();if(token){config.headers.Authorization="Bearer ".concat(token);}return config;});// Handle response errors
apiClient.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){var _error$response2,_error$response2$data,_error$response3,_error$response3$data;// Check if we're already on login page to avoid redirect loop
if(window.location.pathname.includes('/mobile/login')){return Promise.reject(error);}// Check if token exists - if not, user needs to login
const token=localStorage.getItem('token');if(!token){window.location.href='/mobile/login';return Promise.reject(error);}// For member endpoints, don't auto-logout immediately
// This could be a backend configuration issue, not expired token
const memberEndpoints=['/member/profile','/member/balance','/member/payments','/member/notifications'];const isMemberEndpoint=memberEndpoints.some(endpoint=>{var _error$config,_error$config$url;return(_error$config=error.config)===null||_error$config===void 0?void 0:(_error$config$url=_error$config.url)===null||_error$config$url===void 0?void 0:_error$config$url.includes(endpoint);});if(isMemberEndpoint){console.error('Member endpoint failed with 401, but keeping user logged in for now');// Don't logout, let the component handle the error
return Promise.reject(error);}// Check if the error message indicates token issues
const errorMessage=((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||'';const isTokenError=errorMessage.includes('token')||errorMessage.includes('expired')||errorMessage.includes('invalid');// Only logout if it's clearly a token issue
if(isTokenError){console.error('Token error detected, redirecting to login:',errorMessage);localStorage.removeItem('token');localStorage.removeItem('user');localStorage.removeItem('memberData');window.location.href='/mobile/login';}else{console.error('401 error but not clearly token-related, keeping user logged in');}}return Promise.reject(error);});/**
 * Member Profile & Balance APIs
 */// Get member profile
const getMemberProfile=async()=>{try{const response=await apiClient.get('/member/profile');return response.data;}catch(error){console.error('Error fetching member profile:',error);throw error;}};// Get member balance
const getMemberBalance=async()=>{try{const response=await apiClient.get('/member/balance');return response.data;}catch(error){console.error('Error fetching member balance:',error);throw error;}};/**
 * Payment APIs
 */// Get member payments
const getMemberPayments=async function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const queryString=new URLSearchParams(params).toString();const url="/member/payments".concat(queryString?"?".concat(queryString):'');const response=await apiClient.get(url);return response.data;}catch(error){console.error('Error fetching member payments:',error);throw error;}};// Submit new payment
const submitPayment=async paymentData=>{try{const response=await apiClient.post('/member/payments',paymentData);return response.data;}catch(error){console.error('Error submitting payment:',error);throw error;}};// Upload receipt
const uploadReceipt=async(file,paymentId)=>{try{const formData=new FormData();formData.append('receipt',file);if(paymentId){formData.append('payment_id',paymentId);}const response=await apiClient.post('/receipts/upload',formData,{headers:{'Content-Type':'multipart/form-data'}});return response.data;}catch(error){console.error('Error uploading receipt:',error);throw error;}};/**
 * Notification APIs
 */// Get member notifications
const getMemberNotifications=async function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const queryString=new URLSearchParams(params).toString();const url="/member/notifications".concat(queryString?"?".concat(queryString):'');const response=await apiClient.get(url);return response.data;}catch(error){console.error('Error fetching notifications:',error);throw error;}};// Mark notification as read
const markNotificationRead=async notificationId=>{try{const response=await apiClient.post("/member/notifications/".concat(notificationId,"/read"));return response.data;}catch(error){console.error('Error marking notification as read:',error);throw error;}};/**
 * Member Search API (for pay-on-behalf)
 */// Search members
const searchMembers=async searchQuery=>{try{const response=await apiClient.get('/member/search',{params:{q:searchQuery}});return response.data;}catch(error){console.error('Error searching members:',error);throw error;}};/**
 * ID Card API
 */// Get member ID card
const getMemberIdCard=async()=>{try{const response=await apiClient.get('/member/id-card',{responseType:'blob'});return response.data;}catch(error){console.error('Error fetching ID card:',error);throw error;}};/**
 * Dashboard Data API
 */// Get all dashboard data in one call
const getDashboardData=async()=>{// Fetch each piece of data independently so one failure doesn't break all
let profile=null;let balance=null;let payments=[];let notifications=[];// Try to get profile (might fail due to auth issue)
try{profile=await getMemberProfile();}catch(error){console.error('Failed to fetch profile, using localStorage:',error);// Fallback to localStorage data
const userData=localStorage.getItem('user');if(userData){profile={data:JSON.parse(userData)};}}// Try to get balance
try{balance=await getMemberBalance();}catch(error){console.error('Failed to fetch balance:',error);// Use default balance
balance={data:{current_balance:0,total_paid:0}};}// Try to get recent payments
try{payments=await getMemberPayments({limit:5});}catch(error){console.error('Failed to fetch payments:',error);}// Try to get notifications
try{notifications=await getMemberNotifications({unread:true,limit:5});}catch(error){console.error('Failed to fetch notifications:',error);}return{profile,balance,recentPayments:payments,notifications};};/* harmony default export */ const mobileApi = ({getMemberProfile,getMemberBalance,getMemberPayments,submitPayment,uploadReceipt,getMemberNotifications,markNotificationRead,searchMembers,getMemberIdCard,getDashboardData});
;// ./src/pages/mobile/Dashboard.tsx
// @ts-nocheck
// API Configuration
const Dashboard_API_BASE_URL="http://localhost:3001"||0;const MobileDashboard=()=>{const navigate=(0,dist.useNavigate)();const[user,setUser]=(0,react.useState)(null);const[balance,setBalance]=(0,react.useState)(null);const[loading,setLoading]=(0,react.useState)(false);// Start false to show sample data immediately
const[profileCompletion,setProfileCompletion]=(0,react.useState)(65);const[showNotifications,setShowNotifications]=(0,react.useState)(false);const[notifications,setNotifications]=(0,react.useState)({news:[],initiatives:[],diyas:[],occasions:[],statements:[]});const[notificationLoading,setNotificationLoading]=(0,react.useState)(false);const[notificationError,setNotificationError]=(0,react.useState)(null);const[unreadCount,setUnreadCount]=(0,react.useState)(0);(0,react.useEffect)(()=>{// Always load sample data first for immediate display
setSampleData();// Then fetch real data to override
fetchDashboardData();// Fetch notifications when component mounts
fetchNotifications();// Optional: Refresh notifications every 2 minutes
const intervalId=setInterval(()=>{fetchNotifications();},120000);// 2 minutes
return()=>clearInterval(intervalId);// eslint-disable-next-line react-hooks/exhaustive-deps
},[]);// Close notification dropdown when clicking outside
(0,react.useEffect)(()=>{const handleClickOutside=event=>{const target=event.target;if(showNotifications&&!target.closest('.notification-dropdown')&&!target.closest('.header-button')){setShowNotifications(false);}};document.addEventListener('click',handleClickOutside);return()=>document.removeEventListener('click',handleClickOutside);},[showNotifications]);const fetchDashboardData=async()=>{try{// Don't show loading spinner, sample data is already showing
// setLoading(true); // Removed to keep sample data visible
// Get user data from localStorage first
const userData=localStorage.getItem('user');if(userData){setUser(JSON.parse(userData));}// Fetch dashboard data from API
const dashboardData=await getDashboardData();if(dashboardData.profile){const profileData=dashboardData.profile.data||dashboardData.profile;setUser(profileData);calculateProfileCompletion(profileData);}if(dashboardData.balance){setBalance(dashboardData.balance.data||dashboardData.balance);}if(dashboardData.notifications&&Array.isArray(dashboardData.notifications.data||dashboardData.notifications)){const notifData=dashboardData.notifications.data||dashboardData.notifications;if(notifData.length>0){organizeNotifications(notifData);}// If empty array, keep existing sample data
}}catch(error){console.error('Error fetching dashboard data:',error);// Keep sample data visible on error
}finally{setLoading(false);}};const calculateProfileCompletion=profile=>{const fields=[profile===null||profile===void 0?void 0:profile.full_name,profile===null||profile===void 0?void 0:profile.phone,profile===null||profile===void 0?void 0:profile.email,profile===null||profile===void 0?void 0:profile.photo,profile===null||profile===void 0?void 0:profile.birthdate,profile===null||profile===void 0?void 0:profile.address];const completed=fields.filter(field=>field&&field!=='').length;const percentage=Math.round(completed/fields.length*100);setProfileCompletion(percentage);};const organizeNotifications=notifs=>{const organized={news:[],initiatives:[],diyas:[],occasions:[],statements:[]};notifs.forEach(notif=>{const type=notif.type||'news';if(type==='news')organized.news.push(notif);else if(type==='initiatives')organized.initiatives.push(notif);else if(type==='diya')organized.diyas.push(notif);else if(type==='occasions')organized.occasions.push(notif);else if(type==='statement')organized.statements.push(notif);});setNotifications(organized);};// Fetch notifications from API
const fetchNotifications=async()=>{try{setNotificationLoading(true);setNotificationError(null);const token=localStorage.getItem('token');if(!token){console.log('[Notifications] No token found, using sample data');loadSampleNotifications();return;}const response=await axios["default"].get("".concat(Dashboard_API_BASE_URL,"/api/member/notifications"),{headers:{'Authorization':"Bearer ".concat(token)}});if(response.data.success){const{notifications:notifData,unreadCount:count}=response.data.data;console.log('[Notifications] Fetched:',notifData);console.log('[Notifications] Unread count:',count);// Update state with real data
setNotifications(notifData);setUnreadCount(count);}else{throw new Error('Failed to fetch notifications');}}catch(error){console.error('[Notifications] Fetch error:',error);setNotificationError(error.message);// Fallback to sample data on error
loadSampleNotifications();}finally{setNotificationLoading(false);}};// Load sample notifications (fallback)
const loadSampleNotifications=()=>{setSampleData();};// Mark notification as read
const markNotificationAsRead=async notificationId=>{try{const token=localStorage.getItem('token');if(!token)return;await axios["default"].put("".concat(Dashboard_API_BASE_URL,"/api/member/notifications/").concat(notificationId,"/read"),{},{headers:{'Authorization':"Bearer ".concat(token)}});// Update local state
setUnreadCount(prev=>Math.max(0,prev-1));// Optionally refresh notifications
fetchNotifications();}catch(error){console.error('[Notifications] Mark read error:',error);}};// Mark all notifications as read
const markAllNotificationsAsRead=async()=>{try{const token=localStorage.getItem('token');if(!token)return;await axios["default"].put("".concat(Dashboard_API_BASE_URL,"/api/member/notifications/read-all"),{},{headers:{'Authorization':"Bearer ".concat(token)}});// Update local state
setUnreadCount(0);// Refresh notifications
fetchNotifications();}catch(error){console.error('[Notifications] Mark all read error:',error);}};// Get all notifications for dropdown - use useMemo for reactivity
const allNotifications=react.useMemo(()=>{const allNotifs=[];// Add all notifications from all categories
notifications.news.forEach(n=>allNotifs.push(n));notifications.initiatives.forEach(n=>allNotifs.push(n));notifications.diyas.forEach(n=>allNotifs.push(n));notifications.occasions.forEach(n=>allNotifs.push(n));notifications.statements.forEach(n=>allNotifs.push(n));console.log('ðŸ“‹ All notifications for dropdown:',allNotifs.length);// Return latest 5 notifications
return allNotifs.slice(0,5);},[notifications]);const setSampleData=()=>{// Sample notifications data
setNotifications({news:[{id:1,title:'Ø¥Ø¹Ù„Ø§Ù† Ù‡Ø§Ù… - Ø§Ø¬ØªÙ…Ø§Ø¹ Ø§Ù„Ø¬Ù…Ø¹ÙŠØ© Ø§Ù„Ø¹Ù…ÙˆÙ…ÙŠØ©',body:'ÙŠØ³Ø±Ù†Ø§ Ø¯Ø¹ÙˆØªÙƒÙ… Ù„Ø­Ø¶ÙˆØ± Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ Ø§Ù„Ø³Ù†ÙˆÙŠ Ù„Ù„Ø¬Ù…Ø¹ÙŠØ© Ø§Ù„Ø¹Ù…ÙˆÙ…ÙŠØ© ÙŠÙˆÙ… Ø§Ù„Ø¬Ù…Ø¹Ø© Ø§Ù„Ù‚Ø§Ø¯Ù… ÙÙŠ Ù…Ù‚Ø± Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„Ø³Ø§Ø¹Ø© 5 Ù…Ø³Ø§Ø¡Ù‹.',time:'Ù…Ù†Ø° Ø³Ø§Ø¹Ø©',category:'Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø±Ø³Ù…ÙŠØ©',priority:'high',icon:'ðŸ“¢'},{id:2,title:'ØªÙ‡Ù†Ø¦Ø© - Ù…ÙˆÙ„ÙˆØ¯ Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©',body:'Ù†Ø¨Ø§Ø±Ùƒ Ù„Ø£Ø®ÙŠÙ†Ø§ Ø®Ø§Ù„Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„ Ù‚Ø¯ÙˆÙ… Ø§Ù„Ù…ÙˆÙ„ÙˆØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯ØŒ Ù†Ø³Ø£Ù„ Ø§Ù„Ù„Ù‡ Ø£Ù† ÙŠØ¬Ø¹Ù„Ù‡ Ù…Ù† Ø§Ù„ØµØ§Ù„Ø­ÙŠÙ†.',time:'Ù…Ù†Ø° 3 Ø³Ø§Ø¹Ø§Øª',category:'Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©',priority:'normal',icon:'ðŸŽŠ'}],initiatives:[{id:3,title:'Ù…Ø¨Ø§Ø¯Ø±Ø© Ø¯Ø¹Ù… Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…ØªÙÙˆÙ‚ÙŠÙ†',body:'Ù…Ø¨Ø§Ø¯Ø±Ø© Ù„Ø¯Ø¹Ù… Ø£Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„Ù…ØªÙÙˆÙ‚ÙŠÙ† Ø¯Ø±Ø§Ø³ÙŠØ§Ù‹. Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù: 50,000 Ø±ÛŒØ§Ù„. ØªÙ… Ø¬Ù…Ø¹ 35,000 Ø±ÛŒØ§Ù„ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.',time:'Ù…Ù†Ø° ÙŠÙˆÙ…ÙŠÙ†',category:'Ø§Ù„ØªØ¹Ù„ÙŠÙ…',progress:70,priority:'medium',icon:'ðŸ’¡'},{id:4,title:'Ù…Ø¨Ø§Ø¯Ø±Ø© Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ØµØ­ÙŠ',body:'Ù…Ø¨Ø§Ø¯Ø±Ø© Ù„Ø¯Ø¹Ù… Ø£ÙØ±Ø§Ø¯ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„Ù…Ø­ØªØ§Ø¬ÙŠÙ† Ù„Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„ØµØ­ÙŠØ©. ÙŠÙ…ÙƒÙ†ÙƒÙ… Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø© Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.',time:'Ù…Ù†Ø° 3 Ø£ÙŠØ§Ù…',category:'ØµØ­Ø©',progress:45,priority:'normal',icon:'ðŸ¥'}],diyas:[{id:5,title:'Ø¯ÙŠØ© Ø§Ù„Ø£Ø® Ù†Ø§Ø¯Ø± Ø§Ù„Ø´Ø¹ÙŠÙ„',body:'ØªÙ… ÙØªØ­ Ø¨Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø© ÙÙŠ Ø¯ÙŠØ© Ø§Ù„Ø£Ø® Ù†Ø§Ø¯Ø±. Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: 400,000 Ø±ÛŒØ§Ù„. ØªÙ… Ø¬Ù…Ø¹ 350,000 Ø±ÛŒØ§Ù„.',time:'Ù…Ù†Ø° 5 Ø£ÙŠØ§Ù…',category:'Ø­Ø§Ù„Ø© Ø¹Ø§Ø¬Ù„Ø©',progress:87.5,priority:'high',icon:'âš–ï¸'}],occasions:[{id:6,title:'Ø­ÙÙ„ Ø²ÙØ§Ù Ù…Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',body:'ÙŠØ³Ø±Ù†Ø§ Ø¯Ø¹ÙˆØªÙƒÙ… Ù„Ø­Ø¶ÙˆØ± Ø­ÙÙ„ Ø²ÙØ§Ù Ø§Ø¨Ù†Ù†Ø§ Ù…Ø­Ù…Ø¯ ÙŠÙˆÙ… Ø§Ù„Ø®Ù…ÙŠØ³ Ø§Ù„Ù‚Ø§Ø¯Ù…. Ø§Ù„Ù…ÙˆÙ‚Ø¹: Ù‚Ø§Ø¹Ø© Ø§Ù„Ù†Ø®ÙŠÙ„ - 7 Ù…Ø³Ø§Ø¡Ù‹.',time:'Ø¨Ø¹Ø¯ 5 Ø£ÙŠØ§Ù…',category:'Ø²ÙØ§Ù',priority:'normal',icon:'ðŸŽ‚'},{id:7,title:'ØµÙ„Ø§Ø© Ø§Ù„Ø¹ÙŠØ¯ - Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø±',body:'ØµÙ„Ø§Ø© Ø§Ù„Ø¹ÙŠØ¯ Ø³ØªÙ‚Ø§Ù… ÙÙŠ Ù…Ø³Ø¬Ø¯ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„Ø³Ø§Ø¹Ø© 6 ØµØ¨Ø§Ø­Ø§Ù‹. ÙŠÙ„ÙŠÙ‡Ø§ Ø¥ÙØ·Ø§Ø± Ø¬Ù…Ø§Ø¹ÙŠ Ù„Ù„Ø¹Ø§Ø¦Ù„Ø©.',time:'Ø¨Ø¹Ø¯ Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ†',category:'Ù…Ù†Ø§Ø³Ø¨Ø© Ø¯ÙŠÙ†ÙŠØ©',priority:'normal',icon:'ðŸ•Œ'}],statements:[{id:8,title:'ÙƒØ´Ù Ø­Ø³Ø§Ø¨ Ø´Ù‡Ø± Ø³Ø¨ØªÙ…Ø¨Ø± 2025',body:'ØªÙ… Ø¥ØµØ¯Ø§Ø± ÙƒØ´Ù Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø´Ù‡Ø±ÙŠ. Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª: 2,500 Ø±ÛŒØ§Ù„. Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: 500 Ø±ÛŒØ§Ù„.',time:'Ù…Ù†Ø° Ø£Ø³Ø¨ÙˆØ¹',category:'Ù…Ø§Ù„ÙŠØ©',action:'ðŸ“¥ ØªØ­Ù…ÙŠÙ„ PDF',priority:'normal',icon:'ðŸ“„'},{id:9,title:'ØªØ£ÙƒÙŠØ¯ Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø¯ÙØ¹Ø©',body:'ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø¯ÙØ¹ØªÙƒ Ø¨Ù…Ø¨Ù„Øº 1,500 Ø±ÛŒØ§Ù„ Ù„Ø§Ø´ØªØ±Ø§Ùƒ 2025. Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ù„ØªØ²Ø§Ù…Ùƒ.',time:'Ù…Ù†Ø° Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ†',category:'Ù…Ø¯ÙÙˆØ¹Ø§Øª',priority:'normal',icon:'ðŸ’°'}]});};if(loading){return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mobile-loading",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"loading-spinner"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644..."})]});}// Calculate balance data
const currentBalance=(balance===null||balance===void 0?void 0:balance.current)||(balance===null||balance===void 0?void 0:balance.current_balance)||(user===null||user===void 0?void 0:user.balance)||5000;const requiredBalance=(balance===null||balance===void 0?void 0:balance.target)||(balance===null||balance===void 0?void 0:balance.required_amount)||3000;const isCompliant=currentBalance>=requiredBalance;const paid2025=(balance===null||balance===void 0?void 0:balance.paid_2025)||2500;const paidPrevious=(balance===null||balance===void 0?void 0:balance.paid_previous)||2500;const extraBalance=currentBalance-requiredBalance;// Profile completion fields
const profileFields=[{name:'Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©',completed:!!(user!==null&&user!==void 0&&user.full_name)},{name:'Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„',completed:!!(user!==null&&user!==void 0&&user.phone)},{name:'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',completed:!!(user!==null&&user!==void 0&&user.email)},{name:'Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©',completed:!!(user!==null&&user!==void 0&&user.photo)},{name:'ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯',completed:!!(user!==null&&user!==void 0&&user.birthdate)},{name:'Ø§Ù„Ø¹Ù†ÙˆØ§Ù†',completed:!!(user!==null&&user!==void 0&&user.address)}];return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mobile-container",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("header",{className:"mobile-header",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"user-section",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"avatar",children:user!==null&&user!==void 0&&user.full_name?user.full_name.charAt(0):'Ø£'}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"user-info",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"user-name",children:(user===null||user===void 0?void 0:user.full_name)||'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„'}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"membership-number",children:["#",(user===null||user===void 0?void 0:user.membership_number)||'SH-10001']})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"header-actions",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"header-button",onClick:()=>setShowNotifications(!showNotifications),children:["\uD83D\uDD14",unreadCount>0&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"notification-badge",children:unreadCount})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"header-button",onClick:()=>navigate('/mobile/profile'),children:"\u2699\uFE0F"})]}),showNotifications&&/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"notification-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-dropdown-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowNotifications(false),children:"\u2715"})]}),notificationLoading&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-loading",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"spinner"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A..."})]}),notificationError&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-error",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u26A0\uFE0F \u0641\u0634\u0644 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>fetchNotifications(),children:"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629"})]}),!notificationLoading&&!notificationError&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-dropdown-list",children:allNotifications.length>0?allNotifications.map(notif=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-dropdown-item ".concat(notif.priority==='high'?'priority-high':''),onClick:()=>{// Mark as read when clicked
if(!notif.isRead){markNotificationAsRead(notif.id);}// Navigate if action URL exists
if(notif.actionUrl){navigate(notif.actionUrl);}// Close dropdown
setShowNotifications(false);},style:{cursor:'pointer'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-dropdown-icon",children:notif.icon}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-dropdown-content",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-dropdown-title",children:[notif.title,!notif.isRead&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"unread-indicator",children:"\u25CF"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-dropdown-body",children:notif.body}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-dropdown-meta",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:notif.time}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2022"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:notif.category})]})]})]},notif.id)):/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-dropdown-empty",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\uD83D\uDCED"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0625\u0634\u0639\u0627\u0631\u0627\u062A \u062C\u062F\u064A\u062F\u0629"})]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-dropdown-footer",children:[unreadCount>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"mark-all-read-btn",onClick:e=>{e.stopPropagation();markAllNotificationsAsRead();},children:["\u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0643\u0644 \u0643\u0645\u0642\u0631\u0648\u0621 (",unreadCount,")"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>{setShowNotifications(false);navigate('/mobile/notifications');},children:"\u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A"})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mobile-content",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"profile-completion-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.1},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"completion-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"completion-title",children:"\uD83D\uDC64 \u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"completion-percentage",children:[profileCompletion,"%"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"progress-bar-container",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"progress-bar-fill",style:{width:"".concat(profileCompletion,"%")}})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"completion-items",children:profileFields.map((field,index)=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"completion-item ".concat(field.completed?'completed':'incomplete'),children:[field.completed?'âœ…':'âŒ'," ",field.name]},index))}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"complete-profile-btn",onClick:()=>navigate('/mobile/profile'),children:"\uD83D\uDCDD \u0623\u0643\u0645\u0644 \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062E\u0635\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"balance-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.2},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"card-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"card-icon",children:"\uD83D\uDCB0"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"card-title",children:"\u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u062D\u0627\u0644\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"balance-display",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"balance-amount",children:[currentBalance.toLocaleString('ar-SA')," \u0631\u064A\u0627\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"balance-label",children:["\u0645\u0646 \u0623\u0635\u0644 ",requiredBalance.toLocaleString('ar-SA')," \u0631\u06CC\u0627\u0644 \u0645\u0637\u0644\u0648\u0628"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"status-indicator ".concat(isCompliant?'good':'insufficient'),children:isCompliant?'ðŸŸ¢ Ù…Ù„ØªØ²Ù… Ø¨Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ':'ðŸ”´ Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ'})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"balance-breakdown",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"breakdown-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"breakdown-label",children:"\u0627\u0644\u0645\u062F\u0641\u0648\u0639 2025"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"breakdown-value",children:[paid2025.toLocaleString('ar-SA')," \u0631\u06CC\u0627\u0644"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"breakdown-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"breakdown-label",children:"\u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0627\u0644\u0633\u0627\u0628\u0642"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"breakdown-value",children:[paidPrevious.toLocaleString('ar-SA')," \u0631\u06CC\u0627\u0644"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"breakdown-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"breakdown-label",children:isCompliant?'Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ':'Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ'}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"breakdown-value ".concat(isCompliant?'positive':'negative'),children:[isCompliant?'+':'-',Math.abs(extraBalance).toLocaleString('ar-SA')," \u0631\u06CC\u0627\u0644"]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"action-buttons",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"primary-button",onClick:()=>navigate('/mobile/payment'),children:"\uD83D\uDCB3 \u062F\u0641\u0639 \u0627\u0634\u062A\u0631\u0627\u0643"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"secondary-button",onClick:()=>navigate('/mobile/payment-history'),children:"\uD83D\uDCCA \u0633\u062C\u0644 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A"})]})]}),notifications.news.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.3},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"section-title",children:"\uD83D\uDCF0 \u0627\u0644\u0623\u062E\u0628\u0627\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"view-all",onClick:()=>navigate('/mobile/notifications'),children:"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644 \u2190"})]}),notifications.news.map(notif=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-card ".concat(notif.priority==='high'?'priority-high':''),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-icon",children:notif.icon}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-title",children:notif.title}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-body",children:notif.body}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-meta",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:notif.time}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2022"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:notif.category})]})]})]},notif.id))]}),notifications.initiatives.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.4},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"section-title",children:"\uD83E\uDD1D \u0627\u0644\u0645\u0628\u0627\u062F\u0631\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"view-all",onClick:()=>navigate('/mobile/notifications'),children:"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644 \u2190"})]}),notifications.initiatives.map(notif=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-card ".concat(notif.priority==='medium'?'priority-medium':''),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-icon",children:notif.icon}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-title",children:notif.title}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-body",children:notif.body}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-meta",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:notif.time}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2022"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:notif.category}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2022"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:[notif.progress,"% \u0645\u0643\u062A\u0645\u0644"]})]})]})]},notif.id))]}),notifications.diyas.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.5},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"section-title",children:"\u2696\uFE0F \u0627\u0644\u062F\u064A\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"view-all",onClick:()=>navigate('/mobile/notifications'),children:"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644 \u2190"})]}),notifications.diyas.map(notif=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-card priority-high",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-icon",children:notif.icon}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-title",children:notif.title}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-body",children:notif.body}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-meta",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:notif.time}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2022"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:notif.category}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2022"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:[notif.progress,"% \u0645\u0643\u062A\u0645\u0644"]})]})]})]},notif.id))]}),notifications.occasions.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.6},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"section-title",children:"\uD83C\uDF89 \u0627\u0644\u0645\u0646\u0627\u0633\u0628\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"view-all",onClick:()=>navigate('/mobile/notifications'),children:"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644 \u2190"})]}),notifications.occasions.map(notif=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-icon",children:notif.icon}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-title",children:notif.title}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-body",children:notif.body}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-meta",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:notif.time}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2022"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:notif.category})]})]})]},notif.id))]}),notifications.statements.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.7},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"section-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"section-title",children:"\uD83D\uDCCA \u0643\u0634\u0641 \u0627\u0644\u062D\u0633\u0627\u0628"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"view-all",onClick:()=>navigate('/mobile/notifications'),children:"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644 \u2190"})]}),notifications.statements.map(notif=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-card",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-icon",children:notif.icon}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-title",children:notif.title}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-body",children:notif.body}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-meta",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:notif.time}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2022"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:notif.category}),notif.action&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2022"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:notif.action})]})]})]})]},notif.id))]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{height:'20px'}})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("nav",{className:"bottom-nav",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"nav-item active",onClick:()=>navigate('/mobile/dashboard'),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"nav-icon",children:"\uD83C\uDFE0"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"nav-label",children:"\u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"nav-item",onClick:()=>navigate('/mobile/profile'),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"nav-icon",children:"\uD83D\uDC64"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"nav-label",children:"\u062D\u0633\u0627\u0628\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"nav-item",onClick:()=>navigate('/mobile/notifications'),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"nav-icon",children:"\uD83D\uDD14"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"nav-label",children:"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"nav-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"nav-icon",children:"\u2630"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"nav-label",children:"\u0627\u0644\u0645\u0632\u064A\u062F"})]})]})]});};/* harmony default export */ const mobile_Dashboard = (MobileDashboard);
;// ./src/components/mobile/BottomNav.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const BottomNav = ({});
;// ./src/components/mobile/BottomNav.jsx
const BottomNav_BottomNav=_ref=>{let{unreadNotifications=0}=_ref;const navigate=(0,dist.useNavigate)();const location=(0,dist.useLocation)();const navItems=[{path:'/mobile/dashboard',label:'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',Icon:esm.HomeIcon,IconSolid:solid_esm.HomeIcon},{path:'/mobile/payment',label:'Ø§Ù„Ø¯ÙØ¹',Icon:esm.CreditCardIcon,IconSolid:solid_esm.CreditCardIcon},{path:'/mobile/notifications',label:'Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª',Icon:esm.BellIcon,IconSolid:solid_esm.BellIcon,badge:unreadNotifications},{path:'/mobile/profile',label:'Ø§Ù„Ù…Ù„Ù',Icon:esm.UserIcon,IconSolid:solid_esm.UserIcon}];const isActive=path=>location.pathname===path;return/*#__PURE__*/(0,jsx_runtime.jsx)("nav",{className:"bottom-nav",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"bottom-nav-container",children:navItems.map(item=>{const active=isActive(item.path);const IconComponent=active?item.IconSolid:item.Icon;return/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.button,{className:"nav-item ".concat(active?'active':''),onClick:()=>navigate(item.path),whileTap:{scale:0.9},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"nav-icon-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(IconComponent,{className:"nav-icon"}),item.badge>0&&/*#__PURE__*/(0,jsx_runtime.jsx)(es.motion.span,{initial:{scale:0},animate:{scale:1},className:"nav-badge",children:item.badge>99?'99+':item.badge})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"nav-label",children:item.label}),active&&/*#__PURE__*/(0,jsx_runtime.jsx)(es.motion.div,{layoutId:"activeIndicator",className:"active-indicator"})]},item.path);})})});};/* harmony default export */ const mobile_BottomNav = (BottomNav_BottomNav);
;// ./src/styles/mobile/Profile.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Profile = ({});
;// ./src/pages/mobile/Profile.tsx
// @ts-nocheck
const Profile_Profile=()=>{const navigate=(0,dist.useNavigate)();const[profile,setProfile]=(0,react.useState)(null);const[loading,setLoading]=(0,react.useState)(true);const[showLogoutConfirm,setShowLogoutConfirm]=(0,react.useState)(false);(0,react.useEffect)(()=>{fetchProfile();},[]);const fetchProfile=async()=>{try{setLoading(true);// Fetch member profile and balance
const[profileResponse,balanceResponse]=await Promise.all([getMemberProfile().catch(err=>{console.error('Profile fetch error:',err);return null;}),getMemberBalance().catch(err=>{console.error('Balance fetch error:',err);return null;})]);if(profileResponse){const profileData=profileResponse.data||profileResponse;const balanceData=(balanceResponse===null||balanceResponse===void 0?void 0:balanceResponse.data)||balanceResponse;setProfile({id:profileData.id||profileData.user_id,full_name:profileData.full_name||profileData.name,membership_number:profileData.membership_number||profileData.id,phone:profileData.phone,balance:(balanceData===null||balanceData===void 0?void 0:balanceData.current_balance)||profileData.balance||0,tribal_section:profileData.tribal_section,family_branch:profileData.family_branch,created_at:profileData.created_at,email:profileData.email,status:profileData.membership_status||profileData.status,is_compliant:((balanceData===null||balanceData===void 0?void 0:balanceData.current_balance)||profileData.balance||0)>=3000});}else{// Use sample data if API fails
const userData=localStorage.getItem('user');if(userData){const user=JSON.parse(userData);setProfile({id:user.id,full_name:user.name||'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',membership_number:user.membership_number||'M-001',phone:user.phone||'0555555555',balance:user.balance||5000,tribal_section:user.tribal_section||'Ø¢Ù„ Ù…Ø­Ù…Ø¯',family_branch:user.family_branch||'ÙØ±Ø¹ Ø§Ù„Ø±ÙŠØ§Ø¶',created_at:user.created_at||new Date().toISOString(),status:'active',is_compliant:(user.balance||5000)>=3000});}}}catch(error){console.error('Error fetching profile:',error);// Try to use cached data
const userData=localStorage.getItem('user');if(userData){const user=JSON.parse(userData);setProfile((0,objectSpread2["default"])((0,objectSpread2["default"])({},user),{},{is_compliant:(user.balance||0)>=3000}));}}finally{setLoading(false);}};const handleLogout=()=>{setShowLogoutConfirm(true);};const confirmLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('memberData');navigate('/mobile/login');};const formatDate=dateString=>{var _dateInfo$hijri;if(!dateString)return'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';const dateInfo=formatBothCalendars(dateString);return(dateInfo===null||dateInfo===void 0?void 0:(_dateInfo$hijri=dateInfo.hijri)===null||_dateInfo$hijri===void 0?void 0:_dateInfo$hijri.formatted)||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';};if(loading){return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mobile-loading",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"loading-spinner"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A..."})]});}if(!profile){return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mobile-error",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u0639\u0630\u0631\u0627\u064B\u060C \u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>navigate('/mobile/dashboard'),children:"\u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0631\u0626\u064A\u0633\u064A\u0629"})]});}return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mobile-profile",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"profile-header",children:/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{children:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"profile-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.3},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"profile-photo-section",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"profile-photo",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserCircleIcon,{className:"icon"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{children:profile.full_name}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"member-number",children:["\u0639\u0636\u0648 \u0631\u0642\u0645: ",profile.membership_number]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"balance-summary ".concat(profile.is_compliant?'compliant':'non-compliant'),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"balance-icon",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.WalletIcon,{className:"icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"balance-info",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"balance-label",children:"\u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u062D\u0627\u0644\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"balance-value",children:[profile.balance.toLocaleString()," \u0631\u064A\u0627\u0644"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"compliance-status",children:profile.is_compliant?/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"status-icon success"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0645\u0644\u062A\u0632\u0645"})]}):/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ExclamationTriangleIcon,{className:"status-icon warning"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u063A\u064A\u0631 \u0645\u0644\u062A\u0632\u0645"})]})})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"profile-info",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.3,delay:0.1},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"info-icon",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhoneIcon,{className:"icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-label",children:"\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-value",children:profile.phone||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"info-icon",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.IdentificationIcon,{className:"icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-label",children:"\u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-value",children:profile.membership_number})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"info-icon",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserGroupIcon,{className:"icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-label",children:"\u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u0642\u0628\u0644\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-value",children:profile.tribal_section||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'})]})]}),profile.family_branch&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"info-icon",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserGroupIcon,{className:"icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-label",children:"\u0627\u0644\u0641\u0631\u0639 \u0627\u0644\u0639\u0627\u0626\u0644\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-value",children:profile.family_branch})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-item",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"info-icon",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarIcon,{className:"icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-label",children:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-value",children:formatDate(profile.created_at)})]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"profile-actions",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.3,delay:0.2},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"action-button",onClick:()=>navigate('/mobile/change-password'),children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.LockClosedIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062A\u063A\u064A\u064A\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"action-button",onClick:()=>navigate('/mobile/settings'),children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.Cog6ToothIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"action-button logout",onClick:handleLogout,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowRightOnRectangleIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C"})]})]}),showLogoutConfirm&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"modal-overlay",children:/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"modal-content",initial:{scale:0.8,opacity:0},animate:{scale:1,opacity:1},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u062A\u0623\u0643\u064A\u062F \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0631\u063A\u0628\u062A\u0643 \u0641\u064A \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C\u061F"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-actions",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"confirm-btn",onClick:confirmLogout,children:"\u0646\u0639\u0645\u060C \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"cancel-btn",onClick:()=>setShowLogoutConfirm(false),children:"\u0625\u0644\u063A\u0627\u0621"})]})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)(mobile_BottomNav,{})]});};/* harmony default export */ const mobile_Profile = (Profile_Profile);
;// ./src/styles/mobile/ReceiptUpload.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const ReceiptUpload = ({});
;// ./src/pages/mobile/ReceiptUpload.tsx
// @ts-nocheck
const ReceiptUpload_ReceiptUpload=_ref=>{let{onUploadComplete}=_ref;const[selectedFile,setSelectedFile]=(0,react.useState)(null);const[preview,setPreview]=(0,react.useState)(null);const[uploading,setUploading]=(0,react.useState)(false);const[uploadProgress,setUploadProgress]=(0,react.useState)(0);const[error,setError]=(0,react.useState)(null);const[uploadSuccess,setUploadSuccess]=(0,react.useState)(false);const fileInputRef=(0,react.useRef)(null);const cameraInputRef=(0,react.useRef)(null);const MAX_FILE_SIZE=5*1024*1024;// 5MB
const ALLOWED_TYPES=['image/jpeg','image/png','image/jpg','application/pdf'];const handleFileSelect=event=>{var _event$target$files;const file=(_event$target$files=event.target.files)===null||_event$target$files===void 0?void 0:_event$target$files[0];if(file){validateAndSetFile(file);}};const validateAndSetFile=file=>{setError(null);// Check file type
if(!ALLOWED_TYPES.includes(file.type)){setError('Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© (JPG, PNG) Ø£Ùˆ PDF');return;}// Check file size
if(file.size>MAX_FILE_SIZE){setError('Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹. Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 5 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª');return;}setSelectedFile(file);// Create preview for images
if(file.type.startsWith('image/')){const reader=new FileReader();reader.onload=e=>{var _e$target;setPreview((_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.result);};reader.readAsDataURL(file);}else{setPreview(null);}};const handleUpload=async()=>{if(!selectedFile)return;try{setUploading(true);setUploadProgress(0);setError(null);const formData=new FormData();formData.append('receipt',selectedFile);const token=localStorage.getItem('token');const apiUrl="http://localhost:3001"||0;// Simulate progress updates
const progressInterval=setInterval(()=>{setUploadProgress(prev=>{if(prev>=90){clearInterval(progressInterval);return 90;}return prev+10;});},200);const response=await fetch("".concat(apiUrl,"/api/receipts/upload"),{method:'POST',headers:{'Authorization':"Bearer ".concat(token)},body:formData});clearInterval(progressInterval);setUploadProgress(100);if(response.ok){const data=await response.json();setUploadSuccess(true);// Wait for animation then call callback
setTimeout(()=>{onUploadComplete(data.url);},1500);}else{const errorData=await response.json();setError(errorData.message||'ÙØ´Ù„ Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù');setUploadProgress(0);}}catch(error){console.error('Upload error:',error);setError('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù');setUploadProgress(0);}finally{setUploading(false);}};const handleRetry=()=>{setError(null);setUploadProgress(0);setUploadSuccess(false);};const handleReset=()=>{setSelectedFile(null);setPreview(null);setError(null);setUploadProgress(0);setUploadSuccess(false);};const formatFileSize=bytes=>{if(bytes<1024)return bytes+' B';if(bytes<1024*1024)return(bytes/1024).toFixed(1)+' KB';return(bytes/(1024*1024)).toFixed(1)+' MB';};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"receipt-upload-container",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{children:"\u0631\u0641\u0639 \u0625\u064A\u0635\u0627\u0644 \u0627\u0644\u062F\u0641\u0639"}),!selectedFile?/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"upload-options",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"upload-option camera",onClick:()=>{var _cameraInputRef$curre;return(_cameraInputRef$curre=cameraInputRef.current)===null||_cameraInputRef$curre===void 0?void 0:_cameraInputRef$curre.click();},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CameraIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0644\u062A\u0642\u0627\u0637 \u0635\u0648\u0631\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"upload-option gallery",onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.PhotoIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u062E\u062A\u064A\u0627\u0631 \u0645\u0646 \u0627\u0644\u0645\u0639\u0631\u0636"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{ref:cameraInputRef,type:"file",accept:"image/*",capture:"environment",onChange:handleFileSelect,hidden:true}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{ref:fileInputRef,type:"file",accept:"image/*,.pdf",onChange:handleFileSelect,hidden:true}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"upload-info",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u0627\u0644\u0645\u0644\u0641\u0627\u062A \u0627\u0644\u0645\u062F\u0639\u0648\u0645\u0629: JPG, PNG, PDF"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u0627\u0644\u062D\u062C\u0645 \u0627\u0644\u0623\u0642\u0635\u0649: 5 \u0645\u064A\u062C\u0627\u0628\u0627\u064A\u062A"})]}),error&&/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"error-message",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XMarkIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:error})]})]}):/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"file-preview",children:preview?/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:preview,alt:"Receipt preview"}):/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"pdf-preview",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0645\u0644\u0641 PDF"})]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"file-info",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"file-name",children:selectedFile.name}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"file-size",children:formatFileSize(selectedFile.size)})]}),uploading&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"upload-progress",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"progress-bar",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"progress-fill",style:{width:"".concat(uploadProgress,"%")}})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"progress-text",children:[uploadProgress,"%"]})]}),uploadSuccess&&/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"success-message",initial:{scale:0},animate:{scale:1},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062A\u0645 \u0631\u0641\u0639 \u0627\u0644\u0625\u064A\u0635\u0627\u0644 \u0628\u0646\u062C\u0627\u062D"})]}),error&&/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"error-message",initial:{opacity:0},animate:{opacity:1},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XMarkIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:error})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"upload-actions",children:[!uploading&&!uploadSuccess&&!error&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"upload-btn primary",onClick:handleUpload,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowUpTrayIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0631\u0641\u0639 \u0627\u0644\u0625\u064A\u0635\u0627\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"upload-btn secondary",onClick:handleReset,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XMarkIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0625\u0644\u063A\u0627\u0621"})]})]}),uploading&&/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"upload-btn loading",disabled:true,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowPathIcon,{className:"spinner icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062C\u0627\u0631\u064A \u0627\u0644\u0631\u0641\u0639..."})]}),error&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"upload-btn primary",onClick:handleRetry,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowPathIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"upload-btn secondary",onClick:handleReset,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XMarkIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u062E\u062A\u064A\u0627\u0631 \u0645\u0644\u0641 \u0622\u062E\u0631"})]})]})]})]})]});};/* harmony default export */ const mobile_ReceiptUpload = (ReceiptUpload_ReceiptUpload);
;// ./src/styles/mobile/Payment.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Payment = ({});
;// ./src/pages/mobile/Payment.tsx
// @ts-nocheck
const Payment_Payment=()=>{const navigate=(0,dist.useNavigate)();const[paymentMode,setPaymentMode]=(0,react.useState)('self');const[amount,setAmount]=(0,react.useState)('');const[notes,setNotes]=(0,react.useState)('');const[searchQuery,setSearchQuery]=(0,react.useState)('');const[searchResults,setSearchResults]=(0,react.useState)([]);const[selectedMember,setSelectedMember]=(0,react.useState)(null);const[searching,setSearching]=(0,react.useState)(false);const[submitting,setSubmitting]=(0,react.useState)(false);const[showSuccess,setShowSuccess]=(0,react.useState)(false);const[showReceiptUpload,setShowReceiptUpload]=(0,react.useState)(false);const[receiptUrl,setReceiptUrl]=(0,react.useState)(null);const[errors,setErrors]=(0,react.useState)({});// Debounced search
(0,react.useEffect)(()=>{if(paymentMode==='behalf'&&searchQuery.length>=2){const timer=setTimeout(()=>{searchMembers();},500);return()=>clearTimeout(timer);}else{setSearchResults([]);}},[searchQuery,paymentMode]);const searchMembers=async()=>{try{setSearching(true);const token=localStorage.getItem('token');const apiUrl="http://localhost:3001"||0;const response=await fetch("".concat(apiUrl,"/api/member/search?q=").concat(encodeURIComponent(searchQuery)),{headers:{'Authorization':"Bearer ".concat(token)}});if(response.ok){const data=await response.json();// Handle both data structures (array or object with data property)
const members=Array.isArray(data)?data:data.data||[];setSearchResults(members);}}catch(error){console.error('Error searching members:',error);// Set sample data for testing
setSearchResults([{id:'1',full_name:'Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¹ÙŠÙ„',membership_number:'M-102',phone:'0501234567',tribal_section:'Ø¢Ù„ Ù…Ø­Ù…Ø¯'},{id:'2',full_name:'Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø³Ø§Ù„Ù… Ø§Ù„Ø´Ø¹ÙŠÙ„',membership_number:'M-103',phone:'0502345678',tribal_section:'Ø¢Ù„ Ø³Ø§Ù„Ù…'}]);}finally{setSearching(false);}};const validateForm=()=>{const newErrors={};if(!amount||parseFloat(amount)<=0){newErrors.amount='Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­';}if(paymentMode==='behalf'&&!selectedMember){newErrors.member='Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ø¶Ùˆ';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async()=>{if(!validateForm())return;try{setSubmitting(true);const token=localStorage.getItem('token');const apiUrl="http://localhost:3001"||0;const payload=(0,objectSpread2["default"])({amount:parseFloat(amount),notes,receipt_url:receiptUrl},paymentMode==='behalf'&&selectedMember&&{on_behalf_of:selectedMember.id});const response=await fetch("".concat(apiUrl,"/api/member/payments"),{method:'POST',headers:{'Authorization':"Bearer ".concat(token),'Content-Type':'application/json'},body:JSON.stringify(payload)});if(response.ok){setShowSuccess(true);// Reset form after 3 seconds
setTimeout(()=>{setShowSuccess(false);resetForm();navigate('/mobile/payment-history');},3000);}else{const errorData=await response.json();alert(errorData.message||'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¯ÙØ¹Ø©');}}catch(error){console.error('Error submitting payment:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¯ÙØ¹Ø©');}finally{setSubmitting(false);}};const resetForm=()=>{setAmount('');setNotes('');setSearchQuery('');setSelectedMember(null);setReceiptUrl(null);setErrors({});};const handleReceiptUpload=url=>{setReceiptUrl(url);setShowReceiptUpload(false);};const formatAmount=value=>{// Remove non-digits
const digits=value.replace(/\D/g,'');// Add thousand separators
return digits.replace(/\B(?=(\d{3})+(?!\d))/g,',');};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mobile-payment",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"payment-header",children:/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{children:"\u062F\u0641\u0639\u0629 \u062C\u062F\u064A\u062F\u0629"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-mode-selector",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"mode-btn ".concat(paymentMode==='self'?'active':''),onClick:()=>{setPaymentMode('self');setSelectedMember(null);setSearchQuery('');},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.UserIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062F\u0641\u0639 \u0644\u0646\u0641\u0633\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"mode-btn ".concat(paymentMode==='behalf'?'active':''),onClick:()=>setPaymentMode('behalf'),children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CreditCardIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062F\u0641\u0639 \u0639\u0646 \u0634\u062E\u0635 \u0622\u062E\u0631"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"payment-form",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[paymentMode==='behalf'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0627\u0644\u0639\u0636\u0648"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"search-input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062D\u062B \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644 \u0623\u0648 \u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:errors.member?'error':''}),searching&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"search-loading",children:"\u062C\u0627\u0631\u064A \u0627\u0644\u0628\u062D\u062B..."}),searchQuery&&/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"clear-search",onClick:()=>{setSearchQuery('');setSelectedMember(null);},children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XMarkIcon,{className:"icon"})})]}),errors.member&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"error-message",children:errors.member}),searchResults.length>0&&!selectedMember&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"search-results",children:searchResults.map(member=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"search-result-item",onClick:()=>{setSelectedMember(member);setSearchQuery(member.full_name);setSearchResults([]);},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"member-name",children:member.full_name}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-details",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0631\u0642\u0645 \u0627\u0644\u0639\u0636\u0648\u064A\u0629: ",member.membership_number]}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:member.phone})]})]},member.id))}),selectedMember&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"selected-member",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"check-icon"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-info",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"name",children:selectedMember.full_name}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"details",children:["\u0639\u0636\u0648 \u0631\u0642\u0645: ",selectedMember.membership_number]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"change-btn",onClick:()=>{setSelectedMember(null);setSearchQuery('');},children:"\u062A\u063A\u064A\u064A\u0631"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BanknotesIcon,{className:"icon"}),"\u0627\u0644\u0645\u0628\u0644\u063A (\u0631\u064A\u0627\u0644 \u0633\u0639\u0648\u062F\u064A)"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"amount-input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",placeholder:"0",value:amount,onChange:e=>setAmount(e.target.value),className:errors.amount?'error':''}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"currency",children:"\u0631\u064A\u0627\u0644"})]}),errors.amount&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"error-message",children:errors.amount})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0645\u0644\u0627\u062D\u0638\u0627\u062A (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{placeholder:"\u0623\u0636\u0641 \u0623\u064A \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629 \u0647\u0646\u0627...",value:notes,onChange:e=>setNotes(e.target.value),rows:3})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0625\u064A\u0635\u0627\u0644 \u0627\u0644\u062F\u0641\u0639"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"receipt-actions",children:!receiptUrl?/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"upload-btn",onClick:()=>setShowReceiptUpload(true),children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CameraIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0631\u0641\u0639 \u0627\u0644\u0625\u064A\u0635\u0627\u0644"})]}):/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"receipt-uploaded",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"success-icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062A\u0645 \u0631\u0641\u0639 \u0627\u0644\u0625\u064A\u0635\u0627\u0644 \u0628\u0646\u062C\u0627\u062D"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"change-receipt",onClick:()=>setShowReceiptUpload(true),children:"\u062A\u063A\u064A\u064A\u0631"})]})})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"submit-btn",onClick:handleSubmit,disabled:submitting,children:submitting?/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"btn-spinner"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0631\u0633\u0627\u0644..."})]}):/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CreditCardIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062F\u0641\u0639\u0629"})]})})]}),showReceiptUpload&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"modal-overlay",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-content",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"modal-close",onClick:()=>setShowReceiptUpload(false),children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.XMarkIcon,{className:"icon"})}),/*#__PURE__*/(0,jsx_runtime.jsx)(mobile_ReceiptUpload,{onUploadComplete:handleReceiptUpload})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)(es.AnimatePresence,{children:showSuccess&&/*#__PURE__*/(0,jsx_runtime.jsx)(es.motion.div,{className:"success-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"success-modal",initial:{scale:0.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0.5,opacity:0},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"success-icon",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckCircleIcon,{className:"icon"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{children:"\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062F\u0641\u0639\u0629 \u0628\u0646\u062C\u0627\u062D"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u0633\u064A\u062A\u0645 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u062F\u0641\u0639\u0629 \u0648\u0627\u0639\u062A\u0645\u0627\u062F\u0647\u0627 \u0642\u0631\u064A\u0628\u0627\u064B"})]})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(mobile_BottomNav,{})]});};/* harmony default export */ const mobile_Payment = (Payment_Payment);
;// ./src/styles/mobile/PaymentHistory.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const PaymentHistory = ({});
;// ./src/pages/mobile/PaymentHistory.tsx
// @ts-nocheck
const PaymentHistory_PaymentHistory=()=>{const[payments,setPayments]=(0,react.useState)([]);const[filteredPayments,setFilteredPayments]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[activeFilter,setActiveFilter]=(0,react.useState)('all');const[selectedYear,setSelectedYear]=(0,react.useState)(new Date().getFullYear());const[selectedMonth,setSelectedMonth]=(0,react.useState)(null);const[selectedPayment,setSelectedPayment]=(0,react.useState)(null);const[showFilters,setShowFilters]=(0,react.useState)(false);const statusConfig={approved:{label:'Ù…Ø¹ØªÙ…Ø¯',color:'#34C759',bgColor:'#34C75910',icon:esm.CheckCircleIcon},pending:{label:'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©',color:'#FF9500',bgColor:'#FF950010',icon:esm.ClockIcon},rejected:{label:'Ù…Ø±ÙÙˆØ¶',color:'#FF3B30',bgColor:'#FF3B3010',icon:esm.XCircleIcon}};const months=['ÙŠÙ†Ø§ÙŠØ±','ÙØ¨Ø±Ø§ÙŠØ±','Ù…Ø§Ø±Ø³','Ø£Ø¨Ø±ÙŠÙ„','Ù…Ø§ÙŠÙˆ','ÙŠÙˆÙ†ÙŠÙˆ','ÙŠÙˆÙ„ÙŠÙˆ','Ø£ØºØ³Ø·Ø³','Ø³Ø¨ØªÙ…Ø¨Ø±','Ø£ÙƒØªÙˆØ¨Ø±','Ù†ÙˆÙÙ…Ø¨Ø±','Ø¯ÙŠØ³Ù…Ø¨Ø±'];(0,react.useEffect)(()=>{fetchPayments();},[]);(0,react.useEffect)(()=>{filterPayments();},[payments,activeFilter,selectedYear,selectedMonth]);const fetchPayments=async()=>{try{setLoading(true);const data=await getMemberPayments();const paymentsArray=Array.isArray(data)?data:data.data||[];// Format payments with Hijri dates
const formattedPayments=paymentsArray.map(payment=>{var _dateInfo$hijri;const dateInfo=formatBothCalendars(payment.date||payment.created_at);return (0,objectSpread2["default"])((0,objectSpread2["default"])({},payment),{},{hijri_date:(dateInfo===null||dateInfo===void 0?void 0:(_dateInfo$hijri=dateInfo.hijri)===null||_dateInfo$hijri===void 0?void 0:_dateInfo$hijri.formatted)||''});});setPayments(formattedPayments);}catch(error){console.error('Error fetching payments:',error);// Set sample data for testing
setPayments([{id:'1',amount:1000,date:new Date().toISOString(),hijri_date:'15 ØµÙØ± 1446Ù‡Ù€',status:'approved',notes:'Ø¯ÙØ¹Ø© Ø´Ù‡Ø±ÙŠØ©',receipt_url:'#'},{id:'2',amount:500,date:new Date(Date.now()-30*24*60*60*1000).toISOString(),hijri_date:'10 Ù…Ø­Ø±Ù… 1446Ù‡Ù€',status:'pending',notes:'Ø¯ÙØ¹Ø© Ø¥Ø¶Ø§ÙÙŠØ©'}]);}finally{setLoading(false);}};const filterPayments=()=>{let filtered=[...payments];// Filter by status
if(activeFilter!=='all'){filtered=filtered.filter(p=>p.status===activeFilter);}// Filter by year
filtered=filtered.filter(p=>{const year=new Date(p.date).getFullYear();return year===selectedYear;});// Filter by month
if(selectedMonth!==null){filtered=filtered.filter(p=>{const month=new Date(p.date).getMonth();return month===selectedMonth;});}setFilteredPayments(filtered);};const formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleDateString('ar-SA',{year:'numeric',month:'short',day:'numeric'});};const getHijriDate=dateString=>{var _dateInfo$hijri2;const dateInfo=formatBothCalendars(dateString);return(dateInfo===null||dateInfo===void 0?void 0:(_dateInfo$hijri2=dateInfo.hijri)===null||_dateInfo$hijri2===void 0?void 0:_dateInfo$hijri2.formatted)||'';};const calculateTotals=()=>{const approved=filteredPayments.filter(p=>p.status==='approved').reduce((sum,p)=>sum+p.amount,0);const pending=filteredPayments.filter(p=>p.status==='pending').reduce((sum,p)=>sum+p.amount,0);const total=filteredPayments.reduce((sum,p)=>sum+p.amount,0);return{approved,pending,total};};const totals=calculateTotals();if(loading){return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mobile-loading",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"loading-spinner"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0633\u062C\u0644..."})]});}return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mobile-payment-history",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"history-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{children:"\u0633\u062C\u0644 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"filter-toggle",onClick:()=>setShowFilters(!showFilters),children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.FunnelIcon,{className:"icon"})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-statistics",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-card total",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-label",children:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"stat-value",children:[totals.total.toLocaleString()," \u0631\u064A\u0627\u0644"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-card approved",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-label",children:"\u0645\u0639\u062A\u0645\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"stat-value",children:[totals.approved.toLocaleString()," \u0631\u064A\u0627\u0644"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-card pending",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-label",children:"\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"stat-value",children:[totals.pending.toLocaleString()," \u0631\u064A\u0627\u0644"]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)(es.AnimatePresence,{children:showFilters&&/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"filters-section",initial:{height:0,opacity:0},animate:{height:'auto',opacity:1},exit:{height:0,opacity:0},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u062D\u0627\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-buttons",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:activeFilter==='all'?'active':'',onClick:()=>setActiveFilter('all'),children:"\u0627\u0644\u0643\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:activeFilter==='approved'?'active':'',onClick:()=>setActiveFilter('approved'),children:"\u0645\u0639\u062A\u0645\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:activeFilter==='pending'?'active':'',onClick:()=>setActiveFilter('pending'),children:"\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:activeFilter==='rejected'?'active':'',onClick:()=>setActiveFilter('rejected'),children:"\u0645\u0631\u0641\u0648\u0636"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0633\u0646\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("select",{value:selectedYear,onChange:e=>setSelectedYear(Number(e.target.value)),children:[2024,2025,2026].map(year=>/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:year,children:year},year))})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0634\u0647\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:selectedMonth!==null&&selectedMonth!==void 0?selectedMonth:'',onChange:e=>setSelectedMonth(e.target.value===''?null:Number(e.target.value)),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"",children:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0634\u0647\u0648\u0631"}),months.map((month,index)=>/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:index,children:month},index))]})]})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"payments-list",children:filteredPayments.length>0?filteredPayments.map((payment,index)=>{const StatusIcon=statusConfig[payment.status].icon;return/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"payment-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:index*0.05},onClick:()=>setSelectedPayment(payment),children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-main",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-amount",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"amount",children:payment.amount.toLocaleString()}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"currency",children:"\u0631\u064A\u0627\u0644"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-status",style:{color:statusConfig[payment.status].color,backgroundColor:statusConfig[payment.status].bgColor},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(StatusIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:statusConfig[payment.status].label})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-details",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-date",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CalendarIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:formatDate(payment.date)})]}),payment.hijri_date&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"hijri-date",children:getHijriDate(payment.date)}),payment.on_behalf_of&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"on-behalf",children:["\u062F\u0641\u0639\u062A \u0639\u0646: ",payment.on_behalf_of.full_name]})]}),payment.receipt_url&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"receipt-indicator",children:/*#__PURE__*/(0,jsx_runtime.jsx)(esm.DocumentTextIcon,{className:"icon"})})]},payment.id);}):/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"empty-state",children:/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u062F\u0641\u0648\u0639\u0627\u062A"})})}),selectedPayment&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"modal-overlay",onClick:()=>setSelectedPayment(null),children:/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"payment-modal",initial:{scale:0.9,opacity:0},animate:{scale:1,opacity:1},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{children:"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062F\u0641\u0639\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-detail",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"label",children:"\u0627\u0644\u0645\u0628\u0644\u063A:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"value",children:[selectedPayment.amount.toLocaleString()," \u0631\u064A\u0627\u0644"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-detail",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"label",children:"\u0627\u0644\u062A\u0627\u0631\u064A\u062E:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"value",children:formatDate(selectedPayment.date)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-detail",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"label",children:"\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0647\u062C\u0631\u064A:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"value",children:getHijriDate(selectedPayment.date)})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-detail",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"label",children:"\u0627\u0644\u062D\u0627\u0644\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"value status",style:{color:statusConfig[selectedPayment.status].color},children:statusConfig[selectedPayment.status].label})]}),selectedPayment.on_behalf_of&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-detail",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"label",children:"\u062F\u0641\u0639\u062A \u0639\u0646:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"value",children:[selectedPayment.on_behalf_of.full_name,"(",selectedPayment.on_behalf_of.membership_number,")"]})]}),selectedPayment.notes&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-detail",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"label",children:"\u0645\u0644\u0627\u062D\u0638\u0627\u062A:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"value",children:selectedPayment.notes})]}),selectedPayment.reviewed_by&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-detail",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"label",children:"\u062A\u0645\u062A \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629 \u0628\u0648\u0627\u0633\u0637\u0629:"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"value",children:selectedPayment.reviewed_by})]}),selectedPayment.receipt_url&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"receipt-actions",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"view-receipt",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.EyeIcon,{className:"icon"}),"\u0639\u0631\u0636 \u0627\u0644\u0625\u064A\u0635\u0627\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"download-receipt",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ArrowDownTrayIcon,{className:"icon"}),"\u062A\u062D\u0645\u064A\u0644"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"modal-close",onClick:()=>setSelectedPayment(null),children:"\u0625\u063A\u0644\u0627\u0642"})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)(mobile_BottomNav,{})]});};/* harmony default export */ const mobile_PaymentHistory = (PaymentHistory_PaymentHistory);
;// ./src/styles/mobile/Notifications.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const Notifications = ({});
;// ./src/pages/mobile/Notifications.tsx
// @ts-nocheck
const Notifications_Notifications=()=>{const[notifications,setNotifications]=(0,react.useState)([]);const[filteredNotifications,setFilteredNotifications]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[activeFilter,setActiveFilter]=(0,react.useState)('all');const[selectedNotification,setSelectedNotification]=(0,react.useState)(null);const[unreadCount,setUnreadCount]=(0,react.useState)(0);const typeConfig={news:{label:'Ø£Ø®Ø¨Ø§Ø±',icon:esm.NewspaperIcon,color:'#007AFF',bgColor:'#007AFF10'},occasions:{label:'Ù…Ù†Ø§Ø³Ø¨Ø§Øª',icon:esm.GiftIcon,color:'#FF9500',bgColor:'#FF950010'},diyas:{label:'Ø¯ÙŠØ§Øª',icon:esm.CurrencyDollarIcon,color:'#FF3B30',bgColor:'#FF3B3010'},initiatives:{label:'Ù…Ø¨Ø§Ø¯Ø±Ø§Øª',icon:esm.LightBulbIcon,color:'#34C759',bgColor:'#34C75910'},condolences:{label:'ØªØ¹Ø§Ø²ÙŠ',icon:esm.HeartIcon,color:'#8E8E93',bgColor:'#8E8E9310'}};(0,react.useEffect)(()=>{fetchNotifications();},[]);(0,react.useEffect)(()=>{filterNotifications();updateUnreadCount();},[notifications,activeFilter]);const fetchNotifications=async()=>{try{setLoading(true);const token=localStorage.getItem('token');const apiUrl="http://localhost:3001"||0;const response=await fetch("".concat(apiUrl,"/api/member/notifications"),{headers:{'Authorization':"Bearer ".concat(token)}});if(response.ok){const data=await response.json();setNotifications(data);}}catch(error){console.error('Error fetching notifications:',error);}finally{setLoading(false);}};const filterNotifications=()=>{if(activeFilter==='all'){setFilteredNotifications(notifications);}else{setFilteredNotifications(notifications.filter(n=>n.type===activeFilter));}};const updateUnreadCount=()=>{const count=notifications.filter(n=>!n.is_read).length;setUnreadCount(count);};const markAsRead=async notificationId=>{try{const token=localStorage.getItem('token');const apiUrl="http://localhost:3001"||0;await fetch("".concat(apiUrl,"/api/member/notifications/").concat(notificationId,"/read"),{method:'POST',headers:{'Authorization':"Bearer ".concat(token)}});// Update local state
setNotifications(prev=>prev.map(n=>n.id===notificationId?(0,objectSpread2["default"])((0,objectSpread2["default"])({},n),{},{is_read:true}):n));}catch(error){console.error('Error marking notification as read:',error);}};const markAllAsRead=async()=>{try{const token=localStorage.getItem('token');const apiUrl="http://localhost:3001"||0;await fetch("".concat(apiUrl,"/api/member/notifications/read-all"),{method:'POST',headers:{'Authorization':"Bearer ".concat(token)}});// Update local state
setNotifications(prev=>prev.map(n=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},n),{},{is_read:true})));}catch(error){console.error('Error marking all as read:',error);}};const handleNotificationClick=notification=>{setSelectedNotification(notification);if(!notification.is_read){markAsRead(notification.id);}};const formatDate=dateString=>{const date=new Date(dateString);const now=new Date();const diff=now.getTime()-date.getTime();const days=Math.floor(diff/(1000*60*60*24));const hours=Math.floor(diff/(1000*60*60));const minutes=Math.floor(diff/(1000*60));if(minutes<60){return"\u0645\u0646\u0630 ".concat(minutes," \u062F\u0642\u064A\u0642\u0629");}else if(hours<24){return"\u0645\u0646\u0630 ".concat(hours," \u0633\u0627\u0639\u0629");}else if(days<7){return"\u0645\u0646\u0630 ".concat(days," \u0623\u064A\u0627\u0645");}else{return date.toLocaleDateString('ar-SA',{year:'numeric',month:'short',day:'numeric'});}};if(loading){return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mobile-loading",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"loading-spinner"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A..."})]});}return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mobile-notifications",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notifications-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{children:"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A"}),unreadCount>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"mark-all-btn",onClick:markAllAsRead,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.CheckIcon,{className:"icon"}),"\u0642\u0631\u0627\u0621\u0629 \u0627\u0644\u0643\u0644"]})]}),unreadCount>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"unread-banner",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BellIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0644\u062F\u064A\u0643 ",unreadCount," \u0625\u0634\u0639\u0627\u0631\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0631\u0648\u0621\u0629"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filter-tabs",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"tab-btn ".concat(activeFilter==='all'?'active':''),onClick:()=>setActiveFilter('all'),children:"\u0627\u0644\u0643\u0644"}),Object.entries(typeConfig).map(_ref=>{let[type,config]=_ref;return/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"tab-btn ".concat(activeFilter===type?'active':''),onClick:()=>setActiveFilter(type),children:config.label},type);})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notifications-list",children:filteredNotifications.length>0?filteredNotifications.map((notification,index)=>{const config=typeConfig[notification.type];const Icon=config.icon;return/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"notification-card ".concat(notification.is_read?'read':'unread'),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:index*0.05},onClick:()=>handleNotificationClick(notification),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"notification-icon",style:{backgroundColor:config.bgColor,color:config.color},children:/*#__PURE__*/(0,jsx_runtime.jsx)(Icon,{className:"icon"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-content",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"notification-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"notification-type",style:{color:config.color},children:config.label}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"notification-time",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.ClockIcon,{className:"icon"}),formatDate(notification.date)]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"notification-title",children:notification.title}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"notification-message",children:notification.message})]}),!notification.is_read&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"unread-indicator"})]},notification.id);}):/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"empty-state",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(esm.BellIcon,{className:"icon"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0625\u0634\u0639\u0627\u0631\u0627\u062A"})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)(es.AnimatePresence,{children:selectedNotification&&/*#__PURE__*/(0,jsx_runtime.jsx)(es.motion.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>setSelectedNotification(null),children:/*#__PURE__*/(0,jsx_runtime.jsxs)(es.motion.div,{className:"notification-modal",initial:{scale:0.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0.9,opacity:0},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"modal-type",style:{color:typeConfig[selectedNotification.type].color,backgroundColor:typeConfig[selectedNotification.type].bgColor},children:typeConfig[selectedNotification.type].label}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"modal-date",children:new Date(selectedNotification.date).toLocaleDateString('ar-SA',{year:'numeric',month:'long',day:'numeric'})})]}),selectedNotification.image_url&&/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:selectedNotification.image_url,alt:selectedNotification.title,className:"modal-image"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"modal-title",children:selectedNotification.title}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"modal-message",children:selectedNotification.message}),selectedNotification.action_url&&/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"action-button",children:"\u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"modal-close",onClick:()=>setSelectedNotification(null),children:"\u0625\u063A\u0644\u0627\u0642"})]})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(mobile_BottomNav,{})]});};/* harmony default export */ const mobile_Notifications = (Notifications_Notifications);
;// ./src/pages/mobile/MemberSubscriptionView.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const MemberSubscriptionView = ({});
;// ./src/pages/mobile/MemberSubscriptionView.tsx
// @ts-nocheck
// ========================================
// TYPES & INTERFACES
// ========================================
// ========================================
// MAIN COMPONENT
// ========================================
const MemberSubscriptionView_MemberSubscriptionView=()=>{const[subscription,setSubscription]=(0,react.useState)(null);const[payments,setPayments]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[showPayModal,setShowPayModal]=(0,react.useState)(false);const API_BASE="http://localhost:3001"||0;const token=localStorage.getItem('token');const axiosConfig={headers:{Authorization:"Bearer ".concat(token)}};(0,react.useEffect)(()=>{fetchSubscription();fetchPaymentHistory();},[]);const fetchSubscription=async()=>{try{const{data}=await axios["default"].get("".concat(API_BASE,"/api/subscriptions/member/subscription"),axiosConfig);setSubscription(data.subscription);}catch(error){console.error('ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ:',error);}finally{setLoading(false);}};const fetchPaymentHistory=async()=>{try{const{data}=await axios["default"].get("".concat(API_BASE,"/api/subscriptions/member/subscription/payments?limit=10"),axiosConfig);setPayments(data.payments);}catch(error){console.error('ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¬Ù„:',error);}};if(loading){return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"loading-screen",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"loading-spinner"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"loading-text",children:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644..."})]});}if(!subscription){// Check if user is admin testing the page
const userStr=localStorage.getItem('user');const user=userStr?JSON.parse(userStr):null;const isAdmin=user&&['admin','super_admin','moderator','financial_manager'].includes(user.role);return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"error-screen",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"error-icon",children:"\u26A0\uFE0F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{children:"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0627\u0634\u062A\u0631\u0627\u0643"}),isAdmin?/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{maxWidth:'500px',margin:'0 auto'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{marginBottom:'1rem'},children:"\u0623\u0646\u062A \u0645\u0633\u062C\u0644 \u062F\u062E\u0648\u0644 \u0643\u0645\u0633\u0624\u0648\u0644 \u0648\u0644\u0627 \u064A\u0648\u062C\u062F \u0627\u0634\u062A\u0631\u0627\u0643 \u0645\u0631\u062A\u0628\u0637 \u0628\u062D\u0633\u0627\u0628\u0643."}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{style:{marginBottom:'1rem',fontSize:'0.9rem',color:'rgba(255,255,255,0.7)'},children:"\u0644\u0639\u0631\u0636 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0634\u062A\u0631\u0627\u0643 \u0639\u0636\u0648 \u062D\u0642\u064A\u0642\u064A:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("ul",{style:{textAlign:'right',fontSize:'0.9rem',color:'rgba(255,255,255,0.7)',marginBottom:'1.5rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0642\u0645 \u0628\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0633\u062C\u0644 \u062F\u062E\u0648\u0644 \u0643\u0639\u0636\u0648: 0555555555 / 123456"}),/*#__PURE__*/(0,jsx_runtime.jsx)("li",{children:"\u0623\u0648 \u0627\u0633\u062A\u062E\u062F\u0645 \u0644\u0648\u062D\u0629 \u062A\u062D\u0643\u0645 \u0627\u0644\u0645\u0633\u0624\u0648\u0644 \u0644\u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>window.location.href='/admin/subscriptions',style:{padding:'0.75rem 1.5rem',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',border:'none',borderRadius:'0.5rem',color:'white',cursor:'pointer',fontSize:'1rem'},children:"\uD83D\uDCCA \u0627\u0646\u062A\u0642\u0644 \u0625\u0644\u0649 \u0644\u0648\u062D\u0629 \u062A\u062D\u0643\u0645 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A"})]}):/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u064A\u0631\u062C\u0649 \u0627\u0644\u062A\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0625\u062F\u0627\u0631\u0629"})]});}const isOverdue=subscription.status==='overdue';const daysUntilDue=Math.ceil((new Date(subscription.next_payment_due).getTime()-Date.now())/(1000*60*60*24));return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-subscription-view",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"content-container",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"page-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"page-title",children:"\uD83D\uDCB3 \u0627\u0634\u062A\u0631\u0627\u0643\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>{fetchSubscription();fetchPaymentHistory();},className:"refresh-icon-btn",children:"\uD83D\uDD04"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"subscription-card ".concat(isOverdue?'card-overdue':'card-active'),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"card-header",children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"status-badge-mobile ".concat(isOverdue?'badge-overdue':'badge-active'),children:isOverdue?'âš ï¸ Ù…ØªØ£Ø®Ø±':'âœ… Ù†Ø´Ø·'})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"plan-info",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"plan-subtitle",children:"\u0627\u0634\u062A\u0631\u0627\u0643 \u0634\u0647\u0631\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"plan-price",children:"50 \u0631\u064A\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"plan-period",children:"\u0644\u0643\u0644 \u0634\u0647\u0631"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"progress-container",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"progress-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"progress-label",children:"\u0623\u0634\u0647\u0631 \u0645\u062F\u0641\u0648\u0639\u0629 \u0645\u0633\u0628\u0642\u0627\u064B"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"progress-value",children:[subscription.months_paid_ahead," \u0634\u0647\u0631"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"progress-bar-bg",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"progress-bar-fill ".concat(isOverdue?'fill-red':'fill-green'),style:{width:"".concat(Math.min(100,subscription.months_paid_ahead/12*100),"%")}})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-rows",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(InfoRow,{label:"\u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u062D\u0627\u0644\u064A",value:"".concat(subscription.current_balance," \u0631\u064A\u0627\u0644"),highlight:true}),/*#__PURE__*/(0,jsx_runtime.jsx)(InfoRow,{label:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062F\u0641\u0639\u0629 \u0627\u0644\u0642\u0627\u062F\u0645\u0629",value:formatDate(subscription.next_payment_due),subtext:isOverdue?"\u0645\u062A\u0623\u062E\u0631 \u0628\u0640 ".concat(Math.abs(daysUntilDue)," \u064A\u0648\u0645"):"\u0628\u0639\u062F ".concat(daysUntilDue," \u064A\u0648\u0645")}),subscription.last_payment_date&&/*#__PURE__*/(0,jsx_runtime.jsx)(InfoRow,{label:"\u0622\u062E\u0631 \u062F\u0641\u0639\u0629",value:"".concat(subscription.last_payment_amount," \u0631\u064A\u0627\u0644"),subtext:formatDate(subscription.last_payment_date)})]}),isOverdue&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"warning-box",children:"\u26A0\uFE0F \u0627\u0634\u062A\u0631\u0627\u0643\u0643 \u0645\u062A\u0623\u062E\u0631. \u064A\u0631\u062C\u0649 \u0627\u0644\u062F\u0641\u0639 \u0641\u064A \u0623\u0642\u0631\u0628 \u0648\u0642\u062A \u0644\u0644\u062D\u0641\u0627\u0638 \u0639\u0644\u0649 \u0627\u0644\u062E\u062F\u0645\u0627\u062A."})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"action-buttons-container",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowPayModal(true),className:"action-btn primary-btn",children:"\uD83D\uDCB3 \u062F\u0641\u0639 \u0627\u0644\u0622\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowPayModal(true),className:"action-btn secondary-btn",children:"\uD83D\uDCC5 \u062F\u0641\u0639 \u0639\u062F\u0629 \u0623\u0634\u0647\u0631"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-history-section",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("h3",{className:"history-title",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\uD83D\uDCCB"}),"\u0633\u062C\u0644 \u0627\u0644\u062F\u0641\u0639\u0627\u062A"]}),payments.length===0?/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"empty-message",children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u062F\u0641\u0639\u0627\u062A \u0633\u0627\u0628\u0642\u0629"}):/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"payments-list",children:payments.map(payment=>/*#__PURE__*/(0,jsx_runtime.jsx)(PaymentHistoryItem,{payment:payment},payment.id))}),payments.length>0&&/*#__PURE__*/(0,jsx_runtime.jsx)("button",{className:"view-more-btn",children:"\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064A\u062F"})]})]}),showPayModal&&/*#__PURE__*/(0,jsx_runtime.jsx)(PayMultipleModal,{onClose:()=>setShowPayModal(false),onConfirm:months=>{alert("\u0633\u064A\u062A\u0645 \u062A\u0648\u062C\u064A\u0647\u0643 \u0644\u062F\u0641\u0639 ".concat(months," \u0634\u0647\u0631 (").concat(months*50," \u0631\u064A\u0627\u0644)"));setShowPayModal(false);}})]});};// ========================================
// SUB-COMPONENTS
// ========================================
const InfoRow=_ref=>{let{label,value,subtext,highlight}=_ref;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-row ".concat(highlight?'info-highlight':''),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"info-label",children:label}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"info-value-container",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"info-value",children:value}),subtext&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"info-subtext",children:subtext})]})]});};const PaymentHistoryItem=_ref2=>{let{payment}=_ref2;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-item",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-header",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-amount-info",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-amount",children:[payment.amount," \u0631\u064A\u0627\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-months",children:[payment.months_purchased," \u0634\u0647\u0631"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"payment-status-badge",children:"\u0645\u0643\u062A\u0645\u0644 \u2713"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-details",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:formatDate(payment.payment_date)}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:getPaymentMethodLabel(payment.payment_method)})]}),payment.receipt_number&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"payment-receipt",children:["\u0625\u064A\u0635\u0627\u0644: ",payment.receipt_number]})]});};const PayMultipleModal=_ref3=>{let{onClose,onConfirm}=_ref3;const[selectedMonths,setSelectedMonths]=(0,react.useState)(1);const monthOptions=[{months:1,label:'1 Ø´Ù‡Ø±',amount:50},{months:2,label:'2 Ø´Ù‡Ø±',amount:100},{months:3,label:'3 Ø£Ø´Ù‡Ø±',amount:150},{months:6,label:'6 Ø£Ø´Ù‡Ø±',amount:300},{months:12,label:'12 Ø´Ù‡Ø±',amount:600}];return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"pay-modal-overlay",onClick:onClose,children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"pay-modal-content",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"pay-modal-title",children:"\u062F\u0641\u0639 \u0639\u062F\u0629 \u0623\u0634\u0647\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"month-options",children:monthOptions.map(option=>/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setSelectedMonths(option.months),className:"month-option ".concat(selectedMonths===option.months?'option-selected':''),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"option-label",children:option.label}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"option-amount",children:[option.amount," \u0631\u064A\u0627\u0644"]})]},option.months))}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"total-box",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"total-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0644\u0645\u062C\u0645\u0648\u0639:"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"total-amount",children:[selectedMonths*50," \u0631\u064A\u0627\u0644"]})]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-actions",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>onConfirm(selectedMonths),className:"confirm-payment-btn",children:"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062F\u0641\u0639"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:onClose,className:"cancel-payment-btn",children:"\u0625\u0644\u063A\u0627\u0621"})]})]})});};// ========================================
// HELPER FUNCTIONS
// ========================================
const formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleDateString('ar-SA',{year:'numeric',month:'long',day:'numeric'});};const getPaymentMethodLabel=method=>{const labels={cash:'Ù†Ù‚Ø¯ÙŠ',bank_transfer:'ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ',online:'Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†'};return labels[method]||method;};/* harmony default export */ const mobile_MemberSubscriptionView = (MemberSubscriptionView_MemberSubscriptionView);
;// ./src/pages/admin/SubscriptionDashboard.css
// extracted by mini-css-extract-plugin
/* harmony default export */ const SubscriptionDashboard = ({});
;// ./src/pages/admin/SubscriptionDashboard.tsx
// ========================================
// TYPES & INTERFACES
// ========================================
// ========================================
// MAIN COMPONENT
// ========================================
const SubscriptionDashboard_SubscriptionDashboard=()=>{const[stats,setStats]=(0,react.useState)(null);const[subscriptions,setSubscriptions]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[currentPage,setCurrentPage]=(0,react.useState)(1);const[totalPages,setTotalPages]=(0,react.useState)(1);const[searchTerm,setSearchTerm]=(0,react.useState)('');const[statusFilter,setStatusFilter]=(0,react.useState)('all');// Modal states
const[showPaymentModal,setShowPaymentModal]=(0,react.useState)(false);const[selectedMember,setSelectedMember]=(0,react.useState)(null);const API_BASE="http://localhost:3001"||0;const token=localStorage.getItem('token');const axiosConfig={headers:{Authorization:"Bearer ".concat(token)}};// Fetch stats
(0,react.useEffect)(()=>{fetchStats();},[]);const fetchStats=async()=>{try{const{data}=await axios["default"].get("".concat(API_BASE,"/api/subscriptions/admin/subscriptions/stats"),axiosConfig);setStats(data);}catch(error){console.error('ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:',error);}};// Fetch subscriptions
(0,react.useEffect)(()=>{fetchSubscriptions();},[currentPage,searchTerm,statusFilter]);const fetchSubscriptions=async()=>{setLoading(true);try{const params=new URLSearchParams((0,objectSpread2["default"])((0,objectSpread2["default"])({page:currentPage.toString(),limit:'20'},searchTerm&&{search:searchTerm}),statusFilter!=='all'&&{status:statusFilter}));const{data}=await axios["default"].get("".concat(API_BASE,"/api/subscriptions/admin/subscriptions?").concat(params),axiosConfig);setSubscriptions(data.subscriptions);setTotalPages(Math.ceil(data.total/20));}catch(error){console.error('ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª:',error);}finally{setLoading(false);}};// Record payment handler
const handleRecordPayment=async paymentData=>{if(!selectedMember)return;try{const{data}=await axios["default"].post("".concat(API_BASE,"/api/subscriptions/admin/subscriptions/payment"),(0,objectSpread2["default"])({member_id:selectedMember.member_id},paymentData),axiosConfig);alert("\u062A\u0645 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u0641\u0639\u0629 \u0628\u0646\u062C\u0627\u062D!\n\u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u062C\u062F\u064A\u062F: ".concat(data.new_balance," \u0631\u064A\u0627\u0644\n\u0623\u0634\u0647\u0631 \u0645\u062F\u0641\u0648\u0639\u0629: ").concat(data.months_ahead));fetchStats();fetchSubscriptions();setShowPaymentModal(false);}catch(error){console.error('ÙØ´Ù„ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹Ø©:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹Ø©');}};// Send reminder handler
const handleSendReminder=async memberId=>{try{const{data}=await axios["default"].post("".concat(API_BASE,"/api/subscriptions/admin/subscriptions/reminder"),{member_ids:[memberId]},axiosConfig);alert("\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062A\u0630\u0643\u064A\u0631 \u0628\u0646\u062C\u0627\u062D! (".concat(data.sent," \u0631\u0633\u0627\u0644\u0629)"));}catch(error){console.error('ÙØ´Ù„ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ°ÙƒÙŠØ±:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ°ÙƒÙŠØ±');}};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"subscription-dashboard rtl",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"dashboard-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"dashboard-title",children:"\uD83D\uDCB3 \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>{fetchStats();fetchSubscriptions();},className:"refresh-btn",children:"\uD83D\uDD04 \u062A\u062D\u062F\u064A\u062B"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stats-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(StatCard,{title:"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0623\u0639\u0636\u0627\u0621",value:(stats===null||stats===void 0?void 0:stats.total_members)||0,icon:"\uD83D\uDC65",color:"blue"}),/*#__PURE__*/(0,jsx_runtime.jsx)(StatCard,{title:"\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A \u0646\u0634\u0637\u0629",value:(stats===null||stats===void 0?void 0:stats.active)||0,icon:"\u2705",color:"green"}),/*#__PURE__*/(0,jsx_runtime.jsx)(StatCard,{title:"\u0645\u062A\u0623\u062E\u0631\u0648\u0646",value:(stats===null||stats===void 0?void 0:stats.overdue)||0,icon:"\u26A0\uFE0F",color:"red"}),/*#__PURE__*/(0,jsx_runtime.jsx)(StatCard,{title:"\u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u0634\u0647\u0631\u064A\u0629",value:"".concat((stats===null||stats===void 0?void 0:stats.monthly_revenue)||0," \u0631\u064A\u0627\u0644"),icon:"\uD83D\uDCB0",color:"teal"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"filters-section",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"filters-grid",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062D\u062B \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641...",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:"search-input"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:statusFilter,onChange:e=>setStatusFilter(e.target.value),className:"filter-select",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"all",children:"\u0627\u0644\u0643\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"active",children:"\u0646\u0634\u0637"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"overdue",children:"\u0645\u062A\u0623\u062E\u0631"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>fetchSubscriptions(),className:"filter-btn",children:"\uD83D\uDD04 \u062A\u062D\u062F\u064A\u062B"})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"table-container",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("table",{className:"subscriptions-table",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("thead",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0627\u0633\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0647\u0627\u062A\u0641"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u062D\u0627\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0631\u0635\u064A\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0623\u0634\u0647\u0631 \u0645\u062F\u0641\u0648\u0639\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u062F\u0641\u0639\u0629 \u0627\u0644\u0642\u0627\u062F\u0645\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("th",{children:"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("tbody",{children:loading?/*#__PURE__*/(0,jsx_runtime.jsx)("tr",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("td",{colSpan:7,className:"loading-cell",children:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644..."})}):subscriptions.length===0?/*#__PURE__*/(0,jsx_runtime.jsx)("tr",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("td",{colSpan:7,className:"empty-cell",children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u062A\u0627\u0626\u062C"})}):subscriptions.map(sub=>/*#__PURE__*/(0,jsx_runtime.jsxs)("tr",{className:"table-row",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:sub.member_name}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{className:"phone-cell",children:sub.phone}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(StatusBadge,{status:sub.status})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("td",{children:[sub.current_balance," \u0631\u064A\u0627\u0644"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("td",{children:[sub.months_paid_ahead," \u0634\u0647\u0631"]}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:SubscriptionDashboard_formatDate(sub.next_payment_due)}),/*#__PURE__*/(0,jsx_runtime.jsx)("td",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"action-buttons",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>{setSelectedMember(sub);setShowPaymentModal(true);},className:"action-btn payment-btn",children:"\u062A\u0633\u062C\u064A\u0644 \u062F\u0641\u0639\u0629"}),sub.status==='overdue'&&/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>handleSendReminder(sub.member_id),className:"action-btn reminder-btn",children:"\u0625\u0631\u0633\u0627\u0644 \u062A\u0630\u0643\u064A\u0631"})]})})]},sub.member_id))})]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"pagination",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setCurrentPage(p=>Math.max(1,p-1)),disabled:currentPage===1,className:"page-btn",children:"\u0627\u0644\u0633\u0627\u0628\u0642"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"page-info",children:["\u0635\u0641\u062D\u0629 ",currentPage," \u0645\u0646 ",totalPages]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setCurrentPage(p=>Math.min(totalPages,p+1)),disabled:currentPage===totalPages,className:"page-btn",children:"\u0627\u0644\u062A\u0627\u0644\u064A"})]}),showPaymentModal&&selectedMember&&/*#__PURE__*/(0,jsx_runtime.jsx)(PaymentModal,{member:selectedMember,onSubmit:handleRecordPayment,onClose:()=>setShowPaymentModal(false)})]});};// ========================================
// SUB-COMPONENTS
// ========================================
const StatCard=_ref=>{let{title,value,icon,color}=_ref;return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"stat-card stat-card-".concat(color),children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-content",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"stat-text",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"stat-title",children:title}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"stat-value",children:value})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"stat-icon",children:icon})]})});};const StatusBadge=_ref2=>{let{status}=_ref2;return/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"status-badge status-".concat(status),children:status==='active'?'Ù†Ø´Ø· âœ“':'Ù…ØªØ£Ø®Ø± âš ï¸'});};const PaymentModal=_ref3=>{let{member,onSubmit,onClose}=_ref3;const[amount,setAmount]=(0,react.useState)(50);const[months,setMonths]=(0,react.useState)(1);const[paymentMethod,setPaymentMethod]=(0,react.useState)('cash');const[receiptNumber,setReceiptNumber]=(0,react.useState)('');const[notes,setNotes]=(0,react.useState)('');(0,react.useEffect)(()=>{setAmount(months*50);},[months]);const handleSubmit=e=>{e.preventDefault();onSubmit({amount,months,payment_method:paymentMethod,receipt_number:receiptNumber,notes});};return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"modal-overlay",onClick:onClose,children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"modal-title",children:"\u062A\u0633\u062C\u064A\u0644 \u062F\u0641\u0639\u0629 \u062C\u062F\u064A\u062F\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"member-info",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:"\u0627\u0644\u0627\u0633\u0645:"})," ",member.member_name]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:"\u0627\u0644\u0647\u0627\u062A\u0641:"})," ",member.phone]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("strong",{children:"\u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u062D\u0627\u0644\u064A:"})," ",member.current_balance," \u0631\u064A\u0627\u0644"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("form",{onSubmit:handleSubmit,className:"payment-form",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0639\u062F\u062F \u0627\u0644\u0623\u0634\u0647\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:months,onChange:e=>setMonths(Number(e.target.value)),required:true,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:1,children:"1 \u0634\u0647\u0631 (50 \u0631\u064A\u0627\u0644)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:2,children:"2 \u0634\u0647\u0631 (100 \u0631\u064A\u0627\u0644)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:3,children:"3 \u0623\u0634\u0647\u0631 (150 \u0631\u064A\u0627\u0644)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:6,children:"6 \u0623\u0634\u0647\u0631 (300 \u0631\u064A\u0627\u0644)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:12,children:"12 \u0634\u0647\u0631 (600 \u0631\u064A\u0627\u0644)"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0627\u0644\u0645\u0628\u0644\u063A (\u0631\u064A\u0627\u0644)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",value:amount,readOnly:true})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0637\u0631\u064A\u0642\u0629 \u0627\u0644\u062F\u0641\u0639"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("select",{value:paymentMethod,onChange:e=>setPaymentMethod(e.target.value),required:true,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"cash",children:"\u0646\u0642\u062F\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"bank_transfer",children:"\u062A\u062D\u0648\u064A\u0644 \u0628\u0646\u0643\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("option",{value:"online",children:"\u062F\u0641\u0639 \u0623\u0648\u0646\u0644\u0627\u064A\u0646"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0631\u0642\u0645 \u0627\u0644\u0625\u064A\u0635\u0627\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"text",value:receiptNumber,onChange:e=>setReceiptNumber(e.target.value),placeholder:"REC-2025-001"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{children:"\u0645\u0644\u0627\u062D\u0638\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("textarea",{value:notes,onChange:e=>setNotes(e.target.value),rows:3,placeholder:"\u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629..."})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"form-actions",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"submit",className:"submit-btn",children:"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u0641\u0639\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{type:"button",onClick:onClose,className:"cancel-btn",children:"\u0625\u0644\u063A\u0627\u0621"})]})]})]})});};// Helper function
const SubscriptionDashboard_formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleDateString('ar-SA');};/* harmony default export */ const admin_SubscriptionDashboard = (SubscriptionDashboard_SubscriptionDashboard);
;// ./src/pages/member/News.tsx
// @ts-nocheck
const News=()=>{const navigate=(0,dist.useNavigate)();const[news,setNews]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[page,setPage]=(0,react.useState)(1);const[hasMore,setHasMore]=(0,react.useState)(true);const[refreshing,setRefreshing]=(0,react.useState)(false);const[unreadCount,setUnreadCount]=(0,react.useState)(0);const observer=(0,react.useRef)();const API_URL="http://localhost:3001"||0;// Fetch unread count
(0,react.useEffect)(()=>{fetchUnreadCount();},[]);const fetchUnreadCount=async()=>{try{const token=localStorage.getItem('token');const memberId=localStorage.getItem('memberId');const response=await axios["default"].get("".concat(API_URL,"/news/notifications/unread-count?member_id=").concat(memberId),{headers:{Authorization:"Bearer ".concat(token)}});setUnreadCount(response.data.count||0);}catch(error){console.error('Error fetching unread count:',error);}};// Fetch news with pagination
const fetchNews=async function(){let pageNum=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let isRefresh=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;try{const token=localStorage.getItem('token');const response=await axios["default"].get("".concat(API_URL,"/news"),{params:{page:pageNum,limit:10,is_published:true},headers:{Authorization:"Bearer ".concat(token)}});const newNews=response.data.news||[];if(isRefresh){setNews(newNews);}else{setNews(prev=>pageNum===1?newNews:[...prev,...newNews]);}setHasMore(newNews.length===10);setLoading(false);setRefreshing(false);}catch(error){console.error('Fetch error:',error);setLoading(false);setRefreshing(false);}};// Initial load
(0,react.useEffect)(()=>{fetchNews(1);},[]);// Pull to refresh
const handleRefresh=(0,react.useCallback)(()=>{setRefreshing(true);setPage(1);fetchNews(1,true);fetchUnreadCount();},[]);// Infinite scroll - last element observer
const lastNewsElementRef=(0,react.useCallback)(node=>{if(loading)return;if(observer.current)observer.current.disconnect();observer.current=new IntersectionObserver(entries=>{if(entries[0].isIntersecting&&hasMore){setPage(prevPage=>{const nextPage=prevPage+1;fetchNews(nextPage);return nextPage;});}});if(node)observer.current.observe(node);},[loading,hasMore]);// Track view when news is clicked
const handleNewsClick=async newsItem=>{try{const token=localStorage.getItem('token');const memberId=localStorage.getItem('memberId');// Track view
await axios["default"].post("".concat(API_URL,"/news/").concat(newsItem.id,"/view"),{member_id:memberId},{headers:{Authorization:"Bearer ".concat(token)}});// Navigate to detail
navigate("/member/news/".concat(newsItem.id));}catch(error){console.error('Error tracking view:',error);navigate("/member/news/".concat(newsItem.id));}};const getCategoryColor=category=>{const colors={announcement:'bg-blue-500',urgent:'bg-red-500',event:'bg-purple-500',general:'bg-gray-500'};return colors[category]||'bg-gray-500';};const getCategoryText=category=>{const texts={announcement:'Ø¥Ø¹Ù„Ø§Ù†',urgent:'Ø¹Ø§Ø¬Ù„',event:'Ø­Ø¯Ø«',general:'Ø¹Ø§Ù…'};return texts[category]||category;};const getTimeAgo=dateString=>{const date=new Date(dateString);const now=new Date();const seconds=Math.floor((now-date)/1000);if(seconds<60)return'Ø§Ù„Ø¢Ù†';if(seconds<3600)return"\u0645\u0646\u0630 ".concat(Math.floor(seconds/60)," \u062F\u0642\u064A\u0642\u0629");if(seconds<86400)return"\u0645\u0646\u0630 ".concat(Math.floor(seconds/3600)," \u0633\u0627\u0639\u0629");if(seconds<604800)return"\u0645\u0646\u0630 ".concat(Math.floor(seconds/86400)," \u064A\u0648\u0645");return date.toLocaleDateString('ar-SA');};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white pb-20",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"sticky top-0 z-40 bg-white shadow-md",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"px-4 py-4",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"\u0627\u0644\u0623\u062E\u0628\u0627\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"relative",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>navigate('/member/notifications'),className:"relative p-2 bg-blue-50 rounded-full hover:bg-blue-100 transition-colors",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD14"}),unreadCount>0&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-pulse",children:unreadCount>99?'99+':unreadCount})]})})]})})}),refreshing&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex justify-center items-center py-4 bg-blue-50",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-sm text-blue-600 font-medium",children:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u062F\u064A\u062B..."})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"px-4 py-2 text-center text-sm text-gray-400",onTouchStart:e=>{const startY=e.touches[0].clientY;const onTouchMove=moveEvent=>{const currentY=moveEvent.touches[0].clientY;if(currentY-startY>80&&window.scrollY===0){handleRefresh();document.removeEventListener('touchmove',onTouchMove);}};document.addEventListener('touchmove',onTouchMove);document.addEventListener('touchend',()=>{document.removeEventListener('touchmove',onTouchMove);},{once:true});},children:"\u0627\u0633\u062D\u0628 \u0644\u0644\u062A\u062D\u062F\u064A\u062B"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"px-4 space-y-4 mt-4",children:news.map((item,index)=>{const isUrgent=item.category==='urgent';const isLastElement=index===news.length-1;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{ref:isLastElement?lastNewsElementRef:null,onClick:()=>handleNewsClick(item),className:"bg-white rounded-2xl shadow-lg overflow-hidden cursor-pointer transition-all duration-300 hover:shadow-xl ".concat(isUrgent?'ring-2 ring-red-500 animate-pulse-slow':''),children:[item.image_url&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"relative h-48 bg-gradient-to-r from-blue-400 to-purple-400",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:item.image_url,alt:item.title_ar,className:"w-full h-full object-cover",onError:e=>{e.target.style.display='none';}}),isUrgent&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-full font-bold shadow-lg flex items-center gap-2 animate-bounce",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u26A1"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0639\u0627\u062C\u0644"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"p-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"px-3 py-1 rounded-full text-xs text-white font-bold ".concat(getCategoryColor(item.category)),children:getCategoryText(item.category)}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-xs text-gray-400",children:getTimeAgo(item.created_at)})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2 line-clamp-2",children:item.title_ar||item.title_en}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:item.content_ar||item.content_en}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-4 text-sm text-gray-500",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\uD83D\uDC41\uFE0F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:item.views_count||0})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2764\uFE0F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:item.reactions_count||0})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"text-blue-600 font-bold text-sm hover:text-blue-700 flex items-center gap-1",onClick:e=>{e.stopPropagation();handleNewsClick(item);},children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0627\u0642\u0631\u0623 \u0627\u0644\u0645\u0632\u064A\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2190"})]})]})]})]},item.id);})}),loading&&page===1&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex justify-center items-center py-12",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),loading&&page>1&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex justify-center items-center py-8",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-sm text-gray-600",children:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644..."})]})}),!loading&&!hasMore&&news.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-4xl mb-2",children:"\u2713"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\u0644\u0627 \u064A\u0648\u062C\u062F \u0627\u0644\u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0623\u062E\u0628\u0627\u0631"})]}),!loading&&news.length===0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-center justify-center py-16",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-8xl mb-4",children:"\uD83D\uDCF0"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-xl text-gray-600 mb-2",children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0623\u062E\u0628\u0627\u0631 \u062D\u0627\u0644\u064A\u0627\u064B"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-400",children:"\u062A\u0627\u0628\u0639\u0646\u0627 \u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0622\u062E\u0631 \u0627\u0644\u0623\u062E\u0628\u0627\u0631"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("style",{jsx:true,children:"\n                @keyframes pulse-slow {\n                    0%, 100% { opacity: 1; }\n                    50% { opacity: 0.9; }\n                }\n                .animate-pulse-slow {\n                    animation: pulse-slow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n                }\n            "})]});};/* harmony default export */ const member_News = (News);
;// ./src/pages/member/NewsDetail.tsx
// @ts-nocheck
const NewsDetail=()=>{const{id}=(0,dist.useParams)();const navigate=(0,dist.useNavigate)();const[news,setNews]=(0,react.useState)(null);const[relatedNews,setRelatedNews]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[selectedReaction,setSelectedReaction]=(0,react.useState)(null);const[currentImageIndex,setCurrentImageIndex]=(0,react.useState)(0);const[shareSuccess,setShareSuccess]=(0,react.useState)(false);const API_URL="http://localhost:3001"||0;(0,react.useEffect)(()=>{fetchNewsDetail();},[id]);const fetchNewsDetail=async()=>{try{const token=localStorage.getItem('token');const memberId=localStorage.getItem('memberId');// Fetch news detail
const response=await axios["default"].get("".concat(API_URL,"/news/").concat(id),{headers:{Authorization:"Bearer ".concat(token)}});setNews(response.data.news);// Mark as read
await axios["default"].post("".concat(API_URL,"/news/").concat(id,"/read"),{member_id:memberId},{headers:{Authorization:"Bearer ".concat(token)}});// Fetch related news
const relatedResponse=await axios["default"].get("".concat(API_URL,"/news"),{params:{category:response.data.news.category,limit:3,exclude_id:id},headers:{Authorization:"Bearer ".concat(token)}});setRelatedNews(relatedResponse.data.news||[]);setLoading(false);}catch(error){console.error('Error fetching news:',error);setLoading(false);}};const handleReaction=async reactionType=>{try{const token=localStorage.getItem('token');const memberId=localStorage.getItem('memberId');await axios["default"].post("".concat(API_URL,"/news/").concat(id,"/react"),{member_id:memberId,reaction_type:reactionType},{headers:{Authorization:"Bearer ".concat(token)}});setSelectedReaction(reactionType);// Update local count
setNews(prev=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},prev),{},{reactions_count:(prev.reactions_count||0)+1}));}catch(error){console.error('Error adding reaction:',error);}};const handleShare=async()=>{try{const shareData={title:news.title_ar||news.title_en,text:news.content_ar||news.content_en,url:window.location.href};if(navigator.share){await navigator.share(shareData);}else{// Fallback: Copy to clipboard
await navigator.clipboard.writeText(window.location.href);setShareSuccess(true);setTimeout(()=>setShareSuccess(false),2000);}}catch(error){console.error('Error sharing:',error);}};const getCategoryColor=category=>{const colors={announcement:'bg-blue-500',urgent:'bg-red-500',event:'bg-purple-500',general:'bg-gray-500'};return colors[category]||'bg-gray-500';};const getCategoryText=category=>{const texts={announcement:'Ø¥Ø¹Ù„Ø§Ù†',urgent:'Ø¹Ø§Ø¬Ù„',event:'Ø­Ø¯Ø«',general:'Ø¹Ø§Ù…'};return texts[category]||category;};const getTimeAgo=dateString=>{const date=new Date(dateString);const now=new Date();const seconds=Math.floor((now-date)/1000);if(seconds<60)return'Ø§Ù„Ø¢Ù†';if(seconds<3600)return"\u0645\u0646\u0630 ".concat(Math.floor(seconds/60)," \u062F\u0642\u064A\u0642\u0629");if(seconds<86400)return"\u0645\u0646\u0630 ".concat(Math.floor(seconds/3600)," \u0633\u0627\u0639\u0629");if(seconds<604800)return"\u0645\u0646\u0630 ".concat(Math.floor(seconds/86400)," \u064A\u0648\u0645");return date.toLocaleDateString('ar-SA');};const reactions=[{type:'like',emoji:'ðŸ‘',label:'Ø¥Ø¹Ø¬Ø§Ø¨'},{type:'love',emoji:'â¤ï¸',label:'Ø­Ø¨'},{type:'celebrate',emoji:'ðŸŽ‰',label:'Ø§Ø­ØªÙØ§Ù„'},{type:'support',emoji:'ðŸ¤²',label:'Ø¯Ø¹Ø§Ø¡'}];if(loading){return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600"})});}if(!news){return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50 p-4",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-6xl mb-4",children:"\u274C"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"\u0627\u0644\u062E\u0628\u0631 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>navigate('/member/news'),className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"\u0627\u0644\u0639\u0648\u062F\u0629 \u0625\u0644\u0649 \u0627\u0644\u0623\u062E\u0628\u0627\u0631"})]});}const images=news.image_url?[news.image_url]:[];return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-24",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"sticky top-0 z-40 bg-white shadow-md",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"px-4 py-4 flex items-center gap-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>navigate(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-2xl",children:"\u2192"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"text-lg font-bold text-gray-800 flex-1",children:"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062E\u0628\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:handleShare,className:"p-2 hover:bg-gray-100 rounded-full transition-colors relative",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-2xl",children:"\u2197\uFE0F"}),shareSuccess&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"absolute top-0 right-0 text-xs bg-green-500 text-white px-2 py-1 rounded animate-bounce",children:"\u062A\u0645 \u0627\u0644\u0646\u0633\u062E"})]})]})}),images.length>0&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"relative bg-black",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"relative h-64 md:h-96 overflow-hidden",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:images[currentImageIndex],alt:news.title_ar,className:"w-full h-full object-contain"}),images.length>1&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setCurrentImageIndex(prev=>Math.max(0,prev-1)),className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white bg-opacity-70 hover:bg-opacity-90 rounded-full w-10 h-10 flex items-center justify-center",disabled:currentImageIndex===0,children:"\u2190"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setCurrentImageIndex(prev=>Math.min(images.length-1,prev+1)),className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white bg-opacity-70 hover:bg-opacity-90 rounded-full w-10 h-10 flex items-center justify-center",disabled:currentImageIndex===images.length-1,children:"\u2192"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:images.map((_,index)=>/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setCurrentImageIndex(index),className:"w-2 h-2 rounded-full transition-all ".concat(index===currentImageIndex?'bg-white w-6':'bg-white bg-opacity-50')},index))})]})]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"px-4 py-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"px-3 py-1 rounded-full text-sm text-white font-bold ".concat(getCategoryColor(news.category)),children:getCategoryText(news.category)}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-sm text-gray-500",children:getTimeAgo(news.created_at)})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4 leading-tight",children:news.title_ar||news.title_en}),news.title_en&&news.title_ar&&/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-xl text-gray-600 mb-4",dir:"ltr",children:news.title_en}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-6 text-sm text-gray-500 mb-6 pb-6 border-b border-gray-200",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\uD83D\uDC41\uFE0F"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:[news.views_count||0," \u0645\u0634\u0627\u0647\u062F\u0629"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2713"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:[news.reads_count||0," \u0642\u0631\u0627\u0621\u0629"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2764\uFE0F"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:[news.reactions_count||0," \u062A\u0641\u0627\u0639\u0644"]})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"prose prose-lg max-w-none mb-8",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap text-lg",children:news.content_ar||news.content_en}),news.content_en&&news.content_ar&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600 leading-relaxed whitespace-pre-wrap",dir:"ltr",children:news.content_en})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"\u0645\u0627 \u0631\u0623\u064A\u0643 \u0641\u064A \u0647\u0630\u0627 \u0627\u0644\u062E\u0628\u0631\u061F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-4 gap-3",children:reactions.map(reaction=>/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>handleReaction(reaction.type),disabled:selectedReaction!==null,className:"flex flex-col items-center gap-2 p-4 rounded-xl transition-all ".concat(selectedReaction===reaction.type?'bg-blue-100 ring-2 ring-blue-500 scale-110':selectedReaction?'bg-gray-100 opacity-50':'bg-gray-50 hover:bg-gray-100 hover:scale-105'),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-3xl",children:reaction.emoji}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-xs font-medium text-gray-700",children:reaction.label})]},reaction.type))}),selectedReaction&&/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-center text-sm text-green-600 mt-4 font-medium animate-bounce",children:"\u2713 \u0634\u0643\u0631\u0627\u064B \u0644\u062A\u0641\u0627\u0639\u0644\u0643!"})]}),relatedNews.length>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mb-8",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"\u0623\u062E\u0628\u0627\u0631 \u0630\u0627\u062A \u0635\u0644\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"space-y-3",children:relatedNews.map(item=>/*#__PURE__*/(0,jsx_runtime.jsx)("div",{onClick:()=>navigate("/member/news/".concat(item.id)),className:"bg-white rounded-xl shadow-md p-4 cursor-pointer hover:shadow-lg transition-shadow",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-3",children:[item.image_url&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-20 h-20 flex-shrink-0",children:/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:item.image_url,alt:item.title_ar,className:"w-full h-full object-cover rounded-lg"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex-1",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h4",{className:"font-bold text-gray-800 line-clamp-2 mb-1",children:item.title_ar||item.title_en}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-xs text-gray-500",children:getTimeAgo(item.created_at)})]})]})},item.id))})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-2xl border-t border-gray-200 p-4 z-50",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"max-w-2xl mx-auto flex gap-3",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>navigate(-1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 rounded-xl font-bold transition-colors",children:"\u0631\u062C\u0648\u0639"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:handleShare,className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-3 rounded-xl font-bold transition-all shadow-lg hover:shadow-xl",children:"\u0645\u0634\u0627\u0631\u0643\u0629"})]})})]});};/* harmony default export */ const member_NewsDetail = (NewsDetail);
;// ./src/pages/member/Notifications.tsx
// @ts-nocheck
const member_Notifications_Notifications=()=>{const navigate=(0,dist.useNavigate)();const[notifications,setNotifications]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[refreshing,setRefreshing]=(0,react.useState)(false);const API_URL="http://localhost:3001"||0;(0,react.useEffect)(()=>{fetchNotifications();},[]);const fetchNotifications=async function(){let isRefresh=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;try{if(isRefresh)setRefreshing(true);const token=localStorage.getItem('token');const memberId=localStorage.getItem('memberId');const response=await axios["default"].get("".concat(API_URL,"/news/notifications/my?member_id=").concat(memberId),{headers:{Authorization:"Bearer ".concat(token)}});setNotifications(response.data.notifications||[]);setLoading(false);setRefreshing(false);}catch(error){console.error('Error fetching notifications:',error);setLoading(false);setRefreshing(false);}};const handleNotificationClick=async notification=>{try{const token=localStorage.getItem('token');// Mark as read
if(!notification.is_read){await axios["default"].patch("".concat(API_URL,"/news/notifications/").concat(notification.id,"/read"),{},{headers:{Authorization:"Bearer ".concat(token)}});// Update local state
setNotifications(prev=>prev.map(n=>n.id===notification.id?(0,objectSpread2["default"])((0,objectSpread2["default"])({},n),{},{is_read:true}):n));}// Navigate to news detail
if(notification.news_id){navigate("/member/news/".concat(notification.news_id));}}catch(error){console.error('Error marking as read:',error);}};const handleMarkAllRead=async()=>{try{const token=localStorage.getItem('token');const memberId=localStorage.getItem('memberId');// Mark all as read
const unreadIds=notifications.filter(n=>!n.is_read).map(n=>n.id);await Promise.all(unreadIds.map(id=>axios["default"].patch("".concat(API_URL,"/news/notifications/").concat(id,"/read"),{},{headers:{Authorization:"Bearer ".concat(token)}})));// Update local state
setNotifications(prev=>prev.map(n=>(0,objectSpread2["default"])((0,objectSpread2["default"])({},n),{},{is_read:true})));}catch(error){console.error('Error marking all as read:',error);}};const handleRefresh=()=>{fetchNotifications(true);};const getTimeAgo=dateString=>{const date=new Date(dateString);const now=new Date();const seconds=Math.floor((now-date)/1000);if(seconds<60)return'Ø§Ù„Ø¢Ù†';if(seconds<3600)return"\u0645\u0646\u0630 ".concat(Math.floor(seconds/60)," \u062F\u0642\u064A\u0642\u0629");if(seconds<86400)return"\u0645\u0646\u0630 ".concat(Math.floor(seconds/3600)," \u0633\u0627\u0639\u0629");if(seconds<604800)return"\u0645\u0646\u0630 ".concat(Math.floor(seconds/86400)," \u064A\u0648\u0645");return date.toLocaleDateString('ar-SA');};const getNotificationIcon=type=>{const icons={news:'ðŸ“°',urgent:'âš ï¸',announcement:'ðŸ“¢',event:'ðŸ“…',general:'ðŸ’¬'};return icons[type]||'ðŸ””';};const unreadCount=notifications.filter(n=>!n.is_read).length;if(loading){return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600"})});}return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white pb-20",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"sticky top-0 z-40 bg-white shadow-md",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"px-4 py-4",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>navigate(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-2xl",children:"\u2192"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A"}),unreadCount>0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-sm text-blue-600 font-medium",children:[unreadCount," \u0625\u0634\u0639\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0631\u0648\u0621"]})]})]}),unreadCount>0&&/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:handleMarkAllRead,className:"text-sm bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"\u0642\u0631\u0627\u0621\u0629 \u0627\u0644\u0643\u0644"})]})})}),refreshing&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex justify-center items-center py-4 bg-blue-50",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-sm text-blue-600 font-medium",children:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u062F\u064A\u062B..."})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"px-4 py-2 text-center text-sm text-gray-400",onTouchStart:e=>{const startY=e.touches[0].clientY;const onTouchMove=moveEvent=>{const currentY=moveEvent.touches[0].clientY;if(currentY-startY>80&&window.scrollY===0){handleRefresh();document.removeEventListener('touchmove',onTouchMove);}};document.addEventListener('touchmove',onTouchMove);document.addEventListener('touchend',()=>{document.removeEventListener('touchmove',onTouchMove);},{once:true});},children:"\u0627\u0633\u062D\u0628 \u0644\u0644\u062A\u062D\u062F\u064A\u062B"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"px-4 space-y-2 mt-4",children:notifications.map(notification=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{onClick:()=>handleNotificationClick(notification),className:"relative cursor-pointer transition-all duration-300 rounded-2xl overflow-hidden ".concat(!notification.is_read?'bg-blue-50 border-2 border-blue-200 shadow-md':'bg-white border border-gray-200 shadow-sm hover:shadow-md'),children:[!notification.is_read&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-blue-600"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"p-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-3",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center ".concat(!notification.is_read?'bg-blue-100':'bg-gray-100'),children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-2xl",children:getNotificationIcon(notification.notification_type||'general')})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex-1 min-w-0",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"font-bold mb-1 line-clamp-2 ".concat(!notification.is_read?'text-gray-900':'text-gray-700'),children:notification.title||'Ø¥Ø´Ø¹Ø§Ø± Ø¬Ø¯ÙŠØ¯'}),notification.message&&/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm line-clamp-2 mb-2 ".concat(!notification.is_read?'text-gray-700':'text-gray-500'),children:notification.message}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\uD83D\uDD52"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:getTimeAgo(notification.created_at)})]})]}),!notification.is_read&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex-shrink-0",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-pulse"})})]}),notification.news_id&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{className:"text-sm text-blue-600 font-medium flex items-center gap-1 hover:gap-2 transition-all",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u2190"})]})})]})]},notification.id))}),notifications.length===0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-8xl mb-6",children:"\uD83D\uDD14"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0625\u0634\u0639\u0627\u0631\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600 text-center mb-6",children:"\u0633\u064A\u062A\u0645 \u0625\u0634\u0639\u0627\u0631\u0643 \u0639\u0646\u062F \u0648\u062C\u0648\u062F \u0623\u062E\u0628\u0627\u0631 \u062C\u062F\u064A\u062F\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>navigate('/member/news'),className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors font-medium",children:"\u062A\u0635\u0641\u062D \u0627\u0644\u0623\u062E\u0628\u0627\u0631"})]}),notifications.length>0&&unreadCount===0&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"mt-8 px-4",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl p-6 text-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-5xl mb-3",children:"\u2713"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"font-bold text-gray-800 mb-1",children:"\u0631\u0627\u0626\u0639!"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-600",children:"\u0644\u0642\u062F \u0642\u0631\u0623\u062A \u062C\u0645\u064A\u0639 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A"})]})}),notifications.length>0&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"mt-8 px-4 pb-8",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"font-bold text-gray-800 mb-4 text-center",children:"\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:notifications.length}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-xs text-gray-600",children:"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-1",children:notifications.filter(n=>n.is_read).length}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-xs text-gray-600",children:"\u0645\u0642\u0631\u0648\u0621"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-3xl font-bold text-red-600 mb-1",children:unreadCount}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-xs text-gray-600",children:"\u063A\u064A\u0631 \u0645\u0642\u0631\u0648\u0621"})]})]})]})})]});};/* harmony default export */ const member_Notifications = (member_Notifications_Notifications);
;// ./src/pages/member/Initiatives.tsx
// @ts-nocheck
const Initiatives=()=>{const navigate=(0,dist.useNavigate)();const[activeInitiatives,setActiveInitiatives]=(0,react.useState)([]);const[completedInitiatives,setCompletedInitiatives]=(0,react.useState)([]);const[myContributions,setMyContributions]=(0,react.useState)([]);const[loading,setLoading]=(0,react.useState)(true);const[activeTab,setActiveTab]=(0,react.useState)('active');// active, completed, myContributions
const[showContributeModal,setShowContributeModal]=(0,react.useState)(false);const[selectedInitiative,setSelectedInitiative]=(0,react.useState)(null);const[contributeAmount,setContributeAmount]=(0,react.useState)('');const[contributing,setContributing]=(0,react.useState)(false);const[successMessage,setSuccessMessage]=(0,react.useState)('');const API_URL="http://localhost:3001"||0;(0,react.useEffect)(()=>{fetchInitiatives();fetchMyContributions();},[]);const fetchInitiatives=async()=>{try{const token=localStorage.getItem('token');// Fetch active initiatives
const activeResponse=await axios["default"].get("".concat(API_URL,"/initiatives-enhanced/active"),{headers:{Authorization:"Bearer ".concat(token)}});setActiveInitiatives(activeResponse.data.initiatives||[]);// Fetch completed initiatives
const completedResponse=await axios["default"].get("".concat(API_URL,"/initiatives-enhanced/admin/all"),{params:{status:'completed'},headers:{Authorization:"Bearer ".concat(token)}});setCompletedInitiatives(completedResponse.data.initiatives||[]);setLoading(false);}catch(error){console.error('Error fetching initiatives:',error);setLoading(false);}};const fetchMyContributions=async()=>{try{const token=localStorage.getItem('token');const memberId=localStorage.getItem('memberId');const response=await axios["default"].get("".concat(API_URL,"/initiatives-enhanced/my-contributions?member_id=").concat(memberId),{headers:{Authorization:"Bearer ".concat(token)}});setMyContributions(response.data.contributions||[]);}catch(error){console.error('Error fetching contributions:',error);}};const handleContributeClick=initiative=>{setSelectedInitiative(initiative);setShowContributeModal(true);setContributeAmount('');};const handleContribute=async()=>{if(!contributeAmount||parseFloat(contributeAmount)<=0){alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­');return;}const amount=parseFloat(contributeAmount);const minAmount=parseFloat(selectedInitiative.min_contribution||0);const maxAmount=parseFloat(selectedInitiative.max_contribution||Infinity);if(minAmount&&amount<minAmount){alert("\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0645\u0633\u0627\u0647\u0645\u0629 \u0647\u0648 ".concat(minAmount," \u0631.\u0633"));return;}if(maxAmount&&amount>maxAmount){alert("\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0645\u0633\u0627\u0647\u0645\u0629 \u0647\u0648 ".concat(maxAmount," \u0631.\u0633"));return;}try{setContributing(true);const token=localStorage.getItem('token');const memberId=localStorage.getItem('memberId');await axios["default"].post("".concat(API_URL,"/initiatives-enhanced/").concat(selectedInitiative.id,"/contribute"),{member_id:memberId,amount:amount,payment_method:'cash'},{headers:{Authorization:"Bearer ".concat(token)}});setSuccessMessage('âœ“ ØªÙ…Øª Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­! Ø´ÙƒØ±Ø§Ù‹ Ù„Ø¯Ø¹Ù…Ùƒ');setTimeout(()=>{setShowContributeModal(false);setSuccessMessage('');fetchInitiatives();fetchMyContributions();},2000);}catch(error){var _error$response,_error$response$data;alert('Ø®Ø·Ø£: '+(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||error.message));}finally{setContributing(false);}};const getProgressPercentage=(current,target)=>{return Math.min(current/target*100,100).toFixed(0);};const getProgressColor=percentage=>{if(percentage>=75)return'from-green-500 to-green-600';if(percentage>=50)return'from-blue-500 to-blue-600';if(percentage>=25)return'from-yellow-500 to-yellow-600';return'from-red-500 to-red-600';};const formatCurrency=amount=>{return parseFloat(amount||0).toLocaleString('ar-SA',{minimumFractionDigits:0,maximumFractionDigits:0});};if(loading){return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600"})});}return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 to-white pb-20",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"sticky top-0 z-40 bg-white shadow-md",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"px-4 py-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>navigate(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-2xl",children:"\u2192"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"\u0627\u0644\u0645\u0628\u0627\u062F\u0631\u0627\u062A \u0627\u0644\u062E\u064A\u0631\u064A\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setActiveTab('active'),className:"px-6 py-2 rounded-lg font-bold transition-all whitespace-nowrap ".concat(activeTab==='active'?'bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg':'bg-gray-100 text-gray-600 hover:bg-gray-200'),children:["\u0627\u0644\u0646\u0634\u0637\u0629 (",activeInitiatives.length,")"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setActiveTab('completed'),className:"px-6 py-2 rounded-lg font-bold transition-all whitespace-nowrap ".concat(activeTab==='completed'?'bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg':'bg-gray-100 text-gray-600 hover:bg-gray-200'),children:["\u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629 (",completedInitiatives.length,")"]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{onClick:()=>setActiveTab('myContributions'),className:"px-6 py-2 rounded-lg font-bold transition-all whitespace-nowrap ".concat(activeTab==='myContributions'?'bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg':'bg-gray-100 text-gray-600 hover:bg-gray-200'),children:["\u0645\u0633\u0627\u0647\u0645\u0627\u062A\u064A (",myContributions.length,")"]})]})]})}),activeTab==='active'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"px-4 py-6 space-y-4",children:[activeInitiatives.map(initiative=>{const progress=getProgressPercentage(initiative.current_amount,initiative.target_amount);const remaining=initiative.target_amount-initiative.current_amount;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-gradient-to-r ".concat(getProgressColor(progress)," p-6 text-white"),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-xl font-bold mb-2",children:initiative.title_ar||initiative.title_en}),initiative.beneficiary_name_ar&&/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-sm opacity-90",children:["\u0627\u0644\u0645\u0633\u062A\u0641\u064A\u062F: ",initiative.beneficiary_name_ar]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"p-6",children:[initiative.description_ar&&/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-2",children:initiative.description_ar}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mb-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex justify-between text-sm font-bold mb-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-gray-700",children:"\u0627\u0644\u062A\u0642\u062F\u0645"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"text-blue-600",children:[progress,"%"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"bg-gradient-to-r ".concat(getProgressColor(progress)," h-4 rounded-full transition-all duration-1000 ease-out flex items-center justify-end px-2"),style:{width:"".concat(progress,"%")},children:progress>10&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"text-xs text-white font-bold",children:[progress,"%"]})})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062D\u0635\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-xl font-bold text-blue-600",children:[formatCurrency(initiative.current_amount),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-sm mr-1",children:"\u0631.\u0633"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0633\u062A\u0647\u062F\u0641"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-xl font-bold text-purple-600",children:[formatCurrency(initiative.target_amount),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-sm mr-1",children:"\u0631.\u0633"})]})]})]}),remaining>0&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-3 mb-4",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"\u0627\u0644\u0645\u062A\u0628\u0642\u064A \u0644\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0647\u062F\u0641"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:"text-lg font-bold text-yellow-600",children:[formatCurrency(remaining)," \u0631.\u0633"]})]})}),(initiative.min_contribution||initiative.max_contribution)&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-xs text-gray-500 mb-4 text-center",children:[initiative.min_contribution&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649: ",formatCurrency(initiative.min_contribution)," \u0631.\u0633"]}),initiative.min_contribution&&initiative.max_contribution&&/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:" | "}),initiative.max_contribution&&/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{children:["\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649: ",formatCurrency(initiative.max_contribution)," \u0631.\u0633"]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>handleContributeClick(initiative),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white py-4 rounded-xl font-bold text-lg transition-all shadow-lg hover:shadow-xl hover:scale-105",children:"\u0633\u0627\u0647\u0645 \u0627\u0644\u0622\u0646 \uD83E\uDD32"})]})]},initiative.id);}),activeInitiatives.length===0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-center py-16",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-8xl mb-4",children:"\uD83C\uDFAF"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0628\u0627\u062F\u0631\u0627\u062A \u0646\u0634\u0637\u0629 \u062D\u0627\u0644\u064A\u0627\u064B"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600",children:"\u062A\u0627\u0628\u0639\u0646\u0627 \u0644\u0645\u0639\u0631\u0641\u0629 \u0627\u0644\u0645\u0628\u0627\u062F\u0631\u0627\u062A \u0627\u0644\u062C\u062F\u064A\u062F\u0629"})]})]}),activeTab==='completed'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"px-4 py-6 space-y-4",children:[completedInitiatives.map(initiative=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-6 text-white",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"text-2xl",children:"\u2713"}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"font-bold",children:"\u0645\u0643\u062A\u0645\u0644\u0629"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"text-xl font-bold",children:initiative.title_ar||initiative.title_en})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"p-6",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062D\u0635\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[formatCurrency(initiative.current_amount)," \u0631.\u0633"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"\u0639\u062F\u062F \u0627\u0644\u0645\u0633\u0627\u0647\u0645\u064A\u0646"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:initiative.contributors_count||0})]})]})})]},initiative.id)),completedInitiatives.length===0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-center py-16",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-8xl mb-4",children:"\uD83C\uDFC6"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0628\u0627\u062F\u0631\u0627\u062A \u0645\u0643\u062A\u0645\u0644\u0629"})]})]}),activeTab==='myContributions'&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"px-4 py-6 space-y-4",children:[myContributions.map(contribution=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex-1",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"font-bold text-gray-800 mb-1",children:contribution.initiative_title}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-500",children:new Date(contribution.created_at).toLocaleDateString('ar-SA')})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-right",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:formatCurrency(contribution.amount)}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-sm text-gray-500",children:"\u0631.\u0633"})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"inline-block px-3 py-1 rounded-full text-sm ".concat(contribution.status==='approved'?'bg-green-100 text-green-800':contribution.status==='pending'?'bg-yellow-100 text-yellow-800':'bg-gray-100 text-gray-800'),children:contribution.status==='approved'?'ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©':contribution.status==='pending'?'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©':contribution.status})]},contribution.id)),myContributions.length===0&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-center py-16",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-8xl mb-4",children:"\uD83E\uDD32"}),/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"\u0644\u0645 \u062A\u0633\u0627\u0647\u0645 \u0628\u0639\u062F"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-gray-600 mb-6",children:"\u0627\u0628\u062F\u0623 \u0628\u0627\u0644\u0645\u0633\u0627\u0647\u0645\u0629 \u0641\u064A \u0627\u0644\u0645\u0628\u0627\u062F\u0631\u0627\u062A \u0627\u0644\u062E\u064A\u0631\u064A\u0629"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setActiveTab('active'),className:"bg-purple-600 text-white px-8 py-3 rounded-xl hover:bg-purple-700 font-bold",children:"\u062A\u0635\u0641\u062D \u0627\u0644\u0645\u0628\u0627\u062F\u0631\u0627\u062A"})]})]}),showContributeModal&&selectedInitiative&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-6 rounded-t-2xl",children:/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"text-2xl font-bold text-center",children:"\u0627\u0644\u0645\u0633\u0627\u0647\u0645\u0629"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"p-6",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h3",{className:"font-bold text-gray-800 mb-4 text-center",children:selectedInitiative.title_ar}),successMessage?/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"text-center py-8",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"text-6xl mb-4 animate-bounce",children:"\u2713"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"text-xl font-bold text-green-600",children:successMessage})]}):/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mb-6",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"\u0627\u0644\u0645\u0628\u0644\u063A (\u0631.\u0633)"}),/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"number",value:contributeAmount,onChange:e=>setContributeAmount(e.target.value),placeholder:"\u0623\u062F\u062E\u0644 \u0627\u0644\u0645\u0628\u0644\u063A",className:"w-full px-4 py-4 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-lg font-bold text-center",min:"0",step:"1"}),selectedInitiative.min_contribution&&/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649: ",formatCurrency(selectedInitiative.min_contribution)," \u0631.\u0633"]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"flex gap-3",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:()=>setShowContributeModal(false),disabled:contributing,className:"flex-1 bg-gray-100 hover:bg-gray-200 py-3 rounded-xl font-bold transition-colors",children:"\u0625\u0644\u063A\u0627\u0621"}),/*#__PURE__*/(0,jsx_runtime.jsx)("button",{onClick:handleContribute,disabled:contributing,className:"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white py-3 rounded-xl font-bold transition-all shadow-lg disabled:opacity-50",children:contributing?'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©...':'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©'})]})]})]})]})})]});};/* harmony default export */ const member_Initiatives = (Initiatives);
;// ./src/App.tsx
// Mobile Pages
// Admin Pages
// Member Pages - News & Initiatives
// Admin Dashboard Component
const AdminDashboard=()=>{const[formData,setFormData]=react.useState({email:'',password:'',role:'super_admin'// Default to super admin for admin login
});// Check localStorage for existing session
const[isLoggedIn,setIsLoggedIn]=react.useState(()=>{const savedSession=localStorage.getItem('isLoggedIn');const isLogged=savedSession==='true';// If already logged in, redirect to dashboard
if(isLogged&&window.location.pathname==='/login'){window.location.href='/admin/dashboard';}return isLogged;});const handleChange=e=>{setFormData((0,objectSpread2["default"])((0,objectSpread2["default"])({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();// Optimized login - instant response
const API_URL="http://localhost:3001"||0;try{const response=await fetch("".concat(API_URL,"/api/auth/login"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:formData.email,password:formData.password,role:formData.role||'super_admin'})});const data=await response.json();if(data.success){// Save login state and user data instantly
localStorage.setItem('isLoggedIn','true');localStorage.setItem('token',data.token);localStorage.setItem('user',JSON.stringify(data.user));localStorage.setItem('userEmail',formData.email);// Pre-cache dashboard data
localStorage.setItem('loginTime',Date.now().toString());// Navigate to admin dashboard instead of just setting state
window.location.href='/admin/dashboard';}else{showToast({message:data.error||'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„',type:'error'});}}catch(error){console.error('Login error:',error);showToast({message:'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰',type:'error'});}};const handleLogout=()=>{setIsLoggedIn(false);setFormData({email:'',password:'',role:'super_admin'});// Clear all auth data from localStorage
localStorage.removeItem('isLoggedIn');localStorage.removeItem('userEmail');localStorage.removeItem('token');localStorage.removeItem('user');localStorage.removeItem('auth_token');localStorage.removeItem('user_data');// Redirect to login page
window.location.href='/login';};// Don't show dashboard here - let routes handle it
// if (isLoggedIn) {
//   return <StyledDashboard onLogout={handleLogout} />;
// }
return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modern-login-container",dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"modern-bg-pattern"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modern-circles",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"circle circle-1"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"circle circle-2"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"circle circle-3"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("main",{className:"modern-main-content",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modern-login-card",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modern-card-header",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"modern-logo-wrapper",children:/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:logo,alt:"Shuail Al-Anzi Fund"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("h1",{className:"modern-title",children:"\u0635\u0646\u062F\u0648\u0642 \u0634\u0639\u064A\u0644 \u0627\u0644\u0639\u0646\u0632\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"modern-subtitle",children:"Shuail Al-Anzi Fund"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"modern-system-text",children:"S.A.F Management System"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modern-form-container",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modern-welcome",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("h2",{className:"modern-welcome-title",children:"\u0645\u0631\u062D\u0628\u0627\u064B \u0628\u0643"}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"modern-welcome-subtitle",children:"\u0633\u062C\u0651\u0644 \u062F\u062E\u0648\u0644\u0643 \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645"})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("form",{className:"modern-login-form",onSubmit:handleSubmit,dir:"rtl",children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modern-input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{htmlFor:"email",className:"modern-input-label",children:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modern-input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"email",id:"email",name:"email",value:formData.email,onChange:handleChange,placeholder:"admin@alshuail.com",className:"modern-input-field",required:true,dir:"ltr"}),/*#__PURE__*/(0,jsx_runtime.jsx)("svg",{className:"modern-input-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:/*#__PURE__*/(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modern-input-group",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("label",{htmlFor:"password",className:"modern-input-label",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"modern-input-wrapper",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("input",{type:"password",id:"password",name:"password",value:formData.password,onChange:handleChange,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"modern-input-field",required:true,dir:"ltr"}),/*#__PURE__*/(0,jsx_runtime.jsx)("svg",{className:"modern-input-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:/*#__PURE__*/(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("button",{type:"submit",className:"modern-login-button",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"}),/*#__PURE__*/(0,jsx_runtime.jsx)("svg",{className:"modern-button-arrow",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:/*#__PURE__*/(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"modern-footer-links",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{className:"modern-secure-text",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("svg",{className:"modern-lock-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:/*#__PURE__*/(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"\u0627\u062A\u0635\u0627\u0644 \u0622\u0645\u0646 \u0648\u0645\u0634\u0641\u0631"]})})]})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("footer",{className:"modern-footer",children:/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:"\xA9 2024 \u0646\u0638\u0627\u0645 \u0627\u0644\u0634\u0639\u064A\u0644. \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0642 \u0645\u062D\u0641\u0648\u0638\u0629."})})]});};const App_App=()=>{// Debug current path
react.useEffect(()=>{console.log('ðŸš€ App rendered, current path:',window.location.pathname);},[]);return/*#__PURE__*/(0,jsx_runtime.jsx)(AuthProvider,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(RoleProvider,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(dist.BrowserRouter,{children:/*#__PURE__*/(0,jsx_runtime.jsxs)(dist.Routes,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/mobile/login",element:/*#__PURE__*/(0,jsx_runtime.jsx)(mobile_Login,{})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/mobile/change-password",element:/*#__PURE__*/(0,jsx_runtime.jsx)(MemberRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(mobile_ChangePassword,{})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/mobile/dashboard",element:/*#__PURE__*/(0,jsx_runtime.jsx)(MemberRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(mobile_Dashboard,{})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/mobile/profile",element:/*#__PURE__*/(0,jsx_runtime.jsx)(MemberRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(mobile_Profile,{})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/mobile/payment",element:/*#__PURE__*/(0,jsx_runtime.jsx)(MemberRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(mobile_Payment,{})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/mobile/payment-history",element:/*#__PURE__*/(0,jsx_runtime.jsx)(MemberRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(mobile_PaymentHistory,{})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/mobile/notifications",element:/*#__PURE__*/(0,jsx_runtime.jsx)(MemberRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(mobile_Notifications,{})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/mobile/subscription",element:/*#__PURE__*/(0,jsx_runtime.jsx)(MemberRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(mobile_MemberSubscriptionView,{})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/mobile/subscriptions",element:/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/mobile/subscription",replace:true})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/mobile/news",element:/*#__PURE__*/(0,jsx_runtime.jsx)(MemberRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(member_News,{})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/mobile/news/:id",element:/*#__PURE__*/(0,jsx_runtime.jsx)(MemberRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(member_NewsDetail,{})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/mobile/member-notifications",element:/*#__PURE__*/(0,jsx_runtime.jsx)(MemberRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(member_Notifications,{})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/mobile/initiatives",element:/*#__PURE__*/(0,jsx_runtime.jsx)(MemberRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(member_Initiatives,{})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/mobile",element:/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/mobile/login",replace:true})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/register/:token",element:/*#__PURE__*/(0,jsx_runtime.jsx)(Members_MemberRegistration,{})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/apple-register",element:/*#__PURE__*/(0,jsx_runtime.jsx)(Members_AppleRegistrationForm,{})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/premium-register",element:/*#__PURE__*/(0,jsx_runtime.jsx)(Registration_PremiumRegistration,{})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/member",element:/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/mobile/login",replace:true})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/member/*",element:/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/mobile/login",replace:true})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/family-tree",element:/*#__PURE__*/(0,jsx_runtime.jsx)(AdminRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(components_StyledDashboard,{onLogout:()=>{localStorage.clear();window.location.href='/login';}})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/admin/dashboard",element:/*#__PURE__*/(0,jsx_runtime.jsx)(AdminRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(components_StyledDashboard,{onLogout:()=>{localStorage.removeItem('token');localStorage.removeItem('user');window.location.href='/login';}})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/admin/subscriptions",element:/*#__PURE__*/(0,jsx_runtime.jsx)(AdminRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(admin_SubscriptionDashboard,{})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/subscriptions",element:/*#__PURE__*/(0,jsx_runtime.jsx)(AdminRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(admin_SubscriptionDashboard,{})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/admin/news",element:/*#__PURE__*/(0,jsx_runtime.jsx)(AdminRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(admin_NewsManagement,{})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/admin/initiatives",element:/*#__PURE__*/(0,jsx_runtime.jsx)(AdminRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(admin_InitiativesManagement,{})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/admin/*",element:/*#__PURE__*/(0,jsx_runtime.jsx)(AdminRoute,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(components_StyledDashboard,{onLogout:()=>{localStorage.removeItem('token');localStorage.removeItem('user');window.location.href='/login';}})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/login",element:/*#__PURE__*/(0,jsx_runtime.jsx)(AdminDashboard,{})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"/",element:/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/login",replace:true})}),/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Route,{path:"*",element:/*#__PURE__*/(0,jsx_runtime.jsx)(dist.Navigate,{to:"/login",replace:true})})]})})})});};/* harmony default export */ const src_App = (App_App);
;// ./src/reportWebVitals.ts
const reportWebVitals=onPerfEntry=>{if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 121).then(__webpack_require__.bind(__webpack_require__, 8206)).then(_ref=>{let{getCLS,getFID,getFCP,getLCP,getTTFB}=_ref;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ const src_reportWebVitals = (reportWebVitals);
;// ./src/utils/performance.ts
// Performance optimization utilities
// Debounce function for search and input handlers
function debounce(func,wait){let timeout=null;return function executedFunction(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}const later=()=>{timeout=null;func(...args);};if(timeout){clearTimeout(timeout);}timeout=setTimeout(later,wait);};}// Throttle function for scroll and resize handlers
function throttle(func,limit){let inThrottle=false;return function executedFunction(){if(!inThrottle){func(...arguments);inThrottle=true;setTimeout(()=>{inThrottle=false;},limit);}};}// Virtual scrolling helper for large lists
function calculateVisibleRange(scrollTop,options){const{items,itemHeight,containerHeight,overscan=3}=options;const startIndex=Math.max(0,Math.floor(scrollTop/itemHeight)-overscan);const endIndex=Math.min(items.length-1,Math.ceil((scrollTop+containerHeight)/itemHeight)+overscan);return{startIndex,endIndex,visibleItems:items.slice(startIndex,endIndex+1),offsetY:startIndex*itemHeight,totalHeight:items.length*itemHeight};}// Image lazy loading with intersection observer
function lazyLoadImages(){let selector=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'img[data-src]';const images=document.querySelectorAll(selector);if('IntersectionObserver'in window){const imageObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){const img=entry.target;const src=img.dataset.src;if(src){img.src=src;img.removeAttribute('data-src');img.classList.add('loaded');observer.unobserve(img);}}});},{rootMargin:'50px 0px',threshold:0.01});images.forEach(img=>imageObserver.observe(img));}else{// Fallback for older browsers
images.forEach(img=>{const src=img.dataset.src;if(src){img.src=src;img.removeAttribute('data-src');}});}}// Measure component render performance
function measurePerformance(componentName){const startMark="".concat(componentName,"-start");const endMark="".concat(componentName,"-end");const measureName="".concat(componentName,"-render");return{start:()=>{if(performance.mark){performance.mark(startMark);}},end:()=>{if(performance.mark&&performance.measure){performance.mark(endMark);performance.measure(measureName,startMark,endMark);const measure=performance.getEntriesByName(measureName)[0];if(measure){console.log("".concat(componentName," rendered in ").concat(measure.duration.toFixed(2),"ms"));}// Clean up marks
performance.clearMarks(startMark);performance.clearMarks(endMark);performance.clearMeasures(measureName);}}};}// Request idle callback wrapper
function whenIdle(callback){let timeout=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2000;if('requestIdleCallback'in window){window.requestIdleCallback(callback,{timeout});}else{setTimeout(callback,0);}}// Prefetch data for anticipated user actions
function prefetchData(urls){if('IntersectionObserver'in window&&'fetch'in window){urls.forEach(url=>{whenIdle(()=>{fetch(url,{method:'GET',headers:{'Content-Type':'application/json','Authorization':"Bearer ".concat(localStorage.getItem('token')||'')}}).catch(()=>{// Silently fail prefetch
});});});}}// Memory management - clean up large objects
function cleanupMemory(obj){if(obj&&typeof obj==='object'){Object.keys(obj).forEach(key=>{delete obj[key];});}}// Register service worker with PWA capabilities
async function registerServiceWorker(){if('serviceWorker'in navigator){try{// Register our new PWA service worker
const registration=await navigator.serviceWorker.register('/sw.js',{scope:'/'});console.log('ðŸš€ PWA Service Worker registered successfully:',registration.scope);// Handle service worker updates
registration.addEventListener('updatefound',()=>{const newWorker=registration.installing;if(newWorker){console.log('ðŸ”„ New service worker installing...');newWorker.addEventListener('statechange',()=>{console.log('SW state changed:',newWorker.state);if(newWorker.state==='installed'&&navigator.serviceWorker.controller){console.log('âœ… New service worker available');// Show update notification to user
showUpdateNotification();}});}});// Listen for controlling service worker change
navigator.serviceWorker.addEventListener('controllerchange',()=>{console.log('ðŸ”„ Service worker controller changed, reloading...');window.location.reload();});// Check if there's a waiting service worker
if(registration.waiting){console.log('â³ Service worker waiting to activate');showUpdateNotification();}// Periodic update check (every 30 minutes)
setInterval(()=>{registration.update();},30*60*1000);return registration;}catch(error){console.error('âŒ Service Worker registration failed:',error);throw error;}}else{console.warn('âš ï¸ Service Workers not supported in this browser');}}// Show update notification to user
function showUpdateNotification(){// Create a toast notification for updates
const notification=document.createElement('div');notification.id='sw-update-notification';notification.style.cssText="\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    background: linear-gradient(135deg, #007AFF 0%, #5856D6 100%);\n    color: white;\n    padding: 16px 20px;\n    border-radius: 12px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n    backdrop-filter: blur(10px);\n    z-index: 10000;\n    max-width: 300px;\n    font-family: 'Cairo', sans-serif;\n    direction: rtl;\n    text-align: center;\n    transform: translateX(100%);\n    transition: transform 0.3s ease;\n  ";notification.innerHTML="\n    <div style=\"margin-bottom: 10px; font-weight: 600;\">\u062A\u062D\u062F\u064A\u062B \u0645\u062A\u0648\u0641\u0631</div>\n    <div style=\"margin-bottom: 15px; font-size: 0.9rem; opacity: 0.9;\">\n      \u064A\u0648\u062C\u062F \u062A\u062D\u062F\u064A\u062B \u062C\u062F\u064A\u062F \u0644\u0644\u062A\u0637\u0628\u064A\u0642. \u064A\u0631\u062C\u0649 \u0625\u0639\u0627\u062F\u0629 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0635\u0641\u062D\u0629 \u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0623\u062D\u062F\u062B \u0627\u0644\u0645\u064A\u0632\u0627\u062A.\n    </div>\n    <button id=\"sw-update-btn\" style=\"\n      background: white;\n      color: #007AFF;\n      border: none;\n      padding: 8px 16px;\n      border-radius: 8px;\n      font-weight: 600;\n      cursor: pointer;\n      margin-left: 10px;\n    \">\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0622\u0646</button>\n    <button id=\"sw-dismiss-btn\" style=\"\n      background: transparent;\n      color: white;\n      border: 1px solid rgba(255,255,255,0.5);\n      padding: 8px 16px;\n      border-radius: 8px;\n      cursor: pointer;\n    \">\u0644\u0627\u062D\u0642\u0627\u064B</button>\n  ";document.body.appendChild(notification);// Animate in
setTimeout(()=>{notification.style.transform='translateX(0)';},100);// Handle update button click
const updateBtn=notification.querySelector('#sw-update-btn');updateBtn===null||updateBtn===void 0?void 0:updateBtn.addEventListener('click',()=>{// Tell the waiting service worker to activate
if(navigator.serviceWorker.controller){navigator.serviceWorker.controller.postMessage({type:'SKIP_WAITING'});}window.location.reload();});// Handle dismiss button click
const dismissBtn=notification.querySelector('#sw-dismiss-btn');dismissBtn===null||dismissBtn===void 0?void 0:dismissBtn.addEventListener('click',()=>{notification.style.transform='translateX(100%)';setTimeout(()=>notification.remove(),300);});// Auto dismiss after 10 seconds
setTimeout(()=>{if(notification.parentNode){notification.style.transform='translateX(100%)';setTimeout(()=>notification.remove(),300);}},10000);}// Performance monitoring
function initPerformanceMonitoring(){// Monitor Largest Contentful Paint
if('PerformanceObserver'in window){try{const lcpObserver=new PerformanceObserver(entryList=>{const entries=entryList.getEntries();const lastEntry=entries[entries.length-1];console.log('LCP:',lastEntry.startTime.toFixed(2)+'ms');});lcpObserver.observe({type:'largest-contentful-paint',buffered:true});}catch(e){// LCP observer not supported
}// Monitor First Input Delay
try{const fidObserver=new PerformanceObserver(entryList=>{const entries=entryList.getEntries();entries.forEach(entry=>{// Type assertion for first-input entries
const fidEntry=entry;if(fidEntry.processingStart){const delay=fidEntry.processingStart-fidEntry.startTime;console.log('FID:',delay.toFixed(2)+'ms');}});});fidObserver.observe({type:'first-input',buffered:true});}catch(e){// FID observer not supported
}}// Monitor memory usage (if available)
if('memory'in performance){setInterval(()=>{const memInfo=performance.memory;const usedMB=(memInfo.usedJSHeapSize/1048576).toFixed(2);const totalMB=(memInfo.totalJSHeapSize/1048576).toFixed(2);if(parseFloat(usedMB)>parseFloat(totalMB)*0.9){console.warn("High memory usage: ".concat(usedMB,"MB / ").concat(totalMB,"MB"));}},30000);// Check every 30 seconds
}}/* harmony default export */ const utils_performance = ({debounce,throttle,calculateVisibleRange,lazyLoadImages,measurePerformance,whenIdle,prefetchData,cleanupMemory,registerServiceWorker,initPerformanceMonitoring});
;// ./src/index.tsx
// Initialize performance monitoring
initPerformanceMonitoring();// Register service worker for caching
// TEMPORARILY DISABLED - Service worker was caching API responses
// registerServiceWorker();
const root=client.createRoot(document.getElementById('root'));root.render(/*#__PURE__*/(0,jsx_runtime.jsx)(react.StrictMode,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(src_App,{})}));// Report web vitals for performance tracking
src_reportWebVitals(metric=>{// Log to console in development
if(false)// removed by dead control flow
{}// You can also send to analytics here
// Example: sendToAnalytics(metric);
});

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var chunkIds = deferred[i][0];
/******/ 				var fn = deferred[i][1];
/******/ 				var priority = deferred[i][2];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/create fake namespace object */
/******/ 	(() => {
/******/ 		var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);
/******/ 		var leafPrototypes;
/******/ 		// create a fake namespace object
/******/ 		// mode & 1: value is a module id, require it
/******/ 		// mode & 2: merge all properties of value into the ns
/******/ 		// mode & 4: return value when already ns object
/******/ 		// mode & 16: return value when it's Promise-like
/******/ 		// mode & 8|1: behave like require
/******/ 		__webpack_require__.t = function(value, mode) {
/******/ 			if(mode & 1) value = this(value);
/******/ 			if(mode & 8) return value;
/******/ 			if(typeof value === 'object' && value) {
/******/ 				if((mode & 4) && value.__esModule) return value;
/******/ 				if((mode & 16) && typeof value.then === 'function') return value;
/******/ 			}
/******/ 			var ns = Object.create(null);
/******/ 			__webpack_require__.r(ns);
/******/ 			var def = {};
/******/ 			leafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];
/******/ 			for(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {
/******/ 				Object.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));
/******/ 			}
/******/ 			def['default'] = () => (value);
/******/ 			__webpack_require__.d(ns, def);
/******/ 			return ns;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		// The chunk loading function for additional chunks
/******/ 		// Since all referenced chunks are already included
/******/ 		// in this file, this function is empty here.
/******/ 		__webpack_require__.e = () => (Promise.resolve());
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "/";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			792: 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var chunkIds = data[0];
/******/ 			var moreModules = data[1];
/******/ 			var runtime = data[2];
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkalshuail_admin_arabic"] = self["webpackChunkalshuail_admin_arabic"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, [121], () => (__webpack_require__(7704)))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;